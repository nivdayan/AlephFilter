
[34mÎ” bitmap_implementations/QuickBitVector.java[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m152[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;203mstatic[38;5;231m [38;5;81mlong[38;5;203m[][38;5;231m makeBitVector([38;5;81mlong[38;5;231m size, [38;5;81mint[38;5;231m bitsPerElement) { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 152[34mâ”‚[38;5;231m        [38;5;81mlong[38;5;203m[][38;5;231m bitVector [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[unitIndex [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m];[0m                                                                                                 [34mâ”‚[38;5;238m 152[34mâ”‚[38;5;231m        [38;5;81mlong[38;5;203m[][38;5;231m bitVector [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[unitIndex [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m];[0m
[34mâ”‚[38;5;238m 153[34mâ”‚[38;5;231m        [38;5;203mreturn[38;5;231m bitVector;[0m                                                                                                                           [34mâ”‚[38;5;238m 153[34mâ”‚[38;5;231m        [38;5;203mreturn[38;5;231m bitVector;[0m
[34mâ”‚[38;5;238m 154[34mâ”‚[38;5;231m}[0m                                                                                                                                                   [34mâ”‚[38;5;238m 154[34mâ”‚[38;5;231m}[0m
[34mâ”‚[38;5;88m 155[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 156[34mâ”‚[38;5;242m/**[0m                                                                                                                                                 [34mâ”‚[38;5;238m 155[34mâ”‚[38;5;242m/**[0m
[34mâ”‚[38;5;238m 157[34mâ”‚[38;5;242mReturns the index of the most significant bit in state "true".[0m                                                                                      [34mâ”‚[38;5;238m 156[34mâ”‚[38;5;242mReturns the index of the most significant bit in state "true".[0m
[34mâ”‚[38;5;238m 158[34mâ”‚[38;5;242mReturns -1 if no bit is in state "true".[0m                                                                                                            [34mâ”‚[38;5;238m 157[34mâ”‚[38;5;242mReturns -1 if no bit is in state "true".[0m

[34mÎ” filters/BasicInfiniFilter.java[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m62[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mBasicInfiniFilter[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mQuotientFilter[38;5;231m [38;5;203mimplements[38;5;231m [38;5;149mCloneable[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 62 [34mâ”‚[38;5;231m        }[0m                                                                                                                                           [34mâ”‚[38;5;238m 62 [34mâ”‚[38;5;231m        }[0m
[34mâ”‚[38;5;238m 63 [34mâ”‚[38;5;231m        [0m                                                                                                                                            [34mâ”‚[38;5;238m 63 [34mâ”‚[38;5;231m        [0m
[34mâ”‚[38;5;238m 64 [34mâ”‚[38;5;231m        [38;5;203mprotected[38;5;231m [38;5;81mboolean[38;5;231m compare([38;5;81mlong[38;5;231m index, [38;5;81mlong[38;5;231m fingerprint, [38;5;81mlong[38;5;231m generation) {[0m                                                                  [34mâ”‚[38;5;238m 64 [34mâ”‚[38;5;231m        [38;5;203mprotected[38;5;231m [38;5;81mboolean[38;5;231m compare([38;5;81mlong[38;5;231m index, [38;5;81mlong[38;5;231m fingerprint, [38;5;81mlong[38;5;231m generation) {[0m
[34mâ”‚[38;5;88m 65 [34mâ”‚[48;5;52;38;5;231m                [38;5;81mlong[38;5;231m first_fp_bit [38;5;203m=[38;5;231m index [38;5;203m*[38;5;231m (bitPerEntry) [38;5;203m+[38;5;231m [38;5;141m3[38;5;231m;[0m[48;5;52m                                                                                      [0m[34mâ”‚[38;5;28m 65 [34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m first_fp_bit [38;5;203m=[38;5;231m index [38;5;203m*[38;5;231m (bitPerEntry[48;5;28m [38;5;203m+[38;5;231m payloadSize[48;5;22m) [38;5;203m+[38;5;231m [38;5;141m3[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 66 [34mâ”‚[38;5;231m                [38;5;81mlong[38;5;231m last_fp_bit [38;5;203m=[38;5;231m first_fp_bit [38;5;203m+[38;5;231m fingerprintLength [38;5;203m-[38;5;231m (generation [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m);[0m                                                             [34mâ”‚[38;5;238m 66 [34mâ”‚[38;5;231m                [38;5;81mlong[38;5;231m last_fp_bit [38;5;203m=[38;5;231m first_fp_bit [38;5;203m+[38;5;231m fingerprintLength [38;5;203m-[38;5;231m (generation [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m);[0m
[34mâ”‚[38;5;238m 67 [34mâ”‚[38;5;231m                [38;5;81mlong[38;5;231m actual_fp_length [38;5;203m=[38;5;231m last_fp_bit [38;5;203m-[38;5;231m first_fp_bit;[0m                                                                                 [34mâ”‚[38;5;238m 67 [34mâ”‚[38;5;231m                [38;5;81mlong[38;5;231m actual_fp_length [38;5;203m=[38;5;231m last_fp_bit [38;5;203m-[38;5;231m first_fp_bit;[0m
[34mâ”‚[38;5;238m 68 [34mâ”‚[38;5;231m                [38;5;81mlong[38;5;231m mask [38;5;203m=[38;5;231m ([38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m actual_fp_length) [38;5;203m-[38;5;231m [38;5;141m1[38;5;81mL[38;5;231m;[0m                                                                                          [34mâ”‚[38;5;238m 68 [34mâ”‚[38;5;231m                [38;5;81mlong[38;5;231m mask [38;5;203m=[38;5;231m ([38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m actual_fp_length) [38;5;203m-[38;5;231m [38;5;141m1[38;5;81mL[38;5;231m;[0m

[34mÎ” filters/BloomFilter.java[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m100[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mBloomFilter[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mFilter[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 100[34mâ”‚[38;5;231m                [38;5;203mreturn[38;5;231m [38;5;141mtrue[38;5;231m;[0m                                                                                                                        [34mâ”‚[38;5;238m 100[34mâ”‚[38;5;231m                [38;5;203mreturn[38;5;231m [38;5;141mtrue[38;5;231m;[0m
[34mâ”‚[38;5;238m 101[34mâ”‚[38;5;231m        }[0m                                                                                                                                           [34mâ”‚[38;5;238m 101[34mâ”‚[38;5;231m        }[0m
[34mâ”‚[38;5;238m 102[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 102[34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 103[34mâ”‚[48;5;22;38;5;231m        @Override[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 104[34mâ”‚[48;5;22;38;5;231m        [38;5;203mprotected[38;5;231m [38;5;81mlong[38;5;203m[][][38;5;231m _search_for_payloads([38;5;81mlong[38;5;231m large_hash) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 105[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m0[38;5;231m][];[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 106[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 107[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 103[34mâ”‚[38;5;231m        @Override[0m                                                                                                                                   [34mâ”‚[38;5;238m 108[34mâ”‚[38;5;231m        @Override[0m
[34mâ”‚[38;5;238m 104[34mâ”‚[38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m get_num_occupied_slots([38;5;81mboolean[38;5;231m include_all_internal_filters) {[0m                                                                  [34mâ”‚[38;5;238m 109[34mâ”‚[38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m get_num_occupied_slots([38;5;81mboolean[38;5;231m include_all_internal_filters) {[0m
[34mâ”‚[38;5;238m 105[34mâ”‚[38;5;231m                [38;5;203mreturn[38;5;231m current_num_entries;[0m                                                                                                         [34mâ”‚[38;5;238m 110[34mâ”‚[38;5;231m                [38;5;203mreturn[38;5;231m current_num_entries;[0m

[34mÎ” filters/Client.java[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m66[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mClient[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 66 [34mâ”‚[38;5;231m                [38;5;149mSystem[38;5;231m.out.println([38;5;186m"success"[38;5;231m);[0m                                                                                                      [34mâ”‚[38;5;238m 66 [34mâ”‚[38;5;231m                [38;5;149mSystem[38;5;231m.out.println([38;5;186m"success"[38;5;231m);[0m
[34mâ”‚[38;5;238m 67 [34mâ”‚[38;5;231m                [0m                                                                                                                                    [34mâ”‚[38;5;238m 67 [34mâ”‚[38;5;231m                [0m
[34mâ”‚[38;5;238m 68 [34mâ”‚[38;5;231m        }[0m                                                                                                                                           [34mâ”‚[38;5;238m 68 [34mâ”‚[38;5;231m        }[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 69 [34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 70 [34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 69 [34mâ”‚[38;5;231m}[0m                                                                                                                                                   [34mâ”‚[38;5;238m 71 [34mâ”‚[38;5;231m}[0m

[34mÎ” filters/CuckooFilter.java[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m227[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mCuckooFilter[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mFilter[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 227[34mâ”‚[38;5;231m                [38;5;203mreturn[38;5;231m exist;[0m                                                                                                                       [34mâ”‚[38;5;238m 227[34mâ”‚[38;5;231m                [38;5;203mreturn[38;5;231m exist;[0m
[34mâ”‚[38;5;238m 228[34mâ”‚[38;5;231m        }[0m                                                                                                                                           [34mâ”‚[38;5;238m 228[34mâ”‚[38;5;231m        }[0m
[34mâ”‚[38;5;238m 229[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 229[34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 230[34mâ”‚[48;5;22;38;5;231m        @Override[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 231[34mâ”‚[48;5;22;38;5;231m        [38;5;203mprotected[38;5;231m [38;5;81mlong[38;5;203m[][][38;5;231m _search_for_payloads([38;5;81mlong[38;5;231m large_hash) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 232[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m0[38;5;231m][];[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 233[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 234[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 230[34mâ”‚[38;5;231m        @Override[0m                                                                                                                                   [34mâ”‚[38;5;238m 235[34mâ”‚[38;5;231m        @Override[0m
[34mâ”‚[38;5;238m 231[34mâ”‚[38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m get_num_occupied_slots([38;5;81mboolean[38;5;231m include_all_internal_filters) {[0m                                                                  [34mâ”‚[38;5;238m 236[34mâ”‚[38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m get_num_occupied_slots([38;5;81mboolean[38;5;231m include_all_internal_filters) {[0m
[34mâ”‚[38;5;238m 232[34mâ”‚[38;5;231m                [38;5;81mlong[38;5;231m num_entries [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m                                                                                                               [34mâ”‚[38;5;238m 237[34mâ”‚[38;5;231m                [38;5;81mlong[38;5;231m num_entries [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m

[34mÎ” filters/DuplicatingChainedInfiniFilter.java[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m464[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mDuplicatingChainedInfiniFilter[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mChainedInfiniFilter[38;5;231m implemen [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 464[34mâ”‚[38;5;231m                [38;5;203mif[38;5;231m (matching_fingerprint [38;5;203m==[38;5;231m empty_fingerprint) {[0m                                                                                    [34mâ”‚[38;5;238m 464[34mâ”‚[38;5;231m                [38;5;203mif[38;5;231m (matching_fingerprint [38;5;203m==[38;5;231m empty_fingerprint) {[0m
[34mâ”‚[38;5;238m 465[34mâ”‚[38;5;231m                        [0m                                                                                                                            [34mâ”‚[38;5;238m 465[34mâ”‚[38;5;231m                        [0m
[34mâ”‚[38;5;238m 466[34mâ”‚[38;5;231m                        [38;5;203mif[38;5;231m (lazy_void_deletes) {[0m                                                                                                    [34mâ”‚[38;5;238m 466[34mâ”‚[38;5;231m                        [38;5;203mif[38;5;231m (lazy_void_deletes) {[0m
[34mâ”‚[38;5;88m 467[34mâ”‚[48;5;52;38;5;231m                                filter.set(matching_fingerprint_index [38;5;203m*[38;5;231m (bitPerEntry) [38;5;203m+[38;5;231m [38;5;141m3[38;5;231m, [38;5;141mtrue[38;5;231m);[0m[48;5;52m                                                   [0m[34mâ”‚[38;5;28m 467[34mâ”‚[48;5;22;38;5;231m                                filter.set(matching_fingerprint_index [38;5;203m*[38;5;231m (bitPerEntry[48;5;28m [38;5;203m+[38;5;231m payloadSize[48;5;22m) [38;5;203m+[38;5;231m [38;5;141m3[38;5;231m, [38;5;141mtrue[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 468[34mâ”‚[38;5;231m                                deleted_void_entries.add(slot_index);[0m                                                                               [34mâ”‚[38;5;238m 468[34mâ”‚[38;5;231m                                deleted_void_entries.add(slot_index);[0m
[34mâ”‚[38;5;238m 469[34mâ”‚[38;5;231m                        }[0m                                                                                                                           [34mâ”‚[38;5;238m 469[34mâ”‚[38;5;231m                        }[0m
[34mâ”‚[38;5;238m 470[34mâ”‚[38;5;231m                        [38;5;203melse[38;5;231m {[0m                                                                                                                      [34mâ”‚[38;5;238m 470[34mâ”‚[38;5;231m                        [38;5;203melse[38;5;231m {[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m474[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mDuplicatingChainedInfiniFilter[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mChainedInfiniFilter[38;5;231m implemen [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 474[34mâ”‚[38;5;231m                [38;5;203melse[38;5;231m {[0m                                                                                                                              [34mâ”‚[38;5;238m 474[34mâ”‚[38;5;231m                [38;5;203melse[38;5;231m {[0m
[34mâ”‚[38;5;238m 475[34mâ”‚[38;5;231m                        [0m                                                                                                                            [34mâ”‚[38;5;238m 475[34mâ”‚[38;5;231m                        [0m
[34mâ”‚[38;5;238m 476[34mâ”‚[38;5;231m                        [38;5;203mif[38;5;231m (lazy_new_deletes) {[0m                                                                                                     [34mâ”‚[38;5;238m 476[34mâ”‚[38;5;231m                        [38;5;203mif[38;5;231m (lazy_new_deletes) {[0m
[34mâ”‚[38;5;88m 477[34mâ”‚[48;5;52;38;5;231m                                filter.set(matching_fingerprint_index [38;5;203m*[38;5;231m (bitPerEntry) [38;5;203m+[38;5;231m [38;5;141m3[38;5;231m, [38;5;141mtrue[38;5;231m);[0m[48;5;52m                                                   [0m[34mâ”‚[38;5;28m 477[34mâ”‚[48;5;22;38;5;231m                                filter.set(matching_fingerprint_index [38;5;203m*[38;5;231m (bitPerEntry[48;5;28m [38;5;203m+[38;5;231m payloadSize[48;5;22m) [38;5;203m+[38;5;231m [38;5;141m3[38;5;231m, [38;5;141mtrue[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 478[34mâ”‚[38;5;231m                                deleted_void_entries.add(slot_index);[0m                                                                               [34mâ”‚[38;5;238m 478[34mâ”‚[38;5;231m                                deleted_void_entries.add(slot_index);[0m
[34mâ”‚[38;5;238m 479[34mâ”‚[38;5;231m                        }[0m                                                                                                                           [34mâ”‚[38;5;238m 479[34mâ”‚[38;5;231m                        }[0m
[34mâ”‚[38;5;238m 480[34mâ”‚[38;5;231m                        [38;5;203melse[38;5;231m {[0m                                                                                                                      [34mâ”‚[38;5;238m 480[34mâ”‚[38;5;231m                        [38;5;203melse[38;5;231m {[0m

[34mÎ” filters/Filter.java[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m33[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;203mabstract[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mFilter[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 33 [34mâ”‚[38;5;231m        [38;5;203mabstract[38;5;231m [38;5;203mprotected[38;5;231m [38;5;81mboolean[38;5;231m _insert_payload([38;5;81mlong[38;5;231m large_hash, [38;5;81mboolean[38;5;231m insert_only_if_no_match, [38;5;81mlong[38;5;203m[][38;5;231m payload);[0m                               [34mâ”‚[38;5;238m 33 [34mâ”‚[38;5;231m        [38;5;203mabstract[38;5;231m [38;5;203mprotected[38;5;231m [38;5;81mboolean[38;5;231m _insert_payload([38;5;81mlong[38;5;231m large_hash, [38;5;81mboolean[38;5;231m insert_only_if_no_match, [38;5;81mlong[38;5;203m[][38;5;231m payload);[0m
[34mâ”‚[38;5;238m 34 [34mâ”‚[38;5;231m        [38;5;203mabstract[38;5;231m [38;5;203mprotected[38;5;231m [38;5;81mboolean[38;5;231m _search([38;5;81mlong[38;5;231m large_hash);[0m                                                                                        [34mâ”‚[38;5;238m 34 [34mâ”‚[38;5;231m        [38;5;203mabstract[38;5;231m [38;5;203mprotected[38;5;231m [38;5;81mboolean[38;5;231m _search([38;5;81mlong[38;5;231m large_hash);[0m
[34mâ”‚[38;5;238m 35 [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 35 [34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 36 [34mâ”‚[48;5;22;38;5;231m        [38;5;203mabstract[38;5;231m [38;5;203mprotected[38;5;231m [38;5;81mlong[38;5;203m[][][38;5;231m _search_for_payloads([38;5;81mlong[38;5;231m large_hash);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 37 [34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 36 [34mâ”‚[38;5;231m        @Override[0m                                                                                                                                   [34mâ”‚[38;5;238m 38 [34mâ”‚[38;5;231m        @Override[0m
[34mâ”‚[38;5;238m 37 [34mâ”‚[38;5;231m        [38;5;203mpublic[38;5;231m [38;5;149mObject[38;5;231m clone() {[0m                                                                                                                     [34mâ”‚[38;5;238m 39 [34mâ”‚[38;5;231m        [38;5;203mpublic[38;5;231m [38;5;149mObject[38;5;231m clone() {[0m
[34mâ”‚[38;5;238m 38 [34mâ”‚[38;5;231m                [38;5;149mFilter[38;5;231m f [38;5;203m=[38;5;231m [38;5;141mnull[38;5;231m;[0m                                                                                                                    [34mâ”‚[38;5;238m 40 [34mâ”‚[38;5;231m                [38;5;149mFilter[38;5;231m f [38;5;203m=[38;5;231m [38;5;141mnull[38;5;231m;[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m126[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;203mabstract[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mFilter[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 124[34mâ”‚[38;5;231m                [38;5;203mreturn[38;5;231m _search(get_hash(input));[0m                                                                                                    [34mâ”‚[38;5;238m 126[34mâ”‚[38;5;231m                [38;5;203mreturn[38;5;231m _search(get_hash(input));[0m
[34mâ”‚[38;5;238m 125[34mâ”‚[38;5;231m        }[0m                                                                                                                                           [34mâ”‚[38;5;238m 127[34mâ”‚[38;5;231m        }[0m
[34mâ”‚[38;5;238m 126[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 128[34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 129[34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;203m[][][38;5;231m search_for_payloads([38;5;81mlong[38;5;231m input) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 130[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m _search_for_payloads(get_hash(input));[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 131[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 132[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 127[34mâ”‚[38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mboolean[38;5;231m search([38;5;149mString[38;5;231m input) {[0m                                                                                                       [34mâ”‚[38;5;238m 133[34mâ”‚[38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mboolean[38;5;231m search([38;5;149mString[38;5;231m input) {[0m
[34mâ”‚[38;5;238m 128[34mâ”‚[38;5;231m                [38;5;149mByteBuffer[38;5;231m input_buffer [38;5;203m=[38;5;231m [38;5;149mByteBuffer[38;5;231m.wrap(input.getBytes([38;5;149mStandardCharsets[38;5;231m.[38;5;141mUTF_8[38;5;231m));[0m                                                  [34mâ”‚[38;5;238m 134[34mâ”‚[38;5;231m                [38;5;149mByteBuffer[38;5;231m input_buffer [38;5;203m=[38;5;231m [38;5;149mByteBuffer[38;5;231m.wrap(input.getBytes([38;5;149mStandardCharsets[38;5;231m.[38;5;141mUTF_8[38;5;231m));[0m
[34mâ”‚[38;5;238m 129[34mâ”‚[38;5;231m                [38;5;203mreturn[38;5;231m _search([38;5;149mHashFunctions[38;5;231m.xxhash(input_buffer));[0m                                                                                 [34mâ”‚[38;5;238m 135[34mâ”‚[38;5;231m                [38;5;203mreturn[38;5;231m _search([38;5;149mHashFunctions[38;5;231m.xxhash(input_buffer));[0m

[34mÎ” filters/QuotientFilter.java[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m1[0m: [34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m  1 [34mâ”‚[38;5;203mpackage[38;5;231m [38;5;149mfilters[38;5;231m;[0m                                                                                                                                    [34mâ”‚[38;5;238m  1 [34mâ”‚[38;5;203mpackage[38;5;231m [38;5;149mfilters[38;5;231m;[0m
[34mâ”‚[38;5;238m  2 [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m  2 [34mâ”‚[0m
[34mâ”‚[38;5;88m  3 [34mâ”‚[48;5;52;38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mnio[38;5;231m.[38;5;149mcharset[38;5;231m.[38;5;149mStandardCharsets[38;5;231m;[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m  4 [34mâ”‚[38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mutil[38;5;231m.[38;5;203m*[38;5;231m;[0m                                                                                                                                 [34mâ”‚[38;5;238m  3 [34mâ”‚[38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mutil[38;5;231m.[38;5;203m*[38;5;231m;[0m
[34mâ”‚[38;5;238m  5 [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m  4 [34mâ”‚[0m
[34mâ”‚[38;5;238m  6 [34mâ”‚[38;5;203mimport[38;5;231m [38;5;149mbitmap_implementations[38;5;231m.[38;5;149mBitmap[38;5;231m;[0m                                                                                                               [34mâ”‚[38;5;238m  5 [34mâ”‚[38;5;203mimport[38;5;231m [38;5;149mbitmap_implementations[38;5;231m.[38;5;149mBitmap[38;5;231m;[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m7[0m:[38;5;231m [38;5;203mimport[38;5;231m [38;5;149mbitmap_implementations[38;5;231m.[38;5;149mQuickBitVectorWrapper[38;5;231m; [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m  8 [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m  7 [34mâ”‚[0m
[34mâ”‚[38;5;238m  9 [34mâ”‚[38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mQuotientFilter[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mFilter[38;5;231m [38;5;203mimplements[38;5;231m [38;5;149mCloneable[38;5;231m {[0m                                                                                   [34mâ”‚[38;5;238m  8 [34mâ”‚[38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mQuotientFilter[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mFilter[38;5;231m [38;5;203mimplements[38;5;231m [38;5;149mCloneable[38;5;231m {[0m
[34mâ”‚[38;5;238m 10 [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m  9 [34mâ”‚[0m
[34mâ”‚[38;5;88m 11 [34mâ”‚[48;5;52;38;5;231m    [38;5;81mint[38;5;231m bitPerEntry;[0m[48;5;52m                                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 12 [34mâ”‚[48;5;52;38;5;231m    [38;5;81mint[38;5;231m fingerprintLength;[0m[48;5;52m                                                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 13 [34mâ”‚[48;5;52;38;5;231m    [38;5;81mint[38;5;231m payloadSize;[0m[48;5;52m                                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 14 [34mâ”‚[48;5;52;38;5;231m    [38;5;81mint[38;5;231m power_of_two_size;[0m[48;5;52m                                                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 15 [34mâ”‚[48;5;52;38;5;231m    [38;5;81mint[38;5;231m num_extension_slots;[0m[48;5;52m                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 16 [34mâ”‚[48;5;52;38;5;231m    [38;5;81mint[38;5;231m num_physical_entries;[0m[48;5;52m                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 17 [34mâ”‚[48;5;52;38;5;231m    [38;5;149mBitmap[38;5;231m filter;[0m[48;5;52m                                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 18 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 19 [34mâ”‚[48;5;52;38;5;231m    [38;5;242m// These three fields are used to prevent throwing exceptions when the buffer space of the filter is exceeded[0m[48;5;52m                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 20 [34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;231m last_empty_slot;[0m[48;5;52m                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 21 [34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;231m last_cluster_start;[0m[48;5;52m                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 22 [34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m backward_steps;[0m[48;5;52m                                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 23 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 24 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 25 [34mâ”‚[48;5;52;38;5;231m    [38;5;81mboolean[38;5;231m expand_autonomously;[0m[48;5;52m                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 26 [34mâ”‚[48;5;52;38;5;231m    [38;5;81mboolean[38;5;231m is_full;[0m[48;5;52m                                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 27 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 28 [34mâ”‚[48;5;52;38;5;231m    [38;5;242m// statistics, computed in the compute_statistics method. method should be called before these are used[0m[48;5;52m                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 29 [34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;231m num_runs;[0m[48;5;52m                                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 30 [34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;231m num_clusters;[0m[48;5;52m                                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 31 [34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mdouble[38;5;231m avg_run_length;[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 32 [34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mdouble[38;5;231m avg_cluster_length;[0m[48;5;52m                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 33 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 34 [34mâ”‚[48;5;52;38;5;231m    [38;5;81mint[38;5;231m original_fingerprint_size;[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 35 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 36 [34mâ”‚[48;5;52;38;5;231m    @Override[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 37 [34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;149mObject[38;5;231m [38;5;149mclone[38;5;231m() {[0m[48;5;52m                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 38 [34mâ”‚[48;5;52;38;5;231m        [38;5;149mQuotientFilter[38;5;231m f [38;5;203m=[38;5;231m [38;5;141mnull[38;5;231m;[0m[48;5;52m                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 39 [34mâ”‚[48;5;52;38;5;231m        f [38;5;203m=[38;5;231m ([38;5;149mQuotientFilter[38;5;231m) super.clone();[0m[48;5;52m                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 40 [34mâ”‚[48;5;52;38;5;231m        f.filter [38;5;203m=[38;5;231m ([38;5;149mBitmap[38;5;231m) filter.clone();[0m[48;5;52m                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 41 [34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m f;[0m[48;5;52m                                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 42 [34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 43 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 44 [34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;149mQuotientFilter[38;5;231m([38;5;81mint[38;5;231m [38;5;208mpower_of_two[38;5;231m, [38;5;81mint[38;5;231m [38;5;208mbits_per_entry[38;5;231m, [38;5;81mint[38;5;231m [38;5;208mpayload_size[38;5;231m) {[0m[48;5;52m                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 45 [34mâ”‚[48;5;52;38;5;231m        power_of_two_size [38;5;203m=[38;5;231m power_of_two;[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 46 [34mâ”‚[48;5;52;38;5;231m        bitPerEntry [38;5;203m=[38;5;231m bits_per_entry;[0m[48;5;52m                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 47 [34mâ”‚[48;5;52;38;5;231m        fingerprintLength [38;5;203m=[38;5;231m bits_per_entry [38;5;203m-[38;5;231m [38;5;141m3[38;5;231m;[0m[48;5;52m                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 48 [34mâ”‚[48;5;52;38;5;231m        payloadSize [38;5;203m=[38;5;231m payload_size;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 49 [34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m init_size [38;5;203m=[38;5;231m [38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m power_of_two;[0m[48;5;52m                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 50 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 51 [34mâ”‚[48;5;52;38;5;231m        [38;5;242m// grava what is it?[0m[48;5;52m                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 52 [34mâ”‚[48;5;52;38;5;231m        num_extension_slots [38;5;203m=[38;5;231m power_of_two [38;5;203m*[38;5;231m [38;5;141m2[38;5;231m;[0m[48;5;52m                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 53 [34mâ”‚[48;5;52;38;5;231m        filter [38;5;203m=[38;5;231m make_filter(init_size, bits_per_entry [38;5;203m+[38;5;231m payload_size);[0m[48;5;52m                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 54 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 55 [34mâ”‚[48;5;52;38;5;231m        fullness_threshold [38;5;203m=[38;5;231m [38;5;141m0.8[38;5;231m;[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 56 [34mâ”‚[48;5;52;38;5;231m        max_entries_before_full [38;5;203m=[38;5;231m ([38;5;81mint[38;5;231m) (init_size [38;5;203m*[38;5;231m fullness_threshold);[0m[48;5;52m                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 57 [34mâ”‚[48;5;52;38;5;231m        expand_autonomously [38;5;203m=[38;5;231m [38;5;141mtrue[38;5;231m;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 58 [34mâ”‚[48;5;52;38;5;231m        is_full [38;5;203m=[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;52m                                                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 59 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 60 [34mâ”‚[48;5;52;38;5;231m        original_fingerprint_size [38;5;203m=[38;5;231m fingerprintLength;[0m[48;5;52m                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 61 [34mâ”‚[48;5;52;38;5;231m        num_expansions [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 62 [34mâ”‚[48;5;52;38;5;231m        hash_type [38;5;203m=[38;5;231m [38;5;149mHashType[38;5;231m.xxh;[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 63 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 64 [34mâ”‚[48;5;52;38;5;231m        last_empty_slot [38;5;203m=[38;5;231m init_size [38;5;203m+[38;5;231m num_extension_slots [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 65 [34mâ”‚[48;5;52;38;5;231m        last_cluster_start [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 66 [34mâ”‚[48;5;52;38;5;231m        backward_steps [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 67 [34mâ”‚[48;5;52;38;5;231m        [38;5;242m//measure_num_bits_per_entry();[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 68 [34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 69 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 70 [34mâ”‚[48;5;52;38;5;231m    [38;5;81mvoid[38;5;231m [38;5;149msetup[38;5;231m() {[0m[48;5;52m                                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 71 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 72 [34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 73 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 74 [34mâ”‚[48;5;52;38;5;231m    [38;5;242m//nuevo[0m[48;5;52m                                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 75 [34mâ”‚[48;5;52;38;5;231m    [38;5;81mvoid[38;5;231m [38;5;149mupdate[38;5;231m([38;5;81mlong[38;5;231m [38;5;208minit_size[38;5;231m) {[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 76 [34mâ”‚[48;5;52;38;5;231m        last_empty_slot [38;5;203m=[38;5;231m init_size [38;5;203m+[38;5;231m num_extension_slots [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 77 [34mâ”‚[48;5;52;38;5;231m        last_cluster_start [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 78 [34mâ”‚[48;5;52;38;5;231m        backward_steps [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 79 [34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 80 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 81 [34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mboolean[38;5;231m [38;5;149mrejuvenate[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mkey[38;5;231m) {[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 82 [34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;52m                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 83 [34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 84 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 85 [34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m [38;5;149mget_num_physical_entries[38;5;231m() {[0m[48;5;52m                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 86 [34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m num_physical_entries;[0m[48;5;52m                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 87 [34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 88 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 89 [34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m [38;5;149mget_max_entries_before_expansion[38;5;231m() {[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 90 [34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m max_entries_before_full;[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 91 [34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 92 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 93 [34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mboolean[38;5;231m [38;5;149mexpand_autonomously[38;5;231m() {[0m[48;5;52m                                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 94 [34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m expand_autonomously;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 95 [34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 96 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 97 [34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mvoid[38;5;231m [38;5;149mset_expand_autonomously[38;5;231m([38;5;81mboolean[38;5;231m [38;5;208mval[38;5;231m) {[0m[48;5;52m                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 98 [34mâ”‚[48;5;52;38;5;231m        expand_autonomously [38;5;203m=[38;5;231m val;[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 99 [34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 100[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 101[34mâ”‚[48;5;52;38;5;231m    [38;5;149mBitmap[38;5;231m [38;5;149mmake_filter[38;5;231m([38;5;81mlong[38;5;231m [38;5;208minit_size[38;5;231m, [38;5;81mint[38;5;231m [38;5;208mbits_per_entry[38;5;231m) {[0m[48;5;52m                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 102[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mQuickBitVectorWrapper[38;5;231m(bits_per_entry, init_size [38;5;203m+[38;5;231m num_extension_slots);[0m[48;5;52m                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 103[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 104[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 105[34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mint[38;5;231m [38;5;149mget_fingerprint_length[38;5;231m() {[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 106[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m fingerprintLength;[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 107[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 108[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 109[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// grava[0m[48;5;52m                                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 110[34mâ”‚[48;5;52;38;5;231m    [38;5;149mQuotientFilter[38;5;231m([38;5;81mint[38;5;231m [38;5;208mpower_of_two[38;5;231m, [38;5;81mint[38;5;231m [38;5;208mbits_per_entry[38;5;231m, [38;5;149mBitmap[38;5;231m [38;5;208mbitmap[38;5;231m, [38;5;81mint[38;5;231m [38;5;208mpayload_size[38;5;231m) {[0m[48;5;52m                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 111[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 112[34mâ”‚[48;5;52;38;5;231m        power_of_two_size [38;5;203m=[38;5;231m power_of_two;[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 113[34mâ”‚[48;5;52;38;5;231m        bitPerEntry [38;5;203m=[38;5;231m bits_per_entry;[0m[48;5;52m                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 114[34mâ”‚[48;5;52;38;5;231m        fingerprintLength [38;5;203m=[38;5;231m bits_per_entry [38;5;203m-[38;5;231m [38;5;141m3[38;5;231m;[0m[48;5;52m                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 115[34mâ”‚[48;5;52;38;5;231m        payloadSize [38;5;203m=[38;5;231m payload_size;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 116[34mâ”‚[48;5;52;38;5;231m        filter [38;5;203m=[38;5;231m bitmap;[0m[48;5;52m                                                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 117[34mâ”‚[48;5;52;38;5;231m        num_extension_slots [38;5;203m=[38;5;231m power_of_two [38;5;203m*[38;5;231m [38;5;141m2[38;5;231m;[0m[48;5;52m                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 118[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 119[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//nuevo[0m[48;5;52m                                                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 120[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m init_size [38;5;203m=[38;5;231m [38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m power_of_two;[0m[48;5;52m                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 121[34mâ”‚[48;5;52;38;5;231m        last_empty_slot [38;5;203m=[38;5;231m init_size [38;5;203m+[38;5;231m num_extension_slots [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 122[34mâ”‚[48;5;52;38;5;231m        last_cluster_start [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 123[34mâ”‚[48;5;52;38;5;231m        backward_steps [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 124[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 125[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 126[34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mboolean[38;5;231m [38;5;149mexpand[38;5;231m() {[0m[48;5;52m                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 127[34mâ”‚[48;5;52;38;5;231m        is_full [38;5;203m=[38;5;231m [38;5;141mtrue[38;5;231m;[0m[48;5;52m                                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 128[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;52m                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 129[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 130[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 131[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// measures the number of bits per entry for the filter[0m[48;5;52m                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 132[34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mdouble[38;5;231m [38;5;149mmeasure_num_bits_per_entry[38;5;231m() {[0m[48;5;52m                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 133[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m measure_num_bits_per_entry(this, [38;5;203mnew[38;5;231m [38;5;149mArrayList[38;5;231m<[38;5;149mQuotientFilter[38;5;231m>());[0m[48;5;52m                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 134[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 135[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 136[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// measures the number of bits per entry for the filter[0m[48;5;52m                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 137[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// it takes an array of filters as a parameter since some filter implementations here consist of multiple filter objects[0m[48;5;52m                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 138[34mâ”‚[48;5;52;38;5;231m    [38;5;203mprotected[38;5;231m [38;5;203mstatic[38;5;231m [38;5;81mdouble[38;5;231m [38;5;149mmeasure_num_bits_per_entry[38;5;231m([38;5;149mQuotientFilter[38;5;231m [38;5;208mcurrent[38;5;231m, [38;5;149mArrayList[38;5;231m<[38;5;149mQuotientFilter[38;5;231m> [38;5;208mother_filters[38;5;231m) {[0m[48;5;52m                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 139[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//System.out.println("--------------------------");[0m[48;5;52m                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 140[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//current.print_filter_summary();[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 141[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//System.out.println();[0m[48;5;52m                                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 142[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//double num_entries = current.get_num_occupied_slots(false);[0m[48;5;52m                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 143[34mâ”‚[48;5;52;38;5;231m        [38;5;81mdouble[38;5;231m total_count [38;5;203m=[38;5;231m current.get_num_logical_entries();[0m[48;5;52m                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 144[34mâ”‚[48;5;52;38;5;231m        [38;5;203mfor[38;5;231m ([38;5;149mQuotientFilter[38;5;231m q [38;5;203m:[38;5;231m other_filters) {[0m[48;5;52m                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 145[34mâ”‚[48;5;52;38;5;231m            [38;5;242m//q.print_filter_summary();[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 146[34mâ”‚[48;5;52;38;5;231m            [38;5;242m//System.out.println();[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 147[34mâ”‚[48;5;52;38;5;231m            [38;5;242m//long q_num_entries = q.get_num_occupied_slots(false);[0m[48;5;52m                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 148[34mâ”‚[48;5;52;38;5;231m            [38;5;242m//num_entries += q_num_entries;[0m[48;5;52m                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 149[34mâ”‚[48;5;52;38;5;231m            [38;5;242m//total_count += q.num_physical_entries;[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 150[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 151[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//System.out.println("entry count: " + total_count + "  " + num_entries);[0m[48;5;52m                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 152[34mâ”‚[48;5;52;38;5;231m        [38;5;81mdouble[38;5;231m init_size [38;5;203m=[38;5;231m [38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m current.power_of_two_size;[0m[48;5;52m                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 153[34mâ”‚[48;5;52;38;5;231m        [38;5;81mdouble[38;5;231m num_bits [38;5;203m=[38;5;231m current.bitPerEntry [38;5;203m*[38;5;231m init_size [38;5;203m+[38;5;231m current.num_extension_slots [38;5;203m*[38;5;231m current.bitPerEntry;[0m[48;5;52m                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 154[34mâ”‚[48;5;52;38;5;231m        [38;5;203mfor[38;5;231m ([38;5;149mQuotientFilter[38;5;231m q [38;5;203m:[38;5;231m other_filters) {[0m[48;5;52m                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 155[34mâ”‚[48;5;52;38;5;231m            init_size [38;5;203m=[38;5;231m [38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m q.power_of_two_size;[0m[48;5;52m                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 156[34mâ”‚[48;5;52;38;5;231m            num_bits [38;5;203m+=[38;5;231m q.bitPerEntry [38;5;203m*[38;5;231m init_size [38;5;203m+[38;5;231m q.num_extension_slots [38;5;203m*[38;5;231m q.bitPerEntry;[0m[48;5;52m                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 157[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 158[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//System.out.println("total entries: \t\t" + num_entries);[0m[48;5;52m                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 159[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//System.out.println("total bits: \t\t" + num_bits);[0m[48;5;52m                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 160[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 161[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//System.out.println("entries:  " + total_count + "  bits:  " + num_bits);[0m[48;5;52m                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 162[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 163[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 164[34mâ”‚[48;5;52;38;5;231m        [38;5;81mdouble[38;5;231m bits_per_entry [38;5;203m=[38;5;231m num_bits [38;5;203m/[38;5;231m total_count;[0m[48;5;52m                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 165[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//System.out.println("total bits/entry: \t" + bits_per_entry);[0m[48;5;52m                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 166[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//System.out.println();[0m[48;5;52m                                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 167[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m bits_per_entry;[0m[48;5;52m                                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 168[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 169[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 170[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// scans the quotient filter and returns the number of non-empty slots[0m[48;5;52m                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 171[34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m [38;5;149mget_num_occupied_slots[38;5;231m([38;5;81mboolean[38;5;231m [38;5;208minclude_all_internal_filters[38;5;231m) {[0m[48;5;52m                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 172[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//long bits = filter.size();[0m[48;5;52m                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 173[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m slots [38;5;203m=[38;5;231m get_physcial_num_slots();[0m[48;5;52m                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 174[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m num_entries [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 175[34mâ”‚[48;5;52;38;5;231m        [38;5;203mfor[38;5;231m ([38;5;81mlong[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m slots; i[38;5;203m++[38;5;231m) {[0m[48;5;52m                                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 176[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (is_occupied(i) [38;5;203m||[38;5;231m is_continuation(i) [38;5;203m||[38;5;231m is_shifted(i)) {[0m[48;5;52m                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 177[34mâ”‚[48;5;52;38;5;231m                num_entries[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 178[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 179[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 180[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m num_entries;[0m[48;5;52m                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 181[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 182[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 183[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// returns the fraction of occupied slots in the filter[0m[48;5;52m                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 184[34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mdouble[38;5;231m [38;5;149mget_utilization[38;5;231m() {[0m[48;5;52m                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 185[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m num_logical_slots [38;5;203m=[38;5;231m get_logical_num_slots_plus_extensions();[0m[48;5;52m                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 186[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// num_entries = get_num_occupied_slots(false);[0m[48;5;52m                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 187[34mâ”‚[48;5;52;38;5;231m        [38;5;81mdouble[38;5;231m util [38;5;203m=[38;5;231m get_num_physical_entries() [38;5;203m/[38;5;231m ([38;5;81mdouble[38;5;231m) num_logical_slots;[0m[48;5;52m                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 188[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m util;[0m[48;5;52m                                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 189[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 190[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 191[34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m [38;5;149mget_physcial_num_slots[38;5;231m() {[0m[48;5;52m                                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 192[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m bits [38;5;203m=[38;5;231m filter.size();[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 193[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m bits [38;5;203m/[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize);[0m[48;5;52m                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 194[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 195[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 196[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// returns the number of physical slots in the filter (including the extention/buffer slots at the end)[0m[48;5;52m                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 197[34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m [38;5;149mget_logical_num_slots_plus_extensions[38;5;231m() {[0m[48;5;52m                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 198[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m ([38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m power_of_two_size) [38;5;203m+[38;5;231m num_extension_slots;[0m[48;5;52m                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 199[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 200[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 201[34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m [38;5;149mget_start_of_fingerprint_mirroring[38;5;231m() {[0m[48;5;52m                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 202[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m get_logical_num_slots_plus_extensions() [38;5;203m*[38;5;231m bitPerEntry;[0m[48;5;52m                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 203[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 204[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 205[34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m [38;5;149mget_start_of_payload[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;52m                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 206[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m get_start_of_fingerprint_mirroring() [38;5;203m+[38;5;231m index [38;5;203m*[38;5;231m payloadSize;[0m[48;5;52m                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 207[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 208[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 209[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// returns the number of slots in the filter without the extension/buffer slots[0m[48;5;52m                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 210[34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m [38;5;149mget_logical_num_slots[38;5;231m() {[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 211[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m [38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m power_of_two_size;[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 212[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 213[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 214[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// sets the metadata flag bits for a given slot index[0m[48;5;52m                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 215[34mâ”‚[48;5;52;38;5;231m    [38;5;81mvoid[38;5;231m [38;5;149mmodify_slot[38;5;231m([38;5;81mboolean[38;5;231m [38;5;208mis_occupied[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mis_continuation[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mis_shifted[38;5;231m,[0m[48;5;52m                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 216[34mâ”‚[48;5;52;38;5;231m                     [38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 217[34mâ”‚[48;5;52;38;5;231m        set_occupied(index, is_occupied);[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 218[34mâ”‚[48;5;52;38;5;231m        set_continuation(index, is_continuation);[0m[48;5;52m                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 219[34mâ”‚[48;5;52;38;5;231m        set_shifted(index, is_shifted);[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 220[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 221[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 222[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// sets the fingerprint for a given slot index[0m[48;5;52m                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 223[34mâ”‚[48;5;52;38;5;231m    [38;5;81mvoid[38;5;231m [38;5;149mset_fingerprint[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m) {[0m[48;5;52m                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 224[34mâ”‚[48;5;52;38;5;231m        filter.setFromTo(index [38;5;203m*[38;5;231m (bitPerEntry) [38;5;203m+[38;5;231m [38;5;141m3[38;5;231m, ([38;5;81mlong[38;5;231m) index [38;5;203m*[38;5;231m (bitPerEntry) [38;5;203m+[38;5;231m [38;5;141m3[38;5;231m [38;5;203m+[38;5;231m fingerprintLength, fingerprint);[0m[48;5;52m                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 225[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 226[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 227[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// sets the payload for a given slot index[0m[48;5;52m                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 228[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 229[34mâ”‚[48;5;52;38;5;231m    [38;5;81mvoid[38;5;231m [38;5;149mset_payload[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mlong[38;5;203m[][38;5;231m [38;5;208mpayload[38;5;231m) {[0m[48;5;52m                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 230[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m startPosition [38;5;203m=[38;5;231m get_start_of_payload(index);[0m[48;5;52m                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 231[34mâ”‚[48;5;52;38;5;231m        [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m payload.length; i[38;5;203m++[38;5;231m) {[0m[48;5;52m                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 232[34mâ”‚[48;5;52;38;5;231m            [38;5;81mlong[38;5;231m element [38;5;203m=[38;5;231m payload[i];[0m[48;5;52m                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 233[34mâ”‚[48;5;52;38;5;231m            [38;5;81mint[38;5;231m elementSizeInBits [38;5;203m=[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m;[0m[48;5;52m                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 234[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (i [38;5;203m==[38;5;231m [38;5;141m0[38;5;231m) {[0m[48;5;52m                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 235[34mâ”‚[48;5;52;38;5;231m                elementSizeInBits [38;5;203m=[38;5;231m payloadSize [38;5;203m%[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m;[0m[48;5;52m                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 236[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 237[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// System.out.println("--------------------------------------");[0m[48;5;52m                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 238[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// System.out.println(payload.length);[0m[48;5;52m                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 239[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// System.out.println(startPosition + " " + elementSizeInBits);[0m[48;5;52m                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 240[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// System.out.println(filter.size());[0m[48;5;52m                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 241[34mâ”‚[48;5;52;38;5;231m            filter.setFromTo(startPosition, startPosition [38;5;203m+[38;5;231m elementSizeInBits, element);[0m[48;5;52m                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 242[34mâ”‚[48;5;52;38;5;231m            startPosition [38;5;203m+=[38;5;231m elementSizeInBits;[0m[48;5;52m                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 243[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 244[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 245[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 246[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// print a nice representation of the filter that can be understood.[0m[48;5;52m                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 247[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// if vertical is on, each line will represent a slot[0m[48;5;52m                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 248[34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;149mString[38;5;231m [38;5;149mget_pretty_str[38;5;231m([38;5;81mboolean[38;5;231m [38;5;208mvertical[38;5;231m) {[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 249[34mâ”‚[48;5;52;38;5;231m        [38;5;149mStringBuffer[38;5;231m sbr [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mStringBuffer[38;5;231m();[0m[48;5;52m                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 250[34mâ”‚[48;5;52;38;5;231m        [38;5;149mString[38;5;231m ss [38;5;203m=[38;5;231m [38;5;149mString[38;5;231m.format([38;5;186m"%-"[38;5;231m [38;5;203m+[38;5;231m fingerprintLength [38;5;203m+[38;5;231m [38;5;186m"s"[38;5;231m, [38;5;186m"FP"[38;5;231m);[0m[48;5;52m                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 251[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// More beautiful columnar rep[0m[48;5;52m                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 252[34mâ”‚[48;5;52;38;5;231m        sbr.append([38;5;186m"[38;5;141m\n[38;5;186mi[38;5;141m\t[38;5;186m   [38;5;141m\t[38;5;186m"[38;5;231m).append(ss);[0m[48;5;52m                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 253[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 254[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m logic_slots [38;5;203m=[38;5;231m get_logical_num_slots();[0m[48;5;52m                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 255[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m all_slots [38;5;203m=[38;5;231m get_logical_num_slots_plus_extensions();[0m[48;5;52m                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 256[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 257[34mâ”‚[48;5;52;38;5;231m        [38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 258[34mâ”‚[48;5;52;38;5;231m        [38;5;203mfor[38;5;231m (; i [38;5;203m<[38;5;231m all_slots [38;5;203m*[38;5;231m bitPerEntry; i[38;5;203m++[38;5;231m) {[0m[48;5;52m                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 259[34mâ”‚[48;5;52;38;5;231m            [38;5;242m//for (long i = 0; i < 100; i++) {[0m[48;5;52m                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 260[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 261[34mâ”‚[48;5;52;38;5;231m            [38;5;81mlong[38;5;231m remainder [38;5;203m=[38;5;231m i [38;5;203m%[38;5;231m (bitPerEntry);[0m[48;5;52m                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 262[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (remainder [38;5;203m==[38;5;231m [38;5;141m0[38;5;231m) {[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 263[34mâ”‚[48;5;52;38;5;231m                [38;5;81mlong[38;5;231m slot [38;5;203m=[38;5;231m i [38;5;203m/[38;5;231m (bitPerEntry);[0m[48;5;52m                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 264[34mâ”‚[48;5;52;38;5;231m                [38;5;81mlong[38;5;231m slot_num [38;5;203m=[38;5;231m i [38;5;203m/[38;5;231m (bitPerEntry);[0m[48;5;52m                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 265[34mâ”‚[48;5;52;38;5;231m                sbr.append([38;5;186m"[38;5;141m\t[38;5;186m"[38;5;231m);[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 266[34mâ”‚[48;5;52;38;5;231m                [38;5;203mif[38;5;231m (vertical) {[0m[48;5;52m                                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 267[34mâ”‚[48;5;52;38;5;231m                    [38;5;203mif[38;5;231m (slot_num [38;5;203m==[38;5;231m logic_slots [38;5;203m||[38;5;231m slot_num [38;5;203m==[38;5;231m all_slots) {[0m[48;5;52m                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 268[34mâ”‚[48;5;52;38;5;231m                        sbr.append([38;5;186m"[38;5;141m\n[38;5;186m ---------"[38;5;231m);[0m[48;5;52m                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 269[34mâ”‚[48;5;52;38;5;231m                    }[0m[48;5;52m                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 270[34mâ”‚[48;5;52;38;5;231m                    sbr.append([38;5;186m"[38;5;141m\n[38;5;186m"[38;5;231m [38;5;203m+[38;5;231m slot_num [38;5;203m+[38;5;231m [38;5;186m"[38;5;141m\t[38;5;186m"[38;5;231m);[0m[48;5;52m                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 271[34mâ”‚[48;5;52;38;5;231m                }[0m[48;5;52m                                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 272[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 273[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (remainder [38;5;203m==[38;5;231m [38;5;141m3[38;5;231m) {[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 274[34mâ”‚[48;5;52;38;5;231m                sbr.append([38;5;186m"[38;5;141m\t[38;5;186m"[38;5;231m);[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 275[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 276[34mâ”‚[48;5;52;38;5;231m            sbr.append(filter.get(i) [38;5;203m?[38;5;231m [38;5;186m"1"[38;5;231m [38;5;203m:[38;5;231m [38;5;186m"0"[38;5;231m);[0m[48;5;52m                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 277[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 278[34mâ”‚[48;5;52;38;5;231m        sbr.append([38;5;186m"[38;5;141m\n\n[38;5;186midx[38;5;141m\t[38;5;186mPayloads"[38;5;231m);[0m[48;5;52m                                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 279[34mâ”‚[48;5;52;38;5;231m        [38;5;81mint[38;5;231m counter [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 280[34mâ”‚[48;5;52;38;5;231m        [38;5;203mfor[38;5;231m (; i [38;5;203m<[38;5;231m all_slots [38;5;203m*[38;5;231m payloadSize [38;5;203m+[38;5;231m get_start_of_fingerprint_mirroring(); i[38;5;203m++[38;5;231m) {[0m[48;5;52m                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 281[34mâ”‚[48;5;52;38;5;231m            [38;5;242m//for (long i = 0; i < 100; i++) {[0m[48;5;52m                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 282[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m ((i [38;5;203m-[38;5;231m get_start_of_fingerprint_mirroring()) [38;5;203m%[38;5;231m payloadSize [38;5;203m==[38;5;231m [38;5;141m0[38;5;231m) sbr.append([38;5;186m'[38;5;141m\n[38;5;186m'[38;5;231m).append([38;5;149mInteger[38;5;231m.toString(counter[38;5;203m++[38;5;231m)).append([38;5;186m'[38;5;141m\t[38;5;186m'[38;5;231m);[0m[48;5;52m   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 283[34mâ”‚[48;5;52;38;5;231m            sbr.append(filter.get(i) [38;5;203m?[38;5;231m [38;5;186m"1"[38;5;231m [38;5;203m:[38;5;231m [38;5;186m"0"[38;5;231m);[0m[48;5;52m                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 284[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 285[34mâ”‚[48;5;52;38;5;231m        sbr.append([38;5;186m'[38;5;141m\n[38;5;186m'[38;5;231m);[0m[48;5;52m                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 286[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m sbr.toString();[0m[48;5;52m                                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 287[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 288[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 289[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// print a nice representation of the filter that can be humanly read.[0m[48;5;52m                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 290[34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mvoid[38;5;231m [38;5;149mpretty_print[38;5;231m() {[0m[48;5;52m                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 291[34mâ”‚[48;5;52;38;5;231m        [38;5;149mSystem[38;5;231m.out.print(get_pretty_str([38;5;141mtrue[38;5;231m));[0m[48;5;52m                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 292[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 293[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 294[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// return a fingerprint in a given slot index[0m[48;5;52m                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 295[34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;231m [38;5;149mget_fingerprint[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;52m                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 296[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m filter.getFromTo(index [38;5;203m*[38;5;231m (bitPerEntry) [38;5;203m+[38;5;231m [38;5;141m3[38;5;231m, index [38;5;203m*[38;5;231m (bitPerEntry) [38;5;203m+[38;5;231m [38;5;141m3[38;5;231m [38;5;203m+[38;5;231m fingerprintLength);[0m[48;5;52m                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 297[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 298[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 299[34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;203m[][38;5;231m [38;5;149mget_payload[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;52m                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 300[34mâ”‚[48;5;52;38;5;231m        [38;5;81mint[38;5;231m numberOfElements [38;5;203m=[38;5;231m ([38;5;81mint[38;5;231m) [38;5;149mMath[38;5;231m.ceil(([38;5;81mdouble[38;5;231m) payloadSize [38;5;203m/[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m);[0m[48;5;52m                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 301[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;203m[][38;5;231m payload [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[numberOfElements];[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 302[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 303[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m startPosition [38;5;203m=[38;5;231m get_start_of_payload(index);[0m[48;5;52m                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 304[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// System.out.println(startPosition + " -- " + bitPerEntry + " " + payloadSize + " " + fingerprintLength + " " + index);[0m[48;5;52m                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 305[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// long offset = (Long.SIZE - payloadSize % Long.SIZE) % Long.SIZE;[0m[48;5;52m                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 306[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// startPosition -= offset;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 307[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// long mask = ~0L;[0m[48;5;52m                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 308[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// if (offset != 0) {[0m[48;5;52m                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 309[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//         mask = ~(-1L << (Long.SIZE - offset));[0m[48;5;52m                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 310[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// }[0m[48;5;52m                                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 311[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// System.out.println(mask);[0m[48;5;52m                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 312[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// System.out.println(startPosition);[0m[48;5;52m                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 313[34mâ”‚[48;5;52;38;5;231m        [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m numberOfElements; i[38;5;203m++[38;5;231m) {[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 314[34mâ”‚[48;5;52;38;5;231m            [38;5;81mlong[38;5;231m retrievedData;[0m[48;5;52m                                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 315[34mâ”‚[48;5;52;38;5;231m            [38;5;81mint[38;5;231m offset;[0m[48;5;52m                                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 316[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (i [38;5;203m==[38;5;231m [38;5;141m0[38;5;231m [38;5;203m&&[38;5;231m payloadSize [38;5;203m%[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m [38;5;203m!=[38;5;231m [38;5;141m0[38;5;231m) {[0m[48;5;52m                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 317[34mâ”‚[48;5;52;38;5;231m                offset [38;5;203m=[38;5;231m payloadSize [38;5;203m%[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m;[0m[48;5;52m                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 318[34mâ”‚[48;5;52;38;5;231m                retrievedData [38;5;203m=[38;5;231m filter.getFromTo(startPosition, startPosition [38;5;203m+[38;5;231m payloadSize [38;5;203m%[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m);[0m[48;5;52m                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 319[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 320[34mâ”‚[48;5;52;38;5;231m            } [38;5;203melse[38;5;231m {[0m[48;5;52m                                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 321[34mâ”‚[48;5;52;38;5;231m                offset [38;5;203m=[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 322[34mâ”‚[48;5;52;38;5;231m                retrievedData [38;5;203m=[38;5;231m filter.getFromTo(startPosition, startPosition [38;5;203m+[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m);[0m[48;5;52m                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 323[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 324[34mâ”‚[48;5;52;38;5;231m            payload[i] [38;5;203m=[38;5;231m retrievedData;[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 325[34mâ”‚[48;5;52;38;5;231m            startPosition [38;5;203m+=[38;5;231m offset;[0m[48;5;52m                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 326[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 327[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 328[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m payload;[0m[48;5;52m                                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 329[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 330[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 331[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// return an entire slot representation, including metadata flags and fingerprint[0m[48;5;52m                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 332[34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;203m[][38;5;231m [38;5;149mget_slot[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 333[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m bitsAndFingerprint [38;5;203m=[38;5;231m filter.getFromTo(index [38;5;203m*[38;5;231m (bitPerEntry), index [38;5;203m*[38;5;231m (bitPerEntry) [38;5;203m+[38;5;231m bitPerEntry);[0m[48;5;52m                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 334[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;203m[][38;5;231m payload [38;5;203m=[38;5;231m get_payload(index);[0m[48;5;52m                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 335[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;203m[][38;5;231m result [38;5;203m=[38;5;231m [38;5;149mArrays[38;5;231m.copyOf(payload, payload.length [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;52m                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 336[34mâ”‚[48;5;52;38;5;231m        result[payload.length] [38;5;203m=[38;5;231m bitsAndFingerprint;[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 337[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m result;[0m[48;5;52m                                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 338[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 339[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 340[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// compare a fingerprint input to the fingerprint in some slot index[0m[48;5;52m                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 341[34mâ”‚[48;5;52;38;5;231m    [38;5;203mprotected[38;5;231m [38;5;81mboolean[38;5;231m [38;5;149mcompare[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m) {[0m[48;5;52m                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 342[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m get_fingerprint(index) [38;5;203m==[38;5;231m fingerprint;[0m[48;5;52m                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 343[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 344[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 345[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// modify the flags and fingerprint of a given slot[0m[48;5;52m                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 346[34mâ”‚[48;5;52;38;5;231m    [38;5;81mvoid[38;5;231m [38;5;149mmodify_slot[38;5;231m([38;5;81mboolean[38;5;231m [38;5;208mis_occupied[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mis_continuation[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mis_shifted[38;5;231m,[0m[48;5;52m                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 347[34mâ”‚[48;5;52;38;5;231m                     [38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m) {[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 348[34mâ”‚[48;5;52;38;5;231m        modify_slot(is_occupied, is_continuation, is_shifted, index);[0m[48;5;52m                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 349[34mâ”‚[48;5;52;38;5;231m        set_fingerprint(index, fingerprint);[0m[48;5;52m                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 350[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 351[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 352[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// summarize some statistical measures about the filter[0m[48;5;52m                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 353[34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mvoid[38;5;231m [38;5;149mprint_filter_summary[38;5;231m() {[0m[48;5;52m                                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 354[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m num_entries [38;5;203m=[38;5;231m get_num_occupied_slots([38;5;141mfalse[38;5;231m);[0m[48;5;52m                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 355[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m slots [38;5;203m=[38;5;231m ([38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m power_of_two_size) [38;5;203m+[38;5;231m num_extension_slots;[0m[48;5;52m                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 356[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m num_bits [38;5;203m=[38;5;231m slots [38;5;203m*[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize);[0m[48;5;52m                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 357[34mâ”‚[48;5;52;38;5;231m        [38;5;149mSystem[38;5;231m.out.println([38;5;186m"slots:[38;5;141m\t[38;5;186m"[38;5;231m [38;5;203m+[38;5;231m slots);[0m[48;5;52m                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 358[34mâ”‚[48;5;52;38;5;231m        [38;5;149mSystem[38;5;231m.out.println([38;5;186m"entries:[38;5;141m\t[38;5;186m"[38;5;231m [38;5;203m+[38;5;231m num_entries);[0m[48;5;52m                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 359[34mâ”‚[48;5;52;38;5;231m        [38;5;149mSystem[38;5;231m.out.println([38;5;186m"num_physical_entries:[38;5;141m\t[38;5;186m"[38;5;231m [38;5;203m+[38;5;231m num_physical_entries);[0m[48;5;52m                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 360[34mâ”‚[48;5;52;38;5;231m        [38;5;149mSystem[38;5;231m.out.println([38;5;186m"num_logical_entries:[38;5;141m\t[38;5;186m"[38;5;231m [38;5;203m+[38;5;231m num_logical_entries);[0m[48;5;52m                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 361[34mâ”‚[48;5;52;38;5;231m        [38;5;149mSystem[38;5;231m.out.println([38;5;186m"bits[38;5;141m\t[38;5;186m:"[38;5;231m [38;5;203m+[38;5;231m num_bits);[0m[48;5;52m                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 362[34mâ”‚[48;5;52;38;5;231m        [38;5;149mSystem[38;5;231m.out.println([38;5;186m"bits/entry[38;5;141m\t[38;5;186m:"[38;5;231m [38;5;203m+[38;5;231m num_bits [38;5;203m/[38;5;231m ([38;5;81mdouble[38;5;231m) num_entries);[0m[48;5;52m                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 363[34mâ”‚[48;5;52;38;5;231m        [38;5;149mSystem[38;5;231m.out.println([38;5;186m"FP length:[38;5;141m\t[38;5;186m"[38;5;231m [38;5;203m+[38;5;231m fingerprintLength);[0m[48;5;52m                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 364[34mâ”‚[48;5;52;38;5;231m        compute_statistics();[0m[48;5;52m                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 365[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//System.out.println("num runs: \t\t" + num_runs);[0m[48;5;52m                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 366[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//System.out.println("avg run length: \t" + avg_run_length);[0m[48;5;52m                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 367[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//System.out.println("num clusters: \t\t" + num_clusters);[0m[48;5;52m                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 368[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//System.out.println("avg cluster length: \t" + avg_cluster_length);[0m[48;5;52m                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 369[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 370[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 371[34mâ”‚[48;5;52;38;5;231m    [38;5;81mboolean[38;5;231m [38;5;149mis_occupied[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;52m                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 372[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m filter.get(index [38;5;203m*[38;5;231m (bitPerEntry));[0m[48;5;52m                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 373[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 374[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 375[34mâ”‚[48;5;52;38;5;231m    [38;5;81mboolean[38;5;231m [38;5;149mis_continuation[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 376[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m filter.get(index [38;5;203m*[38;5;231m (bitPerEntry) [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;52m                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 377[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 378[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 379[34mâ”‚[48;5;52;38;5;231m    [38;5;81mboolean[38;5;231m [38;5;149mis_shifted[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;52m                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 380[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m filter.get(index [38;5;203m*[38;5;231m (bitPerEntry) [38;5;203m+[38;5;231m [38;5;141m2[38;5;231m);[0m[48;5;52m                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 381[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 382[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 383[34mâ”‚[48;5;52;38;5;231m    [38;5;81mvoid[38;5;231m [38;5;149mset_occupied[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mval[38;5;231m) {[0m[48;5;52m                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 384[34mâ”‚[48;5;52;38;5;231m        filter.set(index [38;5;203m*[38;5;231m (bitPerEntry), val);[0m[48;5;52m                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 385[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 386[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 387[34mâ”‚[48;5;52;38;5;231m    [38;5;81mvoid[38;5;231m [38;5;149mset_continuation[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mval[38;5;231m) {[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 388[34mâ”‚[48;5;52;38;5;231m        filter.set(index [38;5;203m*[38;5;231m (bitPerEntry) [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m, val);[0m[48;5;52m                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 389[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 390[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 391[34mâ”‚[48;5;52;38;5;231m    [38;5;81mvoid[38;5;231m [38;5;149mset_shifted[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mval[38;5;231m) {[0m[48;5;52m                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 392[34mâ”‚[48;5;52;38;5;231m        filter.set(index [38;5;203m*[38;5;231m (bitPerEntry) [38;5;203m+[38;5;231m [38;5;141m2[38;5;231m, val);[0m[48;5;52m                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 393[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 394[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 395[34mâ”‚[48;5;52;38;5;231m    [38;5;81mboolean[38;5;231m [38;5;149mis_slot_empty[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 396[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m [38;5;203m![38;5;231mis_occupied(index) [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mis_continuation(index) [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mis_shifted(index);[0m[48;5;52m                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 397[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 398[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 399[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// scan the cluster leftwards until finding the start of the cluster and returning its slot index[0m[48;5;52m                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 400[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// used by deletes[0m[48;5;52m                                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 401[34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;231m [38;5;149mfind_cluster_start[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 402[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m current_index [38;5;203m=[38;5;231m index;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 403[34mâ”‚[48;5;52;38;5;231m        [38;5;203mwhile[38;5;231m (is_shifted(current_index)) {[0m[48;5;52m                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 404[34mâ”‚[48;5;52;38;5;231m            current_index[38;5;203m--[38;5;231m;[0m[48;5;52m                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 405[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 406[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m current_index;[0m[48;5;52m                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 407[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 408[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 409[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// given a canonical slot A, finds the actual index B of where the run belonging to slot A now resides[0m[48;5;52m                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 410[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// since the run might have been shifted to the right due to collisions[0m[48;5;52m                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 411[34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;231m [38;5;149mfind_run_start[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;52m                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 412[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m current_index [38;5;203m=[38;5;231m index;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 413[34mâ”‚[48;5;52;38;5;231m        [38;5;81mint[38;5;231m runs_to_skip_counter [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 414[34mâ”‚[48;5;52;38;5;231m        [38;5;203mwhile[38;5;231m (is_shifted(current_index)) {[0m[48;5;52m                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 415[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (is_occupied(current_index)) {[0m[48;5;52m                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 416[34mâ”‚[48;5;52;38;5;231m                runs_to_skip_counter[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 417[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 418[34mâ”‚[48;5;52;38;5;231m            current_index[38;5;203m--[38;5;231m;[0m[48;5;52m                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 419[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 420[34mâ”‚[48;5;52;38;5;231m        last_cluster_start [38;5;203m=[38;5;231m current_index [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 421[34mâ”‚[48;5;52;38;5;231m        [38;5;203mwhile[38;5;231m ([38;5;141mtrue[38;5;231m) {[0m[48;5;52m                                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 422[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mis_continuation(current_index)) {[0m[48;5;52m                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 423[34mâ”‚[48;5;52;38;5;231m                runs_to_skip_counter[38;5;203m--[38;5;231m;[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 424[34mâ”‚[48;5;52;38;5;231m                [38;5;203mif[38;5;231m (runs_to_skip_counter [38;5;203m==[38;5;231m [38;5;141m0[38;5;231m) {[0m[48;5;52m                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 425[34mâ”‚[48;5;52;38;5;231m                    [38;5;203mreturn[38;5;231m current_index;[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 426[34mâ”‚[48;5;52;38;5;231m                }[0m[48;5;52m                                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 427[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 428[34mâ”‚[48;5;52;38;5;231m            current_index[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 429[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 430[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 431[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 432[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// given the start of a run, scan the run and return the index of the first matching fingerprint[0m[48;5;52m                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 433[34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;231m [38;5;149mfind_first_fingerprint_in_run[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m) {[0m[48;5;52m                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 434[34mâ”‚[48;5;52;38;5;231m        [38;5;203massert[38;5;231m ([38;5;203m![38;5;231mis_continuation(index));[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 435[34mâ”‚[48;5;52;38;5;231m        [38;5;203mdo[38;5;231m {[0m[48;5;52m                                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 436[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (compare(index, fingerprint)) {[0m[48;5;52m                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 437[34mâ”‚[48;5;52;38;5;231m                [38;5;242m//System.out.println("found matching FP at index " + index);[0m[48;5;52m                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 438[34mâ”‚[48;5;52;38;5;231m                [38;5;203mreturn[38;5;231m index;[0m[48;5;52m                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 439[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 440[34mâ”‚[48;5;52;38;5;231m            index[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 441[34mâ”‚[48;5;52;38;5;231m        } [38;5;203mwhile[38;5;231m (index [38;5;203m<[38;5;231m get_logical_num_slots_plus_extensions() [38;5;203m&&[38;5;231m is_continuation(index));[0m[48;5;52m                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 442[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m [38;5;203m-[38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 443[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 444[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 445[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// delete the last matching fingerprint in the run[0m[48;5;52m                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 446[34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;231m [38;5;149mdecide_which_fingerprint_to_delete[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m) {[0m[48;5;52m                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 447[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m matching_fingerprint_index [38;5;203m=[38;5;231m [38;5;203m-[38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 448[34mâ”‚[48;5;52;38;5;231m        [38;5;203mdo[38;5;231m {[0m[48;5;52m                                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 449[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (compare(index, fingerprint)) {[0m[48;5;52m                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 450[34mâ”‚[48;5;52;38;5;231m                [38;5;242m//System.out.println("found matching FP at index " + index);[0m[48;5;52m                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 451[34mâ”‚[48;5;52;38;5;231m                matching_fingerprint_index [38;5;203m=[38;5;231m index;[0m[48;5;52m                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 452[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 453[34mâ”‚[48;5;52;38;5;231m            index[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 454[34mâ”‚[48;5;52;38;5;231m        } [38;5;203mwhile[38;5;231m (index [38;5;203m<[38;5;231m get_logical_num_slots_plus_extensions() [38;5;203m&&[38;5;231m is_continuation(index));[0m[48;5;52m                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 455[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m matching_fingerprint_index;[0m[48;5;52m                                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 456[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 457[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 458[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// given the start of a run, find the last slot index that still belongs to this run[0m[48;5;52m                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 459[34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;231m [38;5;149mfind_run_end[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 460[34mâ”‚[48;5;52;38;5;231m        [38;5;203mwhile[38;5;231m (index [38;5;203m<[38;5;231m get_logical_num_slots_plus_extensions() [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m [38;5;203m&&[38;5;231m is_continuation(index [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m)) {[0m[48;5;52m                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 461[34mâ”‚[48;5;52;38;5;231m            index[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 462[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 463[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m index;[0m[48;5;52m                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 464[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 465[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 466[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// given a canonical index slot and a fingerprint, find the relevant run and check if there is a matching fingerprint within it[0m[48;5;52m                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 467[34mâ”‚[48;5;52;38;5;231m    [38;5;81mboolean[38;5;231m [38;5;149msearch[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;52m                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 468[34mâ”‚[48;5;52;38;5;231m        [38;5;81mboolean[38;5;231m does_run_exist [38;5;203m=[38;5;231m is_occupied(index);[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 469[34mâ”‚[48;5;52;38;5;231m        [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mdoes_run_exist) {[0m[48;5;52m                                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 470[34mâ”‚[48;5;52;38;5;231m            [38;5;203mreturn[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;52m                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 471[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 472[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m run_start_index [38;5;203m=[38;5;231m find_run_start(index);[0m[48;5;52m                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 473[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m found_index [38;5;203m=[38;5;231m find_first_fingerprint_in_run(run_start_index, fingerprint);[0m[48;5;52m                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 474[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m found_index [38;5;203m>[38;5;231m [38;5;203m-[38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 475[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 476[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 477[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// Given a canonical slot index, find the corresponding run and return all fingerprints in the run.[0m[48;5;52m                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 478[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// This method is only used for testing purposes.[0m[48;5;52m                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 479[34mâ”‚[48;5;52;38;5;231m    [38;5;149mSet[38;5;231m<[38;5;149mLong[38;5;231m> [38;5;149mget_all_fingerprints[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mbucket_index[38;5;231m) {[0m[48;5;52m                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 480[34mâ”‚[48;5;52;38;5;231m        [38;5;81mboolean[38;5;231m does_run_exist [38;5;203m=[38;5;231m is_occupied(bucket_index);[0m[48;5;52m                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 481[34mâ”‚[48;5;52;38;5;231m        [38;5;149mHashSet[38;5;231m<[38;5;149mLong[38;5;231m> set [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mHashSet[38;5;231m<[38;5;149mLong[38;5;231m>();[0m[48;5;52m                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 482[34mâ”‚[48;5;52;38;5;231m        [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mdoes_run_exist) {[0m[48;5;52m                                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 483[34mâ”‚[48;5;52;38;5;231m            [38;5;203mreturn[38;5;231m set;[0m[48;5;52m                                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 484[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 485[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m run_index [38;5;203m=[38;5;231m find_run_start(bucket_index);[0m[48;5;52m                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 486[34mâ”‚[48;5;52;38;5;231m        [38;5;203mdo[38;5;231m {[0m[48;5;52m                                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 487[34mâ”‚[48;5;52;38;5;231m            set.add(get_fingerprint(run_index));[0m[48;5;52m                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 488[34mâ”‚[48;5;52;38;5;231m            run_index[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 489[34mâ”‚[48;5;52;38;5;231m        } [38;5;203mwhile[38;5;231m (is_continuation(run_index));[0m[48;5;52m                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 490[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m set;[0m[48;5;52m                                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 491[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 492[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 493[34mâ”‚[48;5;52;38;5;231m    [38;5;149mSet[38;5;231m<[38;5;81mlong[38;5;203m[][38;5;231m> [38;5;149mget_all_payloads[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mbucket_index[38;5;231m) {[0m[48;5;52m                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 494[34mâ”‚[48;5;52;38;5;231m        [38;5;81mboolean[38;5;231m does_run_exist [38;5;203m=[38;5;231m is_occupied(bucket_index);[0m[48;5;52m                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 495[34mâ”‚[48;5;52;38;5;231m        [38;5;149mHashSet[38;5;231m<[38;5;81mlong[38;5;203m[][38;5;231m> set [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mHashSet[38;5;231m<>();[0m[48;5;52m                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 496[34mâ”‚[48;5;52;38;5;231m        [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mdoes_run_exist) {[0m[48;5;52m                                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 497[34mâ”‚[48;5;52;38;5;231m            [38;5;203mreturn[38;5;231m set;[0m[48;5;52m                                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 498[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 499[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m run_index [38;5;203m=[38;5;231m find_run_start(bucket_index);[0m[48;5;52m                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 500[34mâ”‚[48;5;52;38;5;231m        [38;5;203mdo[38;5;231m {[0m[48;5;52m                                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 501[34mâ”‚[48;5;52;38;5;231m            set.add(get_payload(run_index));[0m[48;5;52m                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 502[34mâ”‚[48;5;52;38;5;231m            run_index[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 503[34mâ”‚[48;5;52;38;5;231m        } [38;5;203mwhile[38;5;231m (is_continuation(run_index));[0m[48;5;52m                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 504[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m set;[0m[48;5;52m                                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 505[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 506[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 507[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// Swaps the fingerprint in a given slot with a new one. Return the pre-existing fingerprint[0m[48;5;52m                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 508[34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;203m[][38;5;231m [38;5;149mswap_fingerprints[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mnew_fingerprint[38;5;231m, [38;5;81mlong[38;5;203m[][38;5;231m [38;5;208mnew_payload[38;5;231m) {[0m[48;5;52m                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 509[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m existing [38;5;203m=[38;5;231m get_fingerprint(index);[0m[48;5;52m                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 510[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;203m[][38;5;231m existing_payload [38;5;203m=[38;5;231m get_payload(index);[0m[48;5;52m                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 511[34mâ”‚[48;5;52;38;5;231m        set_fingerprint(index, new_fingerprint);[0m[48;5;52m                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 512[34mâ”‚[48;5;52;38;5;231m        set_payload(index, new_payload);[0m[48;5;52m                                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 513[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;203m[][38;5;231m result [38;5;203m=[38;5;231m [38;5;149mArrays[38;5;231m.copyOf(existing_payload, existing_payload.length [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;52m                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 514[34mâ”‚[48;5;52;38;5;231m        result[existing_payload.length] [38;5;203m=[38;5;231m existing;[0m[48;5;52m                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 515[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m result;[0m[48;5;52m                                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 516[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 517[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 518[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// finds the first empty slot after the given slot index[0m[48;5;52m                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 519[34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;231m [38;5;149mfind_first_empty_slot[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;52m                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 520[34mâ”‚[48;5;52;38;5;231m        [38;5;203mwhile[38;5;231m ([38;5;203m![38;5;231mis_slot_empty(index)) {[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 521[34mâ”‚[48;5;52;38;5;231m            index[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 522[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 523[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m index;[0m[48;5;52m                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 524[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 525[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 526[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// moves backwards to find the first empty slot[0m[48;5;52m                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 527[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// used as a part of the mechanism to prevent exceptions when exceeding the quotient filter's bounds[0m[48;5;52m                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 528[34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;231m [38;5;149mfind_backward_empty_slot[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;52m                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 529[34mâ”‚[48;5;52;38;5;231m        [38;5;203mwhile[38;5;231m (index [38;5;203m>=[38;5;231m [38;5;141m0[38;5;231m [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mis_slot_empty(index)) {[0m[48;5;52m                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 530[34mâ”‚[48;5;52;38;5;231m            backward_steps[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 531[34mâ”‚[48;5;52;38;5;231m            index[38;5;203m--[38;5;231m;[0m[48;5;52m                                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 532[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 533[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m index;[0m[48;5;52m                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 534[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 535[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 536[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// return the first slot to the right where the current run starting at the index parameter ends[0m[48;5;52m                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 537[34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;231m [38;5;149mfind_new_run_location[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;52m                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 538[34mâ”‚[48;5;52;38;5;231m        [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mis_slot_empty(index)) {[0m[48;5;52m                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 539[34mâ”‚[48;5;52;38;5;231m            index[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 540[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 541[34mâ”‚[48;5;52;38;5;231m        [38;5;203mwhile[38;5;231m (is_continuation(index)) {[0m[48;5;52m                                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 542[34mâ”‚[48;5;52;38;5;231m            index[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 543[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 544[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m index;[0m[48;5;52m                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 545[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 546[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 547[34mâ”‚[48;5;52;38;5;231m    [38;5;81mboolean[38;5;231m [38;5;149minsert_new_run[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mcanonical_slot[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mlong_fp[38;5;231m, [38;5;81mlong[38;5;203m[][38;5;231m [38;5;208mpayload[38;5;231m) {[0m[48;5;52m                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 548[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m first_empty_slot [38;5;203m=[38;5;231m find_first_empty_slot(canonical_slot); [38;5;242m// finds the first empty slot to the right of the canonical slot that is emp[34mâ†´[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                                 [34mâ€¦[38;5;242mty[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 549[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m preexisting_run_start_index [38;5;203m=[38;5;231m find_run_start(canonical_slot); [38;5;242m// scans the cluster leftwards and then to the right until reaching our [34mâ†´[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                            [34mâ€¦[38;5;242mrun's would be location[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 550[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m start_of_this_new_run [38;5;203m=[38;5;231m find_new_run_location(preexisting_run_start_index); [38;5;242m// If there is already a run at the would-be location, fin[34mâ†´[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                          [34mâ€¦[38;5;242md its end and insert the new run after it[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 551[34mâ”‚[48;5;52;38;5;231m        [38;5;81mboolean[38;5;231m slot_initially_empty [38;5;203m=[38;5;231m is_slot_empty(start_of_this_new_run);[0m[48;5;52m                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 552[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 553[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// modify some metadata flags to mark the new run[0m[48;5;52m                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 554[34mâ”‚[48;5;52;38;5;231m        set_occupied(canonical_slot, [38;5;141mtrue[38;5;231m);[0m[48;5;52m                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 555[34mâ”‚[48;5;52;38;5;231m        [38;5;203mif[38;5;231m (first_empty_slot [38;5;203m!=[38;5;231m canonical_slot) {[0m[48;5;52m                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 556[34mâ”‚[48;5;52;38;5;231m            set_shifted(start_of_this_new_run, [38;5;141mtrue[38;5;231m);[0m[48;5;52m                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 557[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 558[34mâ”‚[48;5;52;38;5;231m        set_continuation(start_of_this_new_run, [38;5;141mfalse[38;5;231m);[0m[48;5;52m                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 559[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 560[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// if the slot was initially empty, we can just terminate, as there is nothing to push to the right[0m[48;5;52m                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 561[34mâ”‚[48;5;52;38;5;231m        [38;5;203mif[38;5;231m (slot_initially_empty) {[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 562[34mâ”‚[48;5;52;38;5;231m            set_fingerprint(start_of_this_new_run, long_fp);[0m[48;5;52m                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 563[34mâ”‚[48;5;52;38;5;231m            set_payload(start_of_this_new_run, payload);[0m[48;5;52m                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 564[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (start_of_this_new_run [38;5;203m==[38;5;231m last_empty_slot) {[0m[48;5;52m                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 565[34mâ”‚[48;5;52;38;5;231m                last_empty_slot [38;5;203m=[38;5;231m find_backward_empty_slot(last_cluster_start);[0m[48;5;52m                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 566[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 567[34mâ”‚[48;5;52;38;5;231m            num_physical_entries[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 568[34mâ”‚[48;5;52;38;5;231m            [38;5;203mreturn[38;5;231m [38;5;141mtrue[38;5;231m;[0m[48;5;52m                                                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 569[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 570[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 571[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// push all entries one slot to the right[0m[48;5;52m                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 572[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// if we inserted this run in the middle of a cluster[0m[48;5;52m                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 573[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m current_index [38;5;203m=[38;5;231m start_of_this_new_run;[0m[48;5;52m                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 574[34mâ”‚[48;5;52;38;5;231m        [38;5;81mboolean[38;5;231m is_this_slot_empty;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 575[34mâ”‚[48;5;52;38;5;231m        [38;5;81mboolean[38;5;231m temp_continuation [38;5;203m=[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;52m                                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 576[34mâ”‚[48;5;52;38;5;231m        [38;5;203mdo[38;5;231m {[0m[48;5;52m                                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 577[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (current_index [38;5;203m>=[38;5;231m get_logical_num_slots_plus_extensions()) {[0m[48;5;52m                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 578[34mâ”‚[48;5;52;38;5;231m                [38;5;203mreturn[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;52m                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 579[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 580[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 581[34mâ”‚[48;5;52;38;5;231m            is_this_slot_empty [38;5;203m=[38;5;231m is_slot_empty(current_index);[0m[48;5;52m                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 582[34mâ”‚[48;5;52;38;5;231m            [38;5;81mlong[38;5;203m[][38;5;231m long_arr [38;5;203m=[38;5;231m swap_fingerprints(current_index, long_fp, payload);[0m[48;5;52m                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 583[34mâ”‚[48;5;52;38;5;231m            long_fp [38;5;203m=[38;5;231m long_arr[long_arr.length [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m];[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 584[34mâ”‚[48;5;52;38;5;231m            payload [38;5;203m=[38;5;231m [38;5;149mArrays[38;5;231m.copyOfRange(long_arr, [38;5;141m0[38;5;231m, long_arr.length [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;52m                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 585[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 586[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 587[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (current_index [38;5;203m>[38;5;231m start_of_this_new_run) {[0m[48;5;52m                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 588[34mâ”‚[48;5;52;38;5;231m                set_shifted(current_index, [38;5;141mtrue[38;5;231m);[0m[48;5;52m                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 589[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 590[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 591[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (current_index [38;5;203m>[38;5;231m start_of_this_new_run) {[0m[48;5;52m                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 592[34mâ”‚[48;5;52;38;5;231m                [38;5;81mboolean[38;5;231m current_continuation [38;5;203m=[38;5;231m is_continuation(current_index);[0m[48;5;52m                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 593[34mâ”‚[48;5;52;38;5;231m                set_continuation(current_index, temp_continuation);[0m[48;5;52m                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 594[34mâ”‚[48;5;52;38;5;231m                temp_continuation [38;5;203m=[38;5;231m current_continuation;[0m[48;5;52m                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 595[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 596[34mâ”‚[48;5;52;38;5;231m            current_index[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 597[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (current_index [38;5;203m==[38;5;231m last_empty_slot) {  [38;5;242m// TODO get this out of the while loop[0m[48;5;52m                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 598[34mâ”‚[48;5;52;38;5;231m                last_empty_slot [38;5;203m=[38;5;231m find_backward_empty_slot(last_cluster_start);[0m[48;5;52m                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 599[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 600[34mâ”‚[48;5;52;38;5;231m        } [38;5;203mwhile[38;5;231m ([38;5;203m![38;5;231mis_this_slot_empty);[0m[48;5;52m                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 601[34mâ”‚[48;5;52;38;5;231m        num_physical_entries[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 602[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m [38;5;141mtrue[38;5;231m;[0m[48;5;52m                                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 603[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 604[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 605[34mâ”‚[48;5;52;38;5;231m    [38;5;81mboolean[38;5;231m [38;5;149minsert[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mlong_fp[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208minsert_only_if_no_match[38;5;231m, [38;5;81mlong[38;5;203m[][38;5;231m [38;5;208mpayload[38;5;231m) {[0m[48;5;52m                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 606[34mâ”‚[48;5;52;38;5;231m        [38;5;203mif[38;5;231m (index [38;5;203m>[38;5;231m last_empty_slot) {[0m[48;5;52m                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 607[34mâ”‚[48;5;52;38;5;231m            [38;5;203mreturn[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;52m                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 608[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 609[34mâ”‚[48;5;52;38;5;231m        [38;5;81mboolean[38;5;231m does_run_exist [38;5;203m=[38;5;231m is_occupied(index);[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 610[34mâ”‚[48;5;52;38;5;231m        [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mdoes_run_exist) {[0m[48;5;52m                                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 611[34mâ”‚[48;5;52;38;5;231m            [38;5;81mboolean[38;5;231m val [38;5;203m=[38;5;231m insert_new_run(index, long_fp, payload);[0m[48;5;52m                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 612[34mâ”‚[48;5;52;38;5;231m            [38;5;203mreturn[38;5;231m val;[0m[48;5;52m                                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 613[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 614[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 615[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m run_start_index [38;5;203m=[38;5;231m find_run_start(index);[0m[48;5;52m                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 616[34mâ”‚[48;5;52;38;5;231m        [38;5;203mif[38;5;231m (does_run_exist [38;5;203m&&[38;5;231m insert_only_if_no_match) {[0m[48;5;52m                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 617[34mâ”‚[48;5;52;38;5;231m            [38;5;81mlong[38;5;231m found_index [38;5;203m=[38;5;231m find_first_fingerprint_in_run(run_start_index, long_fp);[0m[48;5;52m                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 618[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (found_index [38;5;203m>[38;5;231m [38;5;203m-[38;5;141m1[38;5;231m) {[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 619[34mâ”‚[48;5;52;38;5;231m                [38;5;203mreturn[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;52m                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 620[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 621[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 622[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m insert_fingerprint_and_push_all_else(long_fp, run_start_index, payload);[0m[48;5;52m                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 623[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 624[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 625[34mâ”‚[48;5;52;38;5;231m    [38;5;242m// insert an fingerprint as the first fingerprint of the new run and push all other entries in the cluster to the right.[0m[48;5;52m                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 626[34mâ”‚[48;5;52;38;5;231m    [38;5;81mboolean[38;5;231m [38;5;149minsert_fingerprint_and_push_all_else[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mlong_fp[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mrun_start_index[38;5;231m, [38;5;81mlong[38;5;203m[][38;5;231m [38;5;208mpayload[38;5;231m) {[0m[48;5;52m                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 627[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m current_index [38;5;203m=[38;5;231m run_start_index;[0m[48;5;52m                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 628[34mâ”‚[48;5;52;38;5;231m        [38;5;81mboolean[38;5;231m is_this_slot_empty;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 629[34mâ”‚[48;5;52;38;5;231m        [38;5;81mboolean[38;5;231m finished_first_run [38;5;203m=[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;52m                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 630[34mâ”‚[48;5;52;38;5;231m        [38;5;81mboolean[38;5;231m temp_continuation [38;5;203m=[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;52m                                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 631[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 632[34mâ”‚[48;5;52;38;5;231m        [38;5;203mdo[38;5;231m {[0m[48;5;52m                                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 633[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (current_index [38;5;203m>=[38;5;231m get_logical_num_slots_plus_extensions()) {[0m[48;5;52m                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 634[34mâ”‚[48;5;52;38;5;231m                [38;5;203mreturn[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;52m                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 635[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 636[34mâ”‚[48;5;52;38;5;231m            is_this_slot_empty [38;5;203m=[38;5;231m is_slot_empty(current_index);[0m[48;5;52m                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 637[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (current_index [38;5;203m>[38;5;231m run_start_index) {[0m[48;5;52m                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 638[34mâ”‚[48;5;52;38;5;231m                set_shifted(current_index, [38;5;141mtrue[38;5;231m);[0m[48;5;52m                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 639[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 640[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (current_index [38;5;203m>[38;5;231m run_start_index [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mfinished_first_run [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mis_continuation(current_index)) {[0m[48;5;52m                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 641[34mâ”‚[48;5;52;38;5;231m                finished_first_run [38;5;203m=[38;5;231m [38;5;141mtrue[38;5;231m;[0m[48;5;52m                                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 642[34mâ”‚[48;5;52;38;5;231m                set_continuation(current_index, [38;5;141mtrue[38;5;231m);[0m[48;5;52m                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 643[34mâ”‚[48;5;52;38;5;231m                [38;5;81mlong[38;5;203m[][38;5;231m long_arr [38;5;203m=[38;5;231m swap_fingerprints(current_index, long_fp, payload);[0m[48;5;52m                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 644[34mâ”‚[48;5;52;38;5;231m                long_fp [38;5;203m=[38;5;231m long_arr[long_arr.length [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m];[0m[48;5;52m                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 645[34mâ”‚[48;5;52;38;5;231m                payload [38;5;203m=[38;5;231m [38;5;149mArrays[38;5;231m.copyOfRange(long_arr, [38;5;141m0[38;5;231m, long_arr.length [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;52m                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 646[34mâ”‚[48;5;52;38;5;231m            } [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m (finished_first_run) {[0m[48;5;52m                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 647[34mâ”‚[48;5;52;38;5;231m                [38;5;81mboolean[38;5;231m current_continuation [38;5;203m=[38;5;231m is_continuation(current_index);[0m[48;5;52m                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 648[34mâ”‚[48;5;52;38;5;231m                set_continuation(current_index, temp_continuation);[0m[48;5;52m                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 649[34mâ”‚[48;5;52;38;5;231m                temp_continuation [38;5;203m=[38;5;231m current_continuation;[0m[48;5;52m                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 650[34mâ”‚[48;5;52;38;5;231m                [38;5;81mlong[38;5;203m[][38;5;231m long_arr [38;5;203m=[38;5;231m swap_fingerprints(current_index, long_fp, payload);[0m[48;5;52m                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 651[34mâ”‚[48;5;52;38;5;231m                long_fp [38;5;203m=[38;5;231m long_arr[long_arr.length [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m];[0m[48;5;52m                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 652[34mâ”‚[48;5;52;38;5;231m                payload [38;5;203m=[38;5;231m [38;5;149mArrays[38;5;231m.copyOfRange(long_arr, [38;5;141m0[38;5;231m, long_arr.length [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;52m                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 653[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 654[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (current_index [38;5;203m==[38;5;231m last_empty_slot) {[0m[48;5;52m                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 655[34mâ”‚[48;5;52;38;5;231m                last_empty_slot [38;5;203m=[38;5;231m find_backward_empty_slot(last_cluster_start);[0m[48;5;52m                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 656[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 657[34mâ”‚[48;5;52;38;5;231m            current_index[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 658[34mâ”‚[48;5;52;38;5;231m        } [38;5;203mwhile[38;5;231m ([38;5;203m![38;5;231mis_this_slot_empty);[0m[48;5;52m                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 659[34mâ”‚[48;5;52;38;5;231m        num_physical_entries[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 660[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m [38;5;141mtrue[38;5;231m;[0m[48;5;52m                                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 661[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 662[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 663[34mâ”‚[48;5;52;38;5;231m    [38;5;81mboolean[38;5;231m [38;5;149mdelete[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mcanonical_slot[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mrun_start_index[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mmatching_fingerprint_index[38;5;231m) {[0m[48;5;52m                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 664[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m run_end [38;5;203m=[38;5;231m find_run_end(matching_fingerprint_index);[0m[48;5;52m                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 665[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 666[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// the run has only one entry, we need to disable its is_occupied flag[0m[48;5;52m                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 667[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// we just remember we need to do this here, and we do it later to not interfere with counts[0m[48;5;52m                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 668[34mâ”‚[48;5;52;38;5;231m        [38;5;81mboolean[38;5;231m turn_off_occupied [38;5;203m=[38;5;231m run_start_index [38;5;203m==[38;5;231m run_end;[0m[48;5;52m                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 669[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 670[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// First thing to do is move everything else in the run back by one slot[0m[48;5;52m                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 671[34mâ”‚[48;5;52;38;5;231m        [38;5;203mfor[38;5;231m ([38;5;81mlong[38;5;231m i [38;5;203m=[38;5;231m matching_fingerprint_index; i [38;5;203m<[38;5;231m run_end; i[38;5;203m++[38;5;231m) {[0m[48;5;52m                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 672[34mâ”‚[48;5;52;38;5;231m            [38;5;81mlong[38;5;231m f [38;5;203m=[38;5;231m get_fingerprint(i [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;52m                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 673[34mâ”‚[48;5;52;38;5;231m            [38;5;81mlong[38;5;203m[][38;5;231m payload [38;5;203m=[38;5;231m get_payload(i [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;52m                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 674[34mâ”‚[48;5;52;38;5;231m            set_fingerprint(i, f);[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 675[34mâ”‚[48;5;52;38;5;231m            set_payload(i, payload);[0m[48;5;52m                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 676[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 677[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 678[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// for each slot, we want to know by how much the entry there is shifted[0m[48;5;52m                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 679[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// we can do this by counting the number of continuation flags set to true[0m[48;5;52m                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 680[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// and the number of occupied flags set to false from the start of the cluster to the given cell[0m[48;5;52m                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 681[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// and then subtracting: num_shifted_count - num_non_occupied = number of slots by which an entry is shifted[0m[48;5;52m                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 682[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m cluster_start [38;5;203m=[38;5;231m find_cluster_start(canonical_slot);[0m[48;5;52m                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 683[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m num_shifted_count [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 684[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m num_non_occupied [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 685[34mâ”‚[48;5;52;38;5;231m        [38;5;203mfor[38;5;231m ([38;5;81mlong[38;5;231m i [38;5;203m=[38;5;231m cluster_start; i [38;5;203m<=[38;5;231m run_end; i[38;5;203m++[38;5;231m) {[0m[48;5;52m                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 686[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (is_continuation(i)) {[0m[48;5;52m                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 687[34mâ”‚[48;5;52;38;5;231m                num_shifted_count[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 688[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 689[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mis_occupied(i)) {[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 690[34mâ”‚[48;5;52;38;5;231m                num_non_occupied[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 691[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 692[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 693[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 694[34mâ”‚[48;5;52;38;5;231m        set_fingerprint(run_end, [38;5;141m0[38;5;231m);[0m[48;5;52m                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 695[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;203m[][38;5;231m tmp [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[(payloadSize [38;5;203m+[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m) [38;5;203m/[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m];[0m[48;5;52m                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 696[34mâ”‚[48;5;52;38;5;231m        set_payload(run_end, tmp);[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 697[34mâ”‚[48;5;52;38;5;231m        set_shifted(run_end, [38;5;141mfalse[38;5;231m);[0m[48;5;52m                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 698[34mâ”‚[48;5;52;38;5;231m        set_continuation(run_end, [38;5;141mfalse[38;5;231m);[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 699[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 700[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// we now have a nested loop. The outer do-while iterates over the remaining runs in the cluster.[0m[48;5;52m                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 701[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// the inner for loop iterates over cells of particular runs, pushing entries one slot back.[0m[48;5;52m                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 702[34mâ”‚[48;5;52;38;5;231m        [38;5;203mdo[38;5;231m {[0m[48;5;52m                                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 703[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// we first check if the next run actually exists and if it is shifted.[0m[48;5;52m                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 704[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// only if both conditions hold, we need to shift it back one slot.[0m[48;5;52m                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 705[34mâ”‚[48;5;52;38;5;231m            [38;5;242m//boolean does_next_run_exist = !is_slot_empty(run_end + 1);[0m[48;5;52m                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 706[34mâ”‚[48;5;52;38;5;231m            [38;5;242m//boolean is_next_run_shifted = is_shifted(run_end + 1);[0m[48;5;52m                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 707[34mâ”‚[48;5;52;38;5;231m            [38;5;242m//if (!does_next_run_exist || !is_next_run_shifted) {[0m[48;5;52m                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 708[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (run_end [38;5;203m>=[38;5;231m get_logical_num_slots_plus_extensions() [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m [38;5;203m||[0m[48;5;52m                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 709[34mâ”‚[48;5;52;38;5;231m                    is_slot_empty(run_end [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m) [38;5;203m||[38;5;231m [38;5;203m![38;5;231mis_shifted(run_end [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m)) {[0m[48;5;52m                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 710[34mâ”‚[48;5;52;38;5;231m                [38;5;203mif[38;5;231m (turn_off_occupied) {[0m[48;5;52m                                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 711[34mâ”‚[48;5;52;38;5;231m                    [38;5;242m// if we eliminated a run and now need to turn the is_occupied flag off, we do it at the end to not interfere in our counts[0m[48;5;52m     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 712[34mâ”‚[48;5;52;38;5;231m                    set_occupied(canonical_slot, [38;5;141mfalse[38;5;231m);[0m[48;5;52m                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 713[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 714[34mâ”‚[48;5;52;38;5;231m                }[0m[48;5;52m                                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 715[34mâ”‚[48;5;52;38;5;231m                [38;5;203mif[38;5;231m (run_end [38;5;203m>[38;5;231m last_empty_slot) {[0m[48;5;52m                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 716[34mâ”‚[48;5;52;38;5;231m                    last_empty_slot [38;5;203m=[38;5;231m run_end;[0m[48;5;52m                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 717[34mâ”‚[48;5;52;38;5;231m                }[0m[48;5;52m                                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 718[34mâ”‚[48;5;52;38;5;231m                [38;5;203mreturn[38;5;231m [38;5;141mtrue[38;5;231m;[0m[48;5;52m                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 719[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 720[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 721[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// we now find the start and end of the next run[0m[48;5;52m                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 722[34mâ”‚[48;5;52;38;5;231m            [38;5;81mlong[38;5;231m next_run_start [38;5;203m=[38;5;231m run_end [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 723[34mâ”‚[48;5;52;38;5;231m            run_end [38;5;203m=[38;5;231m find_run_end(next_run_start);[0m[48;5;52m                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 724[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 725[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// before we start processing the next run, we check whether the previous run we shifted is now back to its canonical slot[0m[48;5;52m              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 726[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// The condition num_shifted_count - num_non_occupied == 1 ensures that the run was shifted by only 1 slot, meaning it is now back in i[34mâ†´[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                    [34mâ€¦[38;5;242mts proper place[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 727[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (is_occupied(next_run_start [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m) [38;5;203m&&[38;5;231m num_shifted_count [38;5;203m-[38;5;231m num_non_occupied [38;5;203m==[38;5;231m [38;5;141m1[38;5;231m) {[0m[48;5;52m                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 728[34mâ”‚[48;5;52;38;5;231m                set_shifted(next_run_start [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m, [38;5;141mfalse[38;5;231m);[0m[48;5;52m                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 729[34mâ”‚[48;5;52;38;5;231m            } [38;5;203melse[38;5;231m {[0m[48;5;52m                                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 730[34mâ”‚[48;5;52;38;5;231m                set_shifted(next_run_start [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m);[0m[48;5;52m                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 731[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 732[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 733[34mâ”‚[48;5;52;38;5;231m            [38;5;203mfor[38;5;231m ([38;5;81mlong[38;5;231m i [38;5;203m=[38;5;231m next_run_start; i [38;5;203m<=[38;5;231m run_end; i[38;5;203m++[38;5;231m) {[0m[48;5;52m                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 734[34mâ”‚[48;5;52;38;5;231m                [38;5;81mlong[38;5;231m f [38;5;203m=[38;5;231m get_fingerprint(i);[0m[48;5;52m                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 735[34mâ”‚[48;5;52;38;5;231m                [38;5;81mlong[38;5;203m[][38;5;231m pl [38;5;203m=[38;5;231m get_payload(i);[0m[48;5;52m                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 736[34mâ”‚[48;5;52;38;5;231m                set_fingerprint(i [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m, f);[0m[48;5;52m                                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 737[34mâ”‚[48;5;52;38;5;231m                set_payload(i [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m, pl);[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 738[34mâ”‚[48;5;52;38;5;231m                [38;5;203mif[38;5;231m (is_continuation(i)) {[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 739[34mâ”‚[48;5;52;38;5;231m                    set_continuation(i [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m);[0m[48;5;52m                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 740[34mâ”‚[48;5;52;38;5;231m                }[0m[48;5;52m                                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 741[34mâ”‚[48;5;52;38;5;231m                [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mis_occupied(i)) {[0m[48;5;52m                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 742[34mâ”‚[48;5;52;38;5;231m                    num_non_occupied[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 743[34mâ”‚[48;5;52;38;5;231m                }[0m[48;5;52m                                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 744[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 745[34mâ”‚[48;5;52;38;5;231m            num_shifted_count [38;5;203m+=[38;5;231m run_end [38;5;203m-[38;5;231m next_run_start;[0m[48;5;52m                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 746[34mâ”‚[48;5;52;38;5;231m            set_fingerprint(run_end, [38;5;141m0[38;5;231m);[0m[48;5;52m                                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 747[34mâ”‚[48;5;52;38;5;231m            set_payload(run_end, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[(payloadSize [38;5;203m+[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m) [38;5;203m/[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m]);[0m[48;5;52m                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 748[34mâ”‚[48;5;52;38;5;231m            set_shifted(run_end, [38;5;141mfalse[38;5;231m);[0m[48;5;52m                                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 749[34mâ”‚[48;5;52;38;5;231m            set_continuation(run_end, [38;5;141mfalse[38;5;231m);[0m[48;5;52m                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 750[34mâ”‚[48;5;52;38;5;231m        } [38;5;203mwhile[38;5;231m ([38;5;141mtrue[38;5;231m);[0m[48;5;52m                                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 751[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 752[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 753[34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;203m[][38;5;231m [38;5;149mdelete[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mcanonical_slot[38;5;231m) {[0m[48;5;52m                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 754[34mâ”‚[48;5;52;38;5;231m        [38;5;203mif[38;5;231m (canonical_slot [38;5;203m>=[38;5;231m get_logical_num_slots()) {[0m[48;5;52m                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 755[34mâ”‚[48;5;52;38;5;231m            [38;5;203mreturn[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;203m-[38;5;141m1[38;5;231m};[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 756[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 757[34mâ”‚[48;5;52;38;5;231m        [38;5;242m// if the run doesn't exist, the key can't have possibly been inserted[0m[48;5;52m                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 758[34mâ”‚[48;5;52;38;5;231m        [38;5;81mboolean[38;5;231m does_run_exist [38;5;203m=[38;5;231m is_occupied(canonical_slot);[0m[48;5;52m                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 759[34mâ”‚[48;5;52;38;5;231m        [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mdoes_run_exist) {[0m[48;5;52m                                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 760[34mâ”‚[48;5;52;38;5;231m            [38;5;203mreturn[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;203m-[38;5;141m1[38;5;231m};[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 761[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 762[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m run_start_index [38;5;203m=[38;5;231m find_run_start(canonical_slot);[0m[48;5;52m                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 763[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 764[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m matching_fingerprint_index [38;5;203m=[38;5;231m decide_which_fingerprint_to_delete(run_start_index, fingerprint);[0m[48;5;52m                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 765[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 766[34mâ”‚[48;5;52;38;5;231m        [38;5;203mif[38;5;231m (matching_fingerprint_index [38;5;203m==[38;5;231m [38;5;203m-[38;5;141m1[38;5;231m) {[0m[48;5;52m                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 767[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// we didn't find a matching fingerprint[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 768[34mâ”‚[48;5;52;38;5;231m            [38;5;203mreturn[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;203m-[38;5;141m1[38;5;231m};[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 769[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 770[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 771[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m removed_fp [38;5;203m=[38;5;231m get_fingerprint(matching_fingerprint_index);[0m[48;5;52m                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 772[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;203m[][38;5;231m payload [38;5;203m=[38;5;231m get_payload(matching_fingerprint_index);[0m[48;5;52m                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 773[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 774[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 775[34mâ”‚[48;5;52;38;5;231m        [38;5;81mboolean[38;5;231m success [38;5;203m=[38;5;231m delete(fingerprint, canonical_slot, run_start_index, matching_fingerprint_index);[0m[48;5;52m                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 776[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 777[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m success [38;5;203m?[38;5;231m payload [38;5;203m:[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;203m-[38;5;141m1[38;5;231m};[0m[48;5;52m                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 778[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 779[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 780[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 781[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 782[34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;231m [38;5;149mget_slot_index[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mlarge_hash[38;5;231m) {[0m[48;5;52m                                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 783[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m slot_index_mask [38;5;203m=[38;5;231m ([38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m power_of_two_size) [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 784[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m slot_index [38;5;203m=[38;5;231m large_hash [38;5;203m&[38;5;231m slot_index_mask;[0m[48;5;52m                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 785[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//System.out.format("\n**get_slot_index(): [total_hash:index_hash:int_index] --> [%016x:%016x:%016x]\n", large_hash, (int)large_hash, slot_[34mâ†´[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                            [34mâ€¦[38;5;242mindex);[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 786[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m slot_index;[0m[48;5;52m                                                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 787[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 788[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 789[34mâ”‚[48;5;52;38;5;231m    [38;5;81mlong[38;5;231m [38;5;149mgen_fingerprint[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mlarge_hash[38;5;231m) {[0m[48;5;52m                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 790[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m fingerprint_mask [38;5;203m=[38;5;231m ([38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m fingerprintLength) [38;5;203m-[38;5;231m [38;5;141m1[38;5;81mL[38;5;231m;[0m[48;5;52m                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 791[34mâ”‚[48;5;52;38;5;231m        fingerprint_mask [38;5;203m=[38;5;231m fingerprint_mask [38;5;203m<<[38;5;231m power_of_two_size;[0m[48;5;52m                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 792[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m fingerprint [38;5;203m=[38;5;231m (large_hash [38;5;203m&[38;5;231m fingerprint_mask) [38;5;203m>>[38;5;231m power_of_two_size;[0m[48;5;52m                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 793[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//System.out.format("\n**gen_fingerprint(): [total_hash:fingerprint_hash:int_fingerprint] --> [%016x:%016x:%016x]\n", large_hash, ((int)(la[34mâ†´[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                      [34mâ€¦[38;5;242mrge_hash>>32)), fingerprint);[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 794[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m fingerprint;[0m[48;5;52m                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 795[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 796[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 797[34mâ”‚[48;5;52;38;5;231m    [38;5;81mvoid[38;5;231m [38;5;149mprint_key[38;5;231m([38;5;81mint[38;5;231m [38;5;208minput[38;5;231m) {[0m[48;5;52m                                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 798[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m large_hash [38;5;203m=[38;5;231m [38;5;149mHashFunctions[38;5;231m.normal_hash(input);[0m[48;5;52m                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 799[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m slot_index [38;5;203m=[38;5;231m get_slot_index(large_hash);[0m[48;5;52m                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 800[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m fingerprint [38;5;203m=[38;5;231m gen_fingerprint(large_hash);[0m[48;5;52m                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 801[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 802[34mâ”‚[48;5;52;38;5;231m        [38;5;149mSystem[38;5;231m.out.println([38;5;186m"num   :  "[38;5;231m [38;5;203m+[38;5;231m input);[0m[48;5;52m                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 803[34mâ”‚[48;5;52;38;5;231m        [38;5;149mSystem[38;5;231m.out.print([38;5;186m"hash  :  "[38;5;231m);[0m[48;5;52m                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 804[34mâ”‚[48;5;52;38;5;231m        print_long_in_binary(large_hash, fingerprintLength [38;5;203m+[38;5;231m power_of_two_size);[0m[48;5;52m                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 805[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//print_int_in_binary(slot_index_mask, 31);[0m[48;5;52m                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 806[34mâ”‚[48;5;52;38;5;231m        [38;5;149mSystem[38;5;231m.out.print([38;5;186m"bucket:  "[38;5;231m);[0m[48;5;52m                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 10 [34mâ”‚[48;5;22;38;5;231m        [38;5;81mint[38;5;231m bitPerEntry;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 11 [34mâ”‚[48;5;22;38;5;231m        [38;5;81mint[38;5;231m fingerprintLength;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 12 [34mâ”‚[48;5;22;38;5;231m        [38;5;81mint[38;5;231m payloadSize;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 807[34mâ”‚[48;5;52;38;5;231m        [48;5;124mprint_long_in_binary(slot_index,[48;5;52m power_of_two_size[48;5;124m)[48;5;52m;[0m[48;5;52m                                                                                        [0m[34mâ”‚[38;5;28m 13 [34mâ”‚[48;5;22;38;5;231m        [48;5;28;38;5;81mint[48;5;22;38;5;231m power_of_two_size;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 808[34mâ”‚[48;5;52;38;5;231m        [38;5;149mSystem[38;5;231m.out.print([38;5;186m"FP    :  "[38;5;231m);[0m[48;5;52m                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 809[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//print_int_in_binary(fingerprint_mask, 31);[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 810[34mâ”‚[48;5;52;38;5;231m        print_long_in_binary(fingerprint, fingerprintLength);[0m[48;5;52m                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 811[34mâ”‚[48;5;52;38;5;231m        [38;5;149mSystem[38;5;231m.out.println();[0m[48;5;52m                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 14 [34mâ”‚[48;5;22;38;5;231m        [38;5;81mint[38;5;231m num_extension_slots;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 15 [34mâ”‚[48;5;22;38;5;231m        [38;5;81mint[38;5;231m num_physical_entries;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 16 [34mâ”‚[48;5;22;38;5;231m        [38;5;149mBitmap[38;5;231m filter;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 17 [34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 18 [34mâ”‚[48;5;22;38;5;231m        [38;5;242m// These three fields are used to prevent throwing exceptions when the buffer space of the filter is exceeded[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 19 [34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m last_empty_slot;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 20 [34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m last_cluster_start;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 21 [34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m backward_steps;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 22 [34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 23 [34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 24 [34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 25 [34mâ”‚[48;5;22;38;5;231m        [38;5;81mboolean[38;5;231m expand_autonomously;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 26 [34mâ”‚[48;5;22;38;5;231m        [38;5;81mboolean[38;5;231m is_full;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 27 [34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 28 [34mâ”‚[48;5;22;38;5;231m        [38;5;242m// statistics, computed in the compute_statistics method. method should be called before these are used[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 29 [34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m num_runs;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 30 [34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m num_clusters;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 31 [34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mdouble[38;5;231m avg_run_length;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 32 [34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mdouble[38;5;231m avg_cluster_length;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 33 [34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 34 [34mâ”‚[48;5;22;38;5;231m        [38;5;81mint[38;5;231m original_fingerprint_size;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 35 [34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 36 [34mâ”‚[48;5;22;38;5;231m        @Override[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 37 [34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;149mObject[38;5;231m clone() {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 38 [34mâ”‚[48;5;22;38;5;231m                [38;5;149mQuotientFilter[38;5;231m f [38;5;203m=[38;5;231m [38;5;141mnull[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 39 [34mâ”‚[48;5;22;38;5;231m                f [38;5;203m=[38;5;231m ([38;5;149mQuotientFilter[38;5;231m) super.clone();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 40 [34mâ”‚[48;5;22;38;5;231m                f.filter [38;5;203m=[38;5;231m ([38;5;149mBitmap[38;5;231m) filter.clone();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 41 [34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m f;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 42 [34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 43 [34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 44 [34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m QuotientFilter([38;5;81mint[38;5;231m power_of_two, [38;5;81mint[38;5;231m bits_per_entry, [38;5;81mint[38;5;231m payload_size) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 45 [34mâ”‚[48;5;22;38;5;231m                power_of_two_size [38;5;203m=[38;5;231m power_of_two;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 46 [34mâ”‚[48;5;22;38;5;231m                bitPerEntry [38;5;203m=[38;5;231m bits_per_entry;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 47 [34mâ”‚[48;5;22;38;5;231m                fingerprintLength [38;5;203m=[38;5;231m bits_per_entry [38;5;203m-[38;5;231m [38;5;141m3[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 48 [34mâ”‚[48;5;22;38;5;231m                payloadSize [38;5;203m=[38;5;231m payload_size;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 49 [34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m init_size [38;5;203m=[38;5;231m [38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m power_of_two;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 50 [34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 51 [34mâ”‚[48;5;22;38;5;231m                [38;5;242m// grava what is it?[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 52 [34mâ”‚[48;5;22;38;5;231m                num_extension_slots [38;5;203m=[38;5;231m power_of_two [38;5;203m*[38;5;231m [38;5;141m2[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 53 [34mâ”‚[48;5;22;38;5;231m                filter [38;5;203m=[38;5;231m make_filter(init_size, bits_per_entry [38;5;203m+[38;5;231m payload_size);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 54 [34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 55 [34mâ”‚[48;5;22;38;5;231m                fullness_threshold [38;5;203m=[38;5;231m [38;5;141m0.8[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 56 [34mâ”‚[48;5;22;38;5;231m                max_entries_before_full [38;5;203m=[38;5;231m ([38;5;81mint[38;5;231m) (init_size [38;5;203m*[38;5;231m fullness_threshold);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 57 [34mâ”‚[48;5;22;38;5;231m                expand_autonomously [38;5;203m=[38;5;231m [38;5;141mtrue[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 58 [34mâ”‚[48;5;22;38;5;231m                is_full [38;5;203m=[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 59 [34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 60 [34mâ”‚[48;5;22;38;5;231m                original_fingerprint_size [38;5;203m=[38;5;231m fingerprintLength;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 61 [34mâ”‚[48;5;22;38;5;231m                num_expansions [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 62 [34mâ”‚[48;5;22;38;5;231m                hash_type [38;5;203m=[38;5;231m [38;5;149mHashType[38;5;231m.xxh;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 63 [34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 64 [34mâ”‚[48;5;22;38;5;231m                last_empty_slot [38;5;203m=[38;5;231m init_size [38;5;203m+[38;5;231m num_extension_slots [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 65 [34mâ”‚[48;5;22;38;5;231m                last_cluster_start [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 66 [34mâ”‚[48;5;22;38;5;231m                backward_steps [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 67 [34mâ”‚[48;5;22;38;5;231m                [38;5;242m//measure_num_bits_per_entry();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 68 [34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 69 [34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 70 [34mâ”‚[48;5;22;38;5;231m        void setup() {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 71 [34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 72 [34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 73 [34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 74 [34mâ”‚[48;5;22;38;5;231m        [38;5;242m//nuevo[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 75 [34mâ”‚[48;5;22;38;5;231m        void update([38;5;81mlong[38;5;231m init_size)[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 76 [34mâ”‚[48;5;22;38;5;231m        {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 77 [34mâ”‚[48;5;22;38;5;231m                last_empty_slot [38;5;203m=[38;5;231m init_size [38;5;203m+[38;5;231m num_extension_slots [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 78 [34mâ”‚[48;5;22;38;5;231m                last_cluster_start [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 79 [34mâ”‚[48;5;22;38;5;231m                backward_steps [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 80 [34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 81 [34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 82 [34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mboolean[38;5;231m rejuvenate([38;5;81mlong[38;5;231m key) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 83 [34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 84 [34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 85 [34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 86 [34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m get_num_physical_entries() {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 87 [34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m num_physical_entries;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 88 [34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 89 [34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 90 [34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m get_max_entries_before_expansion() {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 91 [34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m max_entries_before_full;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 92 [34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 93 [34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 94 [34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mboolean[38;5;231m expand_autonomously() {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 95 [34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m expand_autonomously;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 96 [34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 97 [34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 98 [34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m void set_expand_autonomously([38;5;81mboolean[38;5;231m val) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 99 [34mâ”‚[48;5;22;38;5;231m                expand_autonomously [38;5;203m=[38;5;231m val;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 100[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 101[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 102[34mâ”‚[48;5;22;38;5;231m        [38;5;149mBitmap[38;5;231m make_filter([38;5;81mlong[38;5;231m init_size, [38;5;81mint[38;5;231m bits_per_entry) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 103[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mQuickBitVectorWrapper[38;5;231m(bits_per_entry, init_size [38;5;203m+[38;5;231m num_extension_slots);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 104[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 105[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 106[34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mint[38;5;231m get_fingerprint_length() {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 107[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m fingerprintLength;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 108[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 109[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 110[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// grava[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 111[34mâ”‚[48;5;22;38;5;231m        QuotientFilter([38;5;81mint[38;5;231m power_of_two, [38;5;81mint[38;5;231m bits_per_entry, [38;5;149mBitmap[38;5;231m bitmap, [38;5;81mint[38;5;231m payload_size) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 112[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 113[34mâ”‚[48;5;22;38;5;231m                power_of_two_size [38;5;203m=[38;5;231m power_of_two;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 114[34mâ”‚[48;5;22;38;5;231m                bitPerEntry [38;5;203m=[38;5;231m bits_per_entry;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 115[34mâ”‚[48;5;22;38;5;231m                fingerprintLength [38;5;203m=[38;5;231m bits_per_entry [38;5;203m-[38;5;231m [38;5;141m3[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 116[34mâ”‚[48;5;22;38;5;231m                payloadSize [38;5;203m=[38;5;231m payload_size;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 117[34mâ”‚[48;5;22;38;5;231m                filter [38;5;203m=[38;5;231m bitmap;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 118[34mâ”‚[48;5;22;38;5;231m                num_extension_slots [38;5;203m=[38;5;231m power_of_two [38;5;203m*[38;5;231m [38;5;141m2[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 119[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 120[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//nuevo[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 121[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m init_size [38;5;203m=[38;5;231m [38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m power_of_two;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 122[34mâ”‚[48;5;22;38;5;231m                last_empty_slot [38;5;203m=[38;5;231m init_size [38;5;203m+[38;5;231m num_extension_slots [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 123[34mâ”‚[48;5;22;38;5;231m                last_cluster_start [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 124[34mâ”‚[48;5;22;38;5;231m                backward_steps [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 125[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 126[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 127[34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mboolean[38;5;231m expand() {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 128[34mâ”‚[48;5;22;38;5;231m                is_full [38;5;203m=[38;5;231m [38;5;141mtrue[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 129[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 130[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 131[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 132[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// measures the number of bits per entry for the filter[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 133[34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mdouble[38;5;231m measure_num_bits_per_entry() {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 134[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m measure_num_bits_per_entry(this, [38;5;203mnew[38;5;231m [38;5;149mArrayList[38;5;231m<[38;5;149mQuotientFilter[38;5;231m>());[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 135[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 136[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 137[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// measures the number of bits per entry for the filter[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 138[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// it takes an array of filters as a parameter since some filter implementations here consist of multiple filter objects[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 139[34mâ”‚[48;5;22;38;5;231m        [38;5;203mprotected[38;5;231m [38;5;203mstatic[38;5;231m [38;5;81mdouble[38;5;231m measure_num_bits_per_entry([38;5;149mQuotientFilter[38;5;231m current, [38;5;149mArrayList[38;5;231m<[38;5;149mQuotientFilter[38;5;231m> other_filters) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 140[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//System.out.println("--------------------------");[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 141[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//current.print_filter_summary();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 142[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//System.out.println();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 143[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//double num_entries = current.get_num_occupied_slots(false);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 144[34mâ”‚[48;5;22;38;5;231m                [38;5;81mdouble[38;5;231m total_count [38;5;203m=[38;5;231m current.get_num_logical_entries();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 145[34mâ”‚[48;5;22;38;5;231m                [38;5;203mfor[38;5;231m ([38;5;149mQuotientFilter[38;5;231m q [38;5;203m:[38;5;231m other_filters) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 146[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m//q.print_filter_summary();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 147[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m//System.out.println();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 148[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m//long q_num_entries = q.get_num_occupied_slots(false);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 149[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m//num_entries += q_num_entries;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 150[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m//total_count += q.num_physical_entries;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 151[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 152[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//System.out.println("entry count: " + total_count + "  " + num_entries);[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 153[34mâ”‚[48;5;22;38;5;231m                [38;5;81mdouble[38;5;231m init_size [38;5;203m=[38;5;231m [38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m current.power_of_two_size;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 154[34mâ”‚[48;5;22;38;5;231m                [38;5;81mdouble[38;5;231m num_bits [38;5;203m=[38;5;231m current.bitPerEntry [38;5;203m*[38;5;231m init_size [38;5;203m+[38;5;231m current.num_extension_slots [38;5;203m*[38;5;231m current.bitPerEntry;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 155[34mâ”‚[48;5;22;38;5;231m                [38;5;203mfor[38;5;231m ([38;5;149mQuotientFilter[38;5;231m q [38;5;203m:[38;5;231m other_filters) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 156[34mâ”‚[48;5;22;38;5;231m                        init_size [38;5;203m=[38;5;231m [38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m q.power_of_two_size;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 157[34mâ”‚[48;5;22;38;5;231m                        num_bits [38;5;203m+=[38;5;231m q.bitPerEntry [38;5;203m*[38;5;231m init_size [38;5;203m+[38;5;231m q.num_extension_slots [38;5;203m*[38;5;231m q.bitPerEntry;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 158[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 159[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//System.out.println("total entries: \t\t" + num_entries);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 160[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//System.out.println("total bits: \t\t" + num_bits);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 161[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 162[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//System.out.println("entries:  " + total_count + "  bits:  " + num_bits);[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 812[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 163[34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 164[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 165[34mâ”‚[48;5;22;38;5;231m                [38;5;81mdouble[38;5;231m bits_per_entry [38;5;203m=[38;5;231m num_bits [38;5;203m/[38;5;231m total_count;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 166[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//System.out.println("total bits/entry: \t" + bits_per_entry);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 167[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//System.out.println();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 168[34mâ”‚[48;5;22;38;5;231m                 [38;5;203mreturn[38;5;231m bits_per_entry;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 813[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m 169[34mâ”‚[48;5;22;38;5;231m    [48;5;28m    [48;5;22m}[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 170[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 171[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// scans the quotient filter and returns the number of non-empty slots[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 172[34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m [38;5;149mget_num_occupied_slots[38;5;231m([38;5;81mboolean[38;5;231m [38;5;208minclude_all_internal_filters[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 173[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//long bits = filter.size();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 174[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m slots [38;5;203m=[38;5;231m get_physcial_num_slots();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 175[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m num_entries [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 176[34mâ”‚[48;5;22;38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mlong[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m slots; i[38;5;203m++[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 177[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (is_occupied(i) [38;5;203m||[38;5;231m is_continuation(i) [38;5;203m||[38;5;231m is_shifted(i)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 178[34mâ”‚[48;5;22;38;5;231m                                num_entries[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 179[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 180[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 181[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m num_entries;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 182[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 183[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 184[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// returns the fraction of occupied slots in the filter[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 185[34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mdouble[38;5;231m [38;5;149mget_utilization[38;5;231m() {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 186[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m num_logical_slots [38;5;203m=[38;5;231m get_logical_num_slots_plus_extensions();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 187[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// num_entries = get_num_occupied_slots(false);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 188[34mâ”‚[48;5;22;38;5;231m                [38;5;81mdouble[38;5;231m util [38;5;203m=[38;5;231m get_num_physical_entries() [38;5;203m/[38;5;231m ([38;5;81mdouble[38;5;231m) num_logical_slots;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 189[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m util;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 190[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 191[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 192[34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m [38;5;149mget_physcial_num_slots[38;5;231m() {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 193[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m bits [38;5;203m=[38;5;231m filter.size();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 194[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m bits [38;5;203m/[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 195[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 196[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 197[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// returns the number of physical slots in the filter (including the extention/buffer slots at the end)[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 198[34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m [38;5;149mget_logical_num_slots_plus_extensions[38;5;231m() {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 199[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m ([38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m power_of_two_size) [38;5;203m+[38;5;231m num_extension_slots;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 200[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 201[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 202[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// returns the number of slots in the filter without the extension/buffer slots[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 203[34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mlong[38;5;231m [38;5;149mget_logical_num_slots[38;5;231m() {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 204[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m [38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m power_of_two_size;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 205[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 206[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 207[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// sets the metadata flag bits for a given slot index[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 208[34mâ”‚[48;5;22;38;5;231m        [38;5;81mvoid[38;5;231m [38;5;149mmodify_slot[38;5;231m([38;5;81mboolean[38;5;231m [38;5;208mis_occupied[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mis_continuation[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mis_shifted[38;5;231m,[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 209[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 210[34mâ”‚[48;5;22;38;5;231m                set_occupied(index, is_occupied);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 211[34mâ”‚[48;5;22;38;5;231m                set_continuation(index, is_continuation);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 212[34mâ”‚[48;5;22;38;5;231m                set_shifted(index, is_shifted);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 213[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 214[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 215[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// sets the fingerprint for a given slot index[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 216[34mâ”‚[48;5;22;38;5;231m        [38;5;81mvoid[38;5;231m [38;5;149mset_fingerprint[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 217[34mâ”‚[48;5;22;38;5;231m                filter.setFromTo(index [38;5;203m*[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize) [38;5;203m+[38;5;231m [38;5;141m3[38;5;231m, ([38;5;81mlong[38;5;231m)index [38;5;203m*[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize) [38;5;203m+[38;5;231m [38;5;141m3[38;5;231m [38;5;203m+[38;5;231m fingerprintLength, finger[34mâ†´[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m    [34mâ”‚[0m[48;5;22m                                                                                                                                            [34mâ€¦[38;5;231mprint);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 218[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 219[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 220[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// sets the payload for a given slot index[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 221[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 222[34mâ”‚[48;5;22;38;5;231m        [38;5;81mvoid[38;5;231m [38;5;149mset_payload[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mlong[38;5;203m[][38;5;231m [38;5;208mpayload[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 223[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m startPosition [38;5;203m=[38;5;231m index [38;5;203m*[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize) [38;5;203m+[38;5;231m [38;5;141m3[38;5;231m [38;5;203m+[38;5;231m fingerprintLength;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 224[34mâ”‚[0m                [1;36mfor (int i = 0; i < payload.length; i++) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 225[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mlong[38;5;231m element [38;5;203m=[38;5;231m payload[i];[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 226[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mint[38;5;231m elementSizeInBits [38;5;203m=[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 227[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (i [38;5;203m==[38;5;231m [38;5;141m0[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 228[34mâ”‚[48;5;22;38;5;231m                                elementSizeInBits [38;5;203m=[38;5;231m payloadSize [38;5;203m%[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 229[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 230[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m// System.out.println("--------------------------------------");[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 231[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m// System.out.println(payload.length);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 232[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m// System.out.println(startPosition + " " + elementSizeInBits);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 233[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m// System.out.println(filter.size());[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 234[34mâ”‚[48;5;22;38;5;231m                        filter.setFromTo(startPosition, startPosition [38;5;203m+[38;5;231m elementSizeInBits, element);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 235[34mâ”‚[48;5;22;38;5;231m                        startPosition [38;5;203m+=[38;5;231m elementSizeInBits;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 236[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 237[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 238[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 239[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// print a nice representation of the filter that can be understood.[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 240[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// if vertical is on, each line will represent a slot[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 241[34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;149mString[38;5;231m [38;5;149mget_pretty_str[38;5;231m([38;5;81mboolean[38;5;231m [38;5;208mvertical[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 242[34mâ”‚[48;5;22;38;5;231m                [38;5;149mStringBuffer[38;5;231m sbr [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mStringBuffer[38;5;231m();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 243[34mâ”‚[48;5;22;38;5;231m                [38;5;149mString[38;5;231m ss [38;5;203m=[38;5;231m [38;5;149mString[38;5;231m.format([38;5;186m"%-"[38;5;231m [38;5;203m+[38;5;231m fingerprintLength [38;5;203m+[38;5;231m [38;5;186m"s"[38;5;231m, [38;5;186m"FP"[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 244[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// More beautiful columnar rep[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 245[34mâ”‚[48;5;22;38;5;231m                sbr.append([38;5;186m"[38;5;141m\n[38;5;186mi[38;5;141m\t[38;5;186m   [38;5;141m\t[38;5;186m"[38;5;231m).append(ss).append([38;5;186m"[38;5;141m\t[38;5;186m"[38;5;231m).append([38;5;186m"Payload"[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 246[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 247[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m logic_slots [38;5;203m=[38;5;231m get_logical_num_slots();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 248[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m all_slots [38;5;203m=[38;5;231m get_logical_num_slots_plus_extensions();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 249[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 250[34mâ”‚[48;5;22;38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mlong[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m filter.size(); i[38;5;203m++[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 251[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//for (long i = 0; i < 100; i++) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 252[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 253[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mlong[38;5;231m remainder [38;5;203m=[38;5;231m i [38;5;203m%[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 254[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (remainder [38;5;203m==[38;5;231m [38;5;141m0[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 255[34mâ”‚[48;5;22;38;5;231m                                [38;5;81mlong[38;5;231m slot [38;5;203m=[38;5;231m i [38;5;203m/[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 256[34mâ”‚[48;5;22;38;5;231m                                [38;5;81mlong[38;5;231m slot_num [38;5;203m=[38;5;231m i[38;5;203m/[38;5;231m(bitPerEntry [38;5;203m+[38;5;231m payloadSize);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 257[34mâ”‚[48;5;22;38;5;231m                                sbr.append([38;5;186m"[38;5;141m\t[38;5;186m"[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 258[34mâ”‚[48;5;22;38;5;231m                                [38;5;203mif[38;5;231m (vertical) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 259[34mâ”‚[48;5;22;38;5;231m                                        [38;5;203mif[38;5;231m (slot_num [38;5;203m==[38;5;231m logic_slots [38;5;203m||[38;5;231m slot_num [38;5;203m==[38;5;231m all_slots) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 260[34mâ”‚[48;5;22;38;5;231m                                                sbr.append([38;5;186m"[38;5;141m\n[38;5;186m ---------"[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 261[34mâ”‚[48;5;22;38;5;231m                                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 262[34mâ”‚[48;5;22;38;5;231m                                        sbr.append([38;5;186m"[38;5;141m\n[38;5;186m"[38;5;231m [38;5;203m+[38;5;231m slot_num [38;5;203m+[38;5;231m [38;5;186m"[38;5;141m\t[38;5;186m"[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 263[34mâ”‚[48;5;22;38;5;231m                                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 264[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 265[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (remainder [38;5;203m==[38;5;231m [38;5;141m3[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 266[34mâ”‚[48;5;22;38;5;231m                                sbr.append([38;5;186m"[38;5;141m\t[38;5;186m"[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 267[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 268[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (remainder [38;5;203m==[38;5;231m bitPerEntry) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 269[34mâ”‚[48;5;22;38;5;231m                                sbr.append([38;5;186m"[38;5;141m\t[38;5;186m"[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 270[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 271[34mâ”‚[48;5;22;38;5;231m                        sbr.append(filter.get(i) [38;5;203m?[38;5;231m [38;5;186m"1"[38;5;231m [38;5;203m:[38;5;231m [38;5;186m"0"[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 272[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 273[34mâ”‚[48;5;22;38;5;231m                sbr.append([38;5;186m"[38;5;141m\n[38;5;186m"[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 274[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m sbr.toString();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 275[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 276[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 277[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// print a nice representation of the filter that can be humanly read.[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 278[34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mvoid[38;5;231m [38;5;149mpretty_print[38;5;231m() {[0m[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 279[34mâ”‚[48;5;22;38;5;231m                [38;5;149mSystem[38;5;231m.out.print(get_pretty_str([38;5;141mtrue[38;5;231m));[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 280[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 281[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 282[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// return a fingerprint in a given slot index[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 283[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m [38;5;149mget_fingerprint[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 284[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m filter.getFromTo(index [38;5;203m*[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize) [38;5;203m+[38;5;231m [38;5;141m3[38;5;231m, index [38;5;203m*[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize) [38;5;203m+[38;5;231m [38;5;141m3[38;5;231m [38;5;203m+[38;5;231m fingerprintLength);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 285[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 286[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;203m[][38;5;231m [38;5;149mget_payload[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 287[34mâ”‚[48;5;22;38;5;231m                [38;5;81mint[38;5;231m numberOfElements [38;5;203m=[38;5;231m  ([38;5;81mint[38;5;231m) [38;5;149mMath[38;5;231m.ceil(([38;5;81mdouble[38;5;231m) payloadSize [38;5;203m/[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 288[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;203m[][38;5;231m payload [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[numberOfElements];[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 289[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 290[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m startPosition [38;5;203m=[38;5;231m index [38;5;203m*[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize) [38;5;203m+[38;5;231m [38;5;141m3[38;5;231m [38;5;203m+[38;5;231m fingerprintLength;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 291[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// System.out.println(startPosition + " fiuc " + bitPerEntry + " " + payloadSize + " " + fingerprintLength + " " + index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 292[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// long offset = (Long.SIZE - payloadSize % Long.SIZE) % Long.SIZE;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 293[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// startPosition -= offset;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 294[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// long mask = ~0L;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 295[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// if (offset != 0) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 296[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//         mask = ~(-1L << (Long.SIZE - offset));[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 297[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 298[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// System.out.println(mask);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 299[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// System.out.println(startPosition);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 300[34mâ”‚[48;5;22;38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m numberOfElements; i[38;5;203m++[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 301[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mlong[38;5;231m retrievedData ;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 302[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mint[38;5;231m offset;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 303[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (i [38;5;203m==[38;5;231m [38;5;141m0[38;5;231m [38;5;203m&&[38;5;231m payloadSize [38;5;203m%[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m [38;5;203m!=[38;5;231m [38;5;141m0[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 304[34mâ”‚[48;5;22;38;5;231m                                offset [38;5;203m=[38;5;231m payloadSize [38;5;203m%[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 305[34mâ”‚[48;5;22;38;5;231m                                retrievedData [38;5;203m=[38;5;231m filter.getFromTo(startPosition, startPosition [38;5;203m+[38;5;231m payloadSize [38;5;203m%[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 306[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 307[34mâ”‚[48;5;22;38;5;231m                        } [38;5;203melse[38;5;231m {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 308[34mâ”‚[48;5;22;38;5;231m                                offset [38;5;203m=[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 309[34mâ”‚[48;5;22;38;5;231m                                retrievedData [38;5;203m=[38;5;231m filter.getFromTo(startPosition, startPosition [38;5;203m+[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 310[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 311[34mâ”‚[48;5;22;38;5;231m                        payload[i] [38;5;203m=[38;5;231m retrievedData;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 312[34mâ”‚[48;5;22;38;5;231m                        startPosition [38;5;203m+=[38;5;231m offset;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 313[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 314[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 315[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m payload;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 316[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 317[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 318[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// return an entire slot representation, including metadata flags and fingerprint[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 319[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;203m[][38;5;231m [38;5;149mget_slot[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 320[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m bitsAndFingerprint [38;5;203m=[38;5;231m filter.getFromTo(index [38;5;203m*[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize), index [38;5;203m*[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize) [38;5;203m+[38;5;231m bitPerEntry);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 321[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;203m[][38;5;231m payload [38;5;203m=[38;5;231m get_payload(index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 322[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;203m[][38;5;231m result [38;5;203m=[38;5;231m [38;5;149mArrays[38;5;231m.copyOf(payload, payload.length [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 323[34mâ”‚[48;5;22;38;5;231m                result[payload.length] [38;5;203m=[38;5;231m bitsAndFingerprint;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 324[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m result;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 325[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 326[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 327[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// compare a fingerprint input to the fingerprint in some slot index[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 328[34mâ”‚[48;5;22;38;5;231m        [38;5;203mprotected[38;5;231m [38;5;81mboolean[38;5;231m [38;5;149mcompare[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 329[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m get_fingerprint(index) [38;5;203m==[38;5;231m fingerprint;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 330[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 331[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 332[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// modify the flags and fingerprint of a given slot[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 333[34mâ”‚[48;5;22;38;5;231m        [38;5;81mvoid[38;5;231m [38;5;149mmodify_slot[38;5;231m([38;5;81mboolean[38;5;231m [38;5;208mis_occupied[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mis_continuation[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mis_shifted[38;5;231m,[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 334[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 335[34mâ”‚[48;5;22;38;5;231m                modify_slot(is_occupied, is_continuation, is_shifted, index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 336[34mâ”‚[48;5;22;38;5;231m                set_fingerprint(index, fingerprint);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 337[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 338[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 339[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// summarize some statistical measures about the filter[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 340[34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mvoid[38;5;231m [38;5;149mprint_filter_summary[38;5;231m() {[0m[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 341[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m num_entries [38;5;203m=[38;5;231m get_num_occupied_slots([38;5;141mfalse[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 342[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m slots [38;5;203m=[38;5;231m ([38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m power_of_two_size) [38;5;203m+[38;5;231m num_extension_slots;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 343[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m num_bits [38;5;203m=[38;5;231m slots [38;5;203m*[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 344[34mâ”‚[48;5;22;38;5;231m                [38;5;149mSystem[38;5;231m.out.println([38;5;186m"slots:[38;5;141m\t[38;5;186m"[38;5;231m [38;5;203m+[38;5;231m slots);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 345[34mâ”‚[48;5;22;38;5;231m                [38;5;149mSystem[38;5;231m.out.println([38;5;186m"entries:[38;5;141m\t[38;5;186m"[38;5;231m [38;5;203m+[38;5;231m num_entries);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 346[34mâ”‚[48;5;22;38;5;231m                [38;5;149mSystem[38;5;231m.out.println([38;5;186m"num_physical_entries:[38;5;141m\t[38;5;186m"[38;5;231m [38;5;203m+[38;5;231m num_physical_entries);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 347[34mâ”‚[48;5;22;38;5;231m                [38;5;149mSystem[38;5;231m.out.println([38;5;186m"num_logical_entries:[38;5;141m\t[38;5;186m"[38;5;231m [38;5;203m+[38;5;231m num_logical_entries);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 348[34mâ”‚[48;5;22;38;5;231m                [38;5;149mSystem[38;5;231m.out.println([38;5;186m"bits[38;5;141m\t[38;5;186m:"[38;5;231m [38;5;203m+[38;5;231m num_bits);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 349[34mâ”‚[48;5;22;38;5;231m                [38;5;149mSystem[38;5;231m.out.println([38;5;186m"bits/entry[38;5;141m\t[38;5;186m:"[38;5;231m [38;5;203m+[38;5;231m num_bits [38;5;203m/[38;5;231m ([38;5;81mdouble[38;5;231m)num_entries);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 350[34mâ”‚[48;5;22;38;5;231m                [38;5;149mSystem[38;5;231m.out.println([38;5;186m"FP length:[38;5;141m\t[38;5;186m"[38;5;231m [38;5;203m+[38;5;231m fingerprintLength);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 351[34mâ”‚[48;5;22;38;5;231m                compute_statistics();[0m[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 352[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//System.out.println("num runs: \t\t" + num_runs);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 353[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//System.out.println("avg run length: \t" + avg_run_length);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 354[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//System.out.println("num clusters: \t\t" + num_clusters);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 355[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//System.out.println("avg cluster length: \t" + avg_cluster_length);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 356[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 357[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 358[34mâ”‚[48;5;22;38;5;231m        [38;5;81mboolean[38;5;231m [38;5;149mis_occupied[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 359[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m filter.get(index [38;5;203m*[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize));[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 360[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 361[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 362[34mâ”‚[48;5;22;38;5;231m        [38;5;81mboolean[38;5;231m [38;5;149mis_continuation[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 363[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m filter.get(index [38;5;203m*[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize) [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 364[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 365[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 366[34mâ”‚[48;5;22;38;5;231m        [38;5;81mboolean[38;5;231m [38;5;149mis_shifted[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 367[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m filter.get(index [38;5;203m*[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize) [38;5;203m+[38;5;231m [38;5;141m2[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 368[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 369[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 370[34mâ”‚[48;5;22;38;5;231m        [38;5;81mvoid[38;5;231m [38;5;149mset_occupied[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mval[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 371[34mâ”‚[48;5;22;38;5;231m                filter.set(index [38;5;203m*[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize), val);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 372[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 373[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 374[34mâ”‚[48;5;22;38;5;231m        [38;5;81mvoid[38;5;231m [38;5;149mset_continuation[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mval[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 375[34mâ”‚[48;5;22;38;5;231m                filter.set(index [38;5;203m*[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize) [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m, val);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 376[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 377[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 378[34mâ”‚[48;5;22;38;5;231m        [38;5;81mvoid[38;5;231m [38;5;149mset_shifted[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mval[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 379[34mâ”‚[48;5;22;38;5;231m                filter.set(index [38;5;203m*[38;5;231m (bitPerEntry [38;5;203m+[38;5;231m payloadSize) [38;5;203m+[38;5;231m [38;5;141m2[38;5;231m, val);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 380[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 381[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 382[34mâ”‚[48;5;22;38;5;231m        [38;5;81mboolean[38;5;231m [38;5;149mis_slot_empty[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 383[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m [38;5;203m![38;5;231mis_occupied(index) [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mis_continuation(index) [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mis_shifted(index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 384[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 385[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 386[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// scan the cluster leftwards until finding the start of the cluster and returning its slot index[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 387[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// used by deletes[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 388[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m [38;5;149mfind_cluster_start[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 389[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m current_index [38;5;203m=[38;5;231m index;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 390[34mâ”‚[48;5;22;38;5;231m                [38;5;203mwhile[38;5;231m (is_shifted(current_index)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 391[34mâ”‚[48;5;22;38;5;231m                        current_index[38;5;203m--[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 392[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 393[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m current_index;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 394[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 395[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 396[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// given a canonical slot A, finds the actual index B of where the run belonging to slot A now resides[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 397[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// since the run might have been shifted to the right due to collisions[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 398[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m [38;5;149mfind_run_start[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 399[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m current_index [38;5;203m=[38;5;231m index;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 400[34mâ”‚[48;5;22;38;5;231m                [38;5;81mint[38;5;231m runs_to_skip_counter [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 401[34mâ”‚[48;5;22;38;5;231m                [38;5;203mwhile[38;5;231m (is_shifted(current_index)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 402[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (is_occupied(current_index)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 403[34mâ”‚[48;5;22;38;5;231m                                runs_to_skip_counter[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 404[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 405[34mâ”‚[48;5;22;38;5;231m                        current_index[38;5;203m--[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 406[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 407[34mâ”‚[48;5;22;38;5;231m                last_cluster_start [38;5;203m=[38;5;231m current_index [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 408[34mâ”‚[48;5;22;38;5;231m                [38;5;203mwhile[38;5;231m ([38;5;141mtrue[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 409[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mis_continuation(current_index)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 410[34mâ”‚[48;5;22;38;5;231m                                runs_to_skip_counter[38;5;203m--[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 411[34mâ”‚[48;5;22;38;5;231m                                [38;5;203mif[38;5;231m (runs_to_skip_counter [38;5;203m==[38;5;231m [38;5;141m0[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 412[34mâ”‚[48;5;22;38;5;231m                                        [38;5;203mreturn[38;5;231m current_index;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 413[34mâ”‚[48;5;22;38;5;231m                                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 414[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 415[34mâ”‚[48;5;22;38;5;231m                        current_index[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 416[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 417[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 418[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 419[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// given the start of a run, scan the run and return the index of the first matching fingerprint[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 420[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m [38;5;149mfind_first_fingerprint_in_run[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 421[34mâ”‚[48;5;22;38;5;231m                [38;5;203massert[38;5;231m([38;5;203m![38;5;231mis_continuation(index));[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 422[34mâ”‚[48;5;22;38;5;231m                [38;5;203mdo[38;5;231m {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 423[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (compare(index, fingerprint)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 424[34mâ”‚[48;5;22;38;5;231m                                [38;5;242m//System.out.println("found matching FP at index " + index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 425[34mâ”‚[48;5;22;38;5;231m                                [38;5;203mreturn[38;5;231m index;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 426[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 427[34mâ”‚[48;5;22;38;5;231m                        index[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 428[34mâ”‚[48;5;22;38;5;231m                } [38;5;203mwhile[38;5;231m (index [38;5;203m<[38;5;231m get_logical_num_slots_plus_extensions() [38;5;203m&&[38;5;231m is_continuation(index));[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 429[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m [38;5;203m-[38;5;141m1[38;5;231m;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 430[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 431[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 432[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;203m[][38;5;231m [38;5;149mfind_all_matching_fingerprint_in_run[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 433[34mâ”‚[48;5;22;38;5;231m                [38;5;149mList[38;5;231m<[38;5;149mLong[38;5;231m> indexes [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mArrayList[38;5;231m<>();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 434[34mâ”‚[48;5;22;38;5;231m                [38;5;203massert[38;5;231m([38;5;203m![38;5;231mis_continuation(index));[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 435[34mâ”‚[48;5;22;38;5;231m                [38;5;203mdo[38;5;231m {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 436[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (compare(index, fingerprint)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 437[34mâ”‚[48;5;22;38;5;231m                                indexes.add(index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 438[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 439[34mâ”‚[48;5;22;38;5;231m                        index[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 440[34mâ”‚[48;5;22;38;5;231m                } [38;5;203mwhile[38;5;231m (index [38;5;203m<[38;5;231m get_logical_num_slots_plus_extensions() [38;5;203m&&[38;5;231m is_continuation(index));[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 441[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;203m[][38;5;231m array [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[indexes.size()];[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 442[34mâ”‚[48;5;22;38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m indexes.size(); i[38;5;203m++[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 443[34mâ”‚[48;5;22;38;5;231m                        array[i] [38;5;203m=[38;5;231m indexes.get(i); [38;5;242m// Auto-unboxing from Long to long[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 444[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 445[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m array;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 446[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 447[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// delete the last matching fingerprint in the run[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 448[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m [38;5;149mdecide_which_fingerprint_to_delete[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 449[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m matching_fingerprint_index [38;5;203m=[38;5;231m [38;5;203m-[38;5;141m1[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 450[34mâ”‚[48;5;22;38;5;231m                [38;5;203mdo[38;5;231m {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 451[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (compare(index, fingerprint)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 452[34mâ”‚[48;5;22;38;5;231m                                [38;5;242m//System.out.println("found matching FP at index " + index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 453[34mâ”‚[48;5;22;38;5;231m                                matching_fingerprint_index [38;5;203m=[38;5;231m index;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 454[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 455[34mâ”‚[48;5;22;38;5;231m                        index[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 456[34mâ”‚[48;5;22;38;5;231m                } [38;5;203mwhile[38;5;231m (index [38;5;203m<[38;5;231m get_logical_num_slots_plus_extensions() [38;5;203m&&[38;5;231m is_continuation(index));[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 457[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m matching_fingerprint_index;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 458[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 459[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 460[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// given the start of a run, find the last slot index that still belongs to this run[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 461[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m [38;5;149mfind_run_end[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 462[34mâ”‚[48;5;22;38;5;231m                [38;5;203mwhile[38;5;231m(index [38;5;203m<[38;5;231m get_logical_num_slots_plus_extensions() [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m [38;5;203m&&[38;5;231m is_continuation(index[38;5;203m+[38;5;141m1[38;5;231m)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 463[34mâ”‚[48;5;22;38;5;231m                        index[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 464[34mâ”‚[48;5;22;38;5;231m                }[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 465[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m index;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 466[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 467[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 468[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// given a canonical index slot and a fingerprint, find the relevant run and check if there is a matching fingerprint within it[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 469[34mâ”‚[48;5;22;38;5;231m        [38;5;81mboolean[38;5;231m [38;5;149msearch[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 470[34mâ”‚[48;5;22;38;5;231m                [38;5;81mboolean[38;5;231m does_run_exist [38;5;203m=[38;5;231m is_occupied(index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 471[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mdoes_run_exist) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 472[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mreturn[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 473[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 474[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m run_start_index [38;5;203m=[38;5;231m find_run_start(index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 475[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m found_index [38;5;203m=[38;5;231m find_first_fingerprint_in_run(run_start_index, fingerprint);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 476[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m found_index [38;5;203m>[38;5;231m [38;5;203m-[38;5;141m1[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 477[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 478[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// given a canonical index slot and a fingerprint, find the relevant run and return all valid payloads[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 479[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;203m[][][38;5;231m [38;5;149msearch_for_payloads[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 480[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 481[34mâ”‚[48;5;22;38;5;231m                [38;5;81mboolean[38;5;231m does_run_exist [38;5;203m=[38;5;231m is_occupied(index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 482[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mdoes_run_exist) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 483[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mreturn[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m0[38;5;231m][];[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 484[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 485[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m run_start_index [38;5;203m=[38;5;231m find_run_start(index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 486[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;203m[][38;5;231m found_indexes [38;5;203m=[38;5;231m find_all_matching_fingerprint_in_run(run_start_index, fingerprint);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 487[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;203m[][][38;5;231m payloads [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[found_indexes.length][];[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 488[34mâ”‚[48;5;22;38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i[38;5;203m=[38;5;141m0[38;5;231m; i[38;5;203m<[38;5;231mpayloads.length; i[38;5;203m++[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 489[34mâ”‚[48;5;22;38;5;231m                        payloads[i] [38;5;203m=[38;5;231m get_payload(found_indexes[i]);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 490[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 491[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m payloads;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 492[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 493[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// Given a canonical slot index, find the corresponding run and return all fingerprints in the run.[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 494[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// This method is only used for testing purposes.[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 495[34mâ”‚[48;5;22;38;5;231m        [38;5;149mSet[38;5;231m<[38;5;149mLong[38;5;231m> [38;5;149mget_all_fingerprints[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mbucket_index[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 496[34mâ”‚[48;5;22;38;5;231m                [38;5;81mboolean[38;5;231m does_run_exist [38;5;203m=[38;5;231m is_occupied(bucket_index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 497[34mâ”‚[48;5;22;38;5;231m                [38;5;149mHashSet[38;5;231m<[38;5;149mLong[38;5;231m> set [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mHashSet[38;5;231m<[38;5;149mLong[38;5;231m>();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 498[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mdoes_run_exist) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 499[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mreturn[38;5;231m set;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 500[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 501[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m run_index [38;5;203m=[38;5;231m find_run_start(bucket_index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 502[34mâ”‚[48;5;22;38;5;231m                [38;5;203mdo[38;5;231m {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 503[34mâ”‚[48;5;22;38;5;231m                        set.add(get_fingerprint(run_index));[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 504[34mâ”‚[48;5;22;38;5;231m                        run_index[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 505[34mâ”‚[48;5;22;38;5;231m                } [38;5;203mwhile[38;5;231m (is_continuation(run_index));[0m[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 506[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m set;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 507[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 508[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 509[34mâ”‚[48;5;22;38;5;231m        [38;5;149mSet[38;5;231m<[38;5;81mlong[38;5;203m[][38;5;231m> [38;5;149mget_all_payloads[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mbucket_index[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 510[34mâ”‚[48;5;22;38;5;231m                [38;5;81mboolean[38;5;231m does_run_exist [38;5;203m=[38;5;231m is_occupied(bucket_index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 511[34mâ”‚[48;5;22;38;5;231m                [38;5;149mHashSet[38;5;231m<[38;5;81mlong[38;5;203m[][38;5;231m> set [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mHashSet[38;5;231m<>();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 512[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mdoes_run_exist) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 513[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mreturn[38;5;231m set;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 514[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 515[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m run_index [38;5;203m=[38;5;231m find_run_start(bucket_index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 516[34mâ”‚[48;5;22;38;5;231m                [38;5;203mdo[38;5;231m {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 517[34mâ”‚[48;5;22;38;5;231m                        set.add(get_payload(run_index));[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 518[34mâ”‚[48;5;22;38;5;231m                        run_index[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 519[34mâ”‚[48;5;22;38;5;231m                } [38;5;203mwhile[38;5;231m (is_continuation(run_index));[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 520[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m set;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 521[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 522[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// Swaps the fingerprint in a given slot with a new one. Return the pre-existing fingerprint[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 523[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;203m[][38;5;231m [38;5;149mswap_fingerprints[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mnew_fingerprint[38;5;231m, [38;5;81mlong[38;5;203m[][38;5;231m [38;5;208mnew_payload[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 524[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m existing [38;5;203m=[38;5;231m get_fingerprint(index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 525[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;203m[][38;5;231m existing_payload [38;5;203m=[38;5;231m get_payload(index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 526[34mâ”‚[48;5;22;38;5;231m                set_fingerprint(index, new_fingerprint);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 527[34mâ”‚[48;5;22;38;5;231m                set_payload(index, new_payload);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 528[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;203m[][38;5;231m result [38;5;203m=[38;5;231m [38;5;149mArrays[38;5;231m.copyOf(existing_payload, existing_payload.length [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 529[34mâ”‚[48;5;22;38;5;231m                result[existing_payload.length] [38;5;203m=[38;5;231m existing;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 530[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m result;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 531[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 532[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 533[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// finds the first empty slot after the given slot index[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 534[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m [38;5;149mfind_first_empty_slot[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 535[34mâ”‚[48;5;22;38;5;231m                [38;5;203mwhile[38;5;231m ([38;5;203m![38;5;231mis_slot_empty(index)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 536[34mâ”‚[48;5;22;38;5;231m                        index[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 537[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 538[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m index;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 539[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 540[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 541[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// moves backwards to find the first empty slot[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 542[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// used as a part of the mechanism to prevent exceptions when exceeding the quotient filter's bounds[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 543[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m [38;5;149mfind_backward_empty_slot[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 544[34mâ”‚[48;5;22;38;5;231m                [38;5;203mwhile[38;5;231m (index [38;5;203m>=[38;5;231m [38;5;141m0[38;5;231m [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mis_slot_empty(index)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 545[34mâ”‚[48;5;22;38;5;231m                        backward_steps[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 546[34mâ”‚[48;5;22;38;5;231m                        index[38;5;203m--[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 547[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 548[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m index;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 549[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 550[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 551[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// return the first slot to the right where the current run starting at the index parameter ends[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 552[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m [38;5;149mfind_new_run_location[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 553[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mis_slot_empty(index)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 554[34mâ”‚[48;5;22;38;5;231m                        index[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 555[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 556[34mâ”‚[48;5;22;38;5;231m                [38;5;203mwhile[38;5;231m (is_continuation(index)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 557[34mâ”‚[48;5;22;38;5;231m                        index[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 558[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 559[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m index;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 560[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 561[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 562[34mâ”‚[48;5;22;38;5;231m        [38;5;81mboolean[38;5;231m [38;5;149minsert_new_run[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mcanonical_slot[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mlong_fp[38;5;231m, [38;5;81mlong[38;5;203m[][38;5;231m [38;5;208mpayload[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 563[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m first_empty_slot [38;5;203m=[38;5;231m find_first_empty_slot(canonical_slot); [38;5;242m// finds the first empty slot to the right of the canonical slot tha[34mâ†´[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m    [34mâ”‚[0m[48;5;22m                                                                                                                                         [34mâ€¦[38;5;242mt is empty[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 564[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m preexisting_run_start_index [38;5;203m=[38;5;231m find_run_start(canonical_slot); [38;5;242m// scans the cluster leftwards and then to the right until reach[34mâ†´[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m    [34mâ”‚[0m[48;5;22m                                                                                                                    [34mâ€¦[38;5;242ming our run's would be location[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 565[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m start_of_this_new_run [38;5;203m=[38;5;231m find_new_run_location(preexisting_run_start_index); [38;5;242m// If there is already a run at the would-be locat[34mâ†´[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m    [34mâ”‚[0m[48;5;22m                                                                                                  [34mâ€¦[38;5;242mion, find its end and insert the new run after it[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 566[34mâ”‚[48;5;22;38;5;231m                [38;5;81mboolean[38;5;231m slot_initially_empty [38;5;203m=[38;5;231m is_slot_empty(start_of_this_new_run);[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 567[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 568[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// modify some metadata flags to mark the new run[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 569[34mâ”‚[48;5;22;38;5;231m                set_occupied(canonical_slot, [38;5;141mtrue[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 570[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m (first_empty_slot [38;5;203m!=[38;5;231m canonical_slot) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 571[34mâ”‚[48;5;22;38;5;231m                        set_shifted(start_of_this_new_run, [38;5;141mtrue[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 572[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 573[34mâ”‚[48;5;22;38;5;231m                set_continuation(start_of_this_new_run, [38;5;141mfalse[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 574[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 575[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// if the slot was initially empty, we can just terminate, as there is nothing to push to the right[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 576[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m (slot_initially_empty) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 577[34mâ”‚[48;5;22;38;5;231m                        set_fingerprint(start_of_this_new_run, long_fp);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 578[34mâ”‚[48;5;22;38;5;231m                        set_payload(start_of_this_new_run, payload);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 579[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (start_of_this_new_run [38;5;203m==[38;5;231m last_empty_slot) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 580[34mâ”‚[48;5;22;38;5;231m                                last_empty_slot [38;5;203m=[38;5;231m find_backward_empty_slot(last_cluster_start);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 581[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 582[34mâ”‚[48;5;22;38;5;231m                        num_physical_entries[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 583[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mreturn[38;5;231m [38;5;141mtrue[38;5;231m;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 584[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 585[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 586[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// push all entries one slot to the right[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 587[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// if we inserted this run in the middle of a cluster[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 588[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m current_index [38;5;203m=[38;5;231m start_of_this_new_run;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 589[34mâ”‚[48;5;22;38;5;231m                [38;5;81mboolean[38;5;231m is_this_slot_empty;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 590[34mâ”‚[48;5;22;38;5;231m                [38;5;81mboolean[38;5;231m temp_continuation [38;5;203m=[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 591[34mâ”‚[48;5;22;38;5;231m                [38;5;203mdo[38;5;231m {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 592[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (current_index [38;5;203m>=[38;5;231m get_logical_num_slots_plus_extensions()) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 593[34mâ”‚[48;5;22;38;5;231m                                [38;5;203mreturn[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 594[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 595[34mâ”‚[7;35m                        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 596[34mâ”‚[48;5;22;38;5;231m                        is_this_slot_empty [38;5;203m=[38;5;231m is_slot_empty(current_index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 597[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mlong[38;5;203m[][38;5;231m long_arr [38;5;203m=[38;5;231m swap_fingerprints(current_index, long_fp, payload);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 598[34mâ”‚[48;5;22;38;5;231m                    long_fp [38;5;203m=[38;5;231m long_arr[long_arr.length [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m];[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 599[34mâ”‚[48;5;22;38;5;231m                        payload [38;5;203m=[38;5;231m [38;5;149mArrays[38;5;231m.copyOfRange(long_arr, [38;5;141m0[38;5;231m, long_arr.length [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 600[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 601[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 602[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (current_index [38;5;203m>[38;5;231m start_of_this_new_run) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 603[34mâ”‚[48;5;22;38;5;231m                                set_shifted(current_index, [38;5;141mtrue[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 604[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 605[34mâ”‚[7;35m                        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 606[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (current_index [38;5;203m>[38;5;231m start_of_this_new_run) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 607[34mâ”‚[48;5;22;38;5;231m                                [38;5;81mboolean[38;5;231m current_continuation [38;5;203m=[38;5;231m is_continuation(current_index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 608[34mâ”‚[48;5;22;38;5;231m                                set_continuation(current_index, temp_continuation);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 609[34mâ”‚[48;5;22;38;5;231m                                temp_continuation [38;5;203m=[38;5;231m current_continuation;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 610[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 611[34mâ”‚[48;5;22;38;5;231m                        current_index[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 612[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (current_index [38;5;203m==[38;5;231m last_empty_slot) {  [38;5;242m// TODO get this out of the while loop[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 613[34mâ”‚[48;5;22;38;5;231m                                last_empty_slot [38;5;203m=[38;5;231m find_backward_empty_slot(last_cluster_start);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 614[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 615[34mâ”‚[48;5;22;38;5;231m                } [38;5;203mwhile[38;5;231m ([38;5;203m![38;5;231mis_this_slot_empty);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 616[34mâ”‚[48;5;22;38;5;231m                num_physical_entries[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 617[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m [38;5;141mtrue[38;5;231m;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 618[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 619[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 620[34mâ”‚[48;5;22;38;5;231m        [38;5;81mboolean[38;5;231m [38;5;149minsert[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mlong_fp[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mindex[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208minsert_only_if_no_match[38;5;231m, [38;5;81mlong[38;5;203m[][38;5;231m [38;5;208mpayload[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 621[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m (index [38;5;203m>[38;5;231m last_empty_slot) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 622[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mreturn[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 623[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 624[34mâ”‚[48;5;22;38;5;231m                [38;5;81mboolean[38;5;231m does_run_exist [38;5;203m=[38;5;231m is_occupied(index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 625[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mdoes_run_exist) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 626[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mboolean[38;5;231m val [38;5;203m=[38;5;231m insert_new_run(index, long_fp, payload);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 627[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mreturn[38;5;231m val;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 628[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 629[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 630[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m run_start_index [38;5;203m=[38;5;231m find_run_start(index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 631[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m (does_run_exist [38;5;203m&&[38;5;231m insert_only_if_no_match) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 632[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mlong[38;5;231m found_index [38;5;203m=[38;5;231m find_first_fingerprint_in_run(run_start_index, long_fp);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 633[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (found_index [38;5;203m>[38;5;231m [38;5;203m-[38;5;141m1[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 634[34mâ”‚[48;5;22;38;5;231m                                [38;5;203mreturn[38;5;231m [38;5;141mfalse[38;5;231m;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 635[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 636[34mâ”‚[48;5;22;38;5;231m                }[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 637[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m insert_fingerprint_and_push_all_else(long_fp, run_start_index, payload);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 638[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 639[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 640[34mâ”‚[48;5;22;38;5;231m        [38;5;242m// insert an fingerprint as the first fingerprint of the new run and push all other entries in the cluster to the right.[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 641[34mâ”‚[48;5;22;38;5;231m        [38;5;81mboolean[38;5;231m [38;5;149minsert_fingerprint_and_push_all_else[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mlong_fp[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mrun_start_index[38;5;231m, [38;5;81mlong[38;5;203m[][38;5;231m [38;5;208mpayload[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 642[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m current_index [38;5;203m=[38;5;231m run_start_index;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 643[34mâ”‚[48;5;22;38;5;231m                [38;5;81mboolean[38;5;231m is_this_slot_empty;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 644[34mâ”‚[48;5;22;38;5;231m                [38;5;81mboolean[38;5;231m finished_first_run [38;5;203m=[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 645[34mâ”‚[48;5;22;38;5;231m                [38;5;81mboolean[38;5;231m temp_continuation [38;5;203m=[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 646[34mâ”‚[7;35m                                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 647[34mâ”‚[48;5;22;38;5;231m                [38;5;203mdo[38;5;231m {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 648[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (current_index [38;5;203m>=[38;5;231m get_logical_num_slots_plus_extensions()) {[0m[7;35m         [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 649[34mâ”‚[48;5;22;38;5;231m                                [38;5;203mreturn[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 650[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 651[34mâ”‚[48;5;22;38;5;231m                        is_this_slot_empty [38;5;203m=[38;5;231m is_slot_empty(current_index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 652[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (current_index [38;5;203m>[38;5;231m run_start_index) {[0m[7;35m                        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 653[34mâ”‚[48;5;22;38;5;231m                                set_shifted(current_index, [38;5;141mtrue[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 654[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 655[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (current_index [38;5;203m>[38;5;231m run_start_index [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mfinished_first_run [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mis_continuation(current_index)) {[0m[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 656[34mâ”‚[48;5;22;38;5;231m                                finished_first_run [38;5;203m=[38;5;231m [38;5;141mtrue[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 657[34mâ”‚[48;5;22;38;5;231m                                set_continuation(current_index, [38;5;141mtrue[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 658[34mâ”‚[48;5;22;38;5;231m                                [38;5;81mlong[38;5;203m[][38;5;231m long_arr [38;5;203m=[38;5;231m swap_fingerprints(current_index, long_fp, payload);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 659[34mâ”‚[48;5;22;38;5;231m                                long_fp [38;5;203m=[38;5;231m long_arr[long_arr.length [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m];[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 660[34mâ”‚[48;5;22;38;5;231m                                payload [38;5;203m=[38;5;231m [38;5;149mArrays[38;5;231m.copyOfRange(long_arr, [38;5;141m0[38;5;231m, long_arr.length [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 661[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 662[34mâ”‚[48;5;22;38;5;231m                        [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m (finished_first_run) {[0m[7;35m                        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 663[34mâ”‚[48;5;22;38;5;231m                                [38;5;81mboolean[38;5;231m current_continuation [38;5;203m=[38;5;231m is_continuation(current_index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 664[34mâ”‚[48;5;22;38;5;231m                                set_continuation(current_index, temp_continuation);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 665[34mâ”‚[48;5;22;38;5;231m                                temp_continuation [38;5;203m=[38;5;231m current_continuation;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 666[34mâ”‚[48;5;22;38;5;231m                                [38;5;81mlong[38;5;203m[][38;5;231m long_arr [38;5;203m=[38;5;231m swap_fingerprints(current_index, long_fp, payload);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 667[34mâ”‚[48;5;22;38;5;231m                                long_fp [38;5;203m=[38;5;231m long_arr[long_arr.length [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m];[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 668[34mâ”‚[48;5;22;38;5;231m                                payload [38;5;203m=[38;5;231m [38;5;149mArrays[38;5;231m.copyOfRange(long_arr, [38;5;141m0[38;5;231m, long_arr.length [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 669[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 670[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (current_index [38;5;203m==[38;5;231m last_empty_slot) {[0m[7;35m  [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 671[34mâ”‚[48;5;22;38;5;231m                                last_empty_slot [38;5;203m=[38;5;231m find_backward_empty_slot(last_cluster_start);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 672[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 673[34mâ”‚[48;5;22;38;5;231m                        current_index[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 674[34mâ”‚[48;5;22;38;5;231m                } [38;5;203mwhile[38;5;231m ([38;5;203m![38;5;231mis_this_slot_empty);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 675[34mâ”‚[48;5;22;38;5;231m                num_physical_entries[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 676[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m [38;5;141mtrue[38;5;231m;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 677[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 678[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 679[34mâ”‚[48;5;22;38;5;231m        [38;5;81mboolean[38;5;231m [38;5;149mdelete[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mcanonical_slot[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mrun_start_index[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mmatching_fingerprint_index[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 680[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m run_end [38;5;203m=[38;5;231m find_run_end(matching_fingerprint_index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 681[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 682[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// the run has only one entry, we need to disable its is_occupied flag[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 683[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// we just remember we need to do this here, and we do it later to not interfere with counts[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 684[34mâ”‚[48;5;22;38;5;231m                [38;5;81mboolean[38;5;231m turn_off_occupied [38;5;203m=[38;5;231m run_start_index [38;5;203m==[38;5;231m run_end;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 685[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 686[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// First thing to do is move everything else in the run back by one slot[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 687[34mâ”‚[48;5;22;38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mlong[38;5;231m i [38;5;203m=[38;5;231m matching_fingerprint_index; i [38;5;203m<[38;5;231m run_end; i[38;5;203m++[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 688[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mlong[38;5;231m f [38;5;203m=[38;5;231m get_fingerprint(i [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 689[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mlong[38;5;203m[][38;5;231m payload [38;5;203m=[38;5;231m get_payload(i [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 690[34mâ”‚[48;5;22;38;5;231m                        set_fingerprint(i, f);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 691[34mâ”‚[48;5;22;38;5;231m                        set_payload(i, payload);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 692[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 693[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 694[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// for each slot, we want to know by how much the entry there is shifted[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 695[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// we can do this by counting the number of continuation flags set to true[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 696[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// and the number of occupied flags set to false from the start of the cluster to the given cell[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 697[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// and then subtracting: num_shifted_count - num_non_occupied = number of slots by which an entry is shifted[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 698[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m cluster_start [38;5;203m=[38;5;231m find_cluster_start(canonical_slot);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 699[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m num_shifted_count [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 700[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m num_non_occupied [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 701[34mâ”‚[48;5;22;38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mlong[38;5;231m i [38;5;203m=[38;5;231m cluster_start; i [38;5;203m<=[38;5;231m run_end; i[38;5;203m++[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 702[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (is_continuation(i)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 703[34mâ”‚[48;5;22;38;5;231m                                num_shifted_count[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 704[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 705[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mis_occupied(i)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 706[34mâ”‚[48;5;22;38;5;231m                                num_non_occupied[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 707[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 708[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 709[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 710[34mâ”‚[48;5;22;38;5;231m                set_fingerprint(run_end, [38;5;141m0[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 711[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;203m[][38;5;231m tmp [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[(payloadSize [38;5;203m+[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m) [38;5;203m/[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m];[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 712[34mâ”‚[48;5;22;38;5;231m                set_payload(run_end, tmp);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 713[34mâ”‚[48;5;22;38;5;231m                set_shifted(run_end, [38;5;141mfalse[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 714[34mâ”‚[48;5;22;38;5;231m                set_continuation(run_end, [38;5;141mfalse[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 715[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 716[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// we now have a nested loop. The outer do-while iterates over the remaining runs in the cluster.[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 717[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// the inner for loop iterates over cells of particular runs, pushing entries one slot back.[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 718[34mâ”‚[48;5;22;38;5;231m                [38;5;203mdo[38;5;231m {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 719[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m// we first check if the next run actually exists and if it is shifted.[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 720[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m// only if both conditions hold, we need to shift it back one slot.[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 721[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m//boolean does_next_run_exist = !is_slot_empty(run_end + 1);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 722[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m//boolean is_next_run_shifted = is_shifted(run_end + 1);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 723[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m//if (!does_next_run_exist || !is_next_run_shifted) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 724[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (run_end [38;5;203m>=[38;5;231m get_logical_num_slots_plus_extensions()[38;5;203m-[38;5;141m1[38;5;231m [38;5;203m||[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 725[34mâ”‚[48;5;22;38;5;231m                                 is_slot_empty(run_end [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m) [38;5;203m||[38;5;231m [38;5;203m![38;5;231mis_shifted(run_end [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 726[34mâ”‚[48;5;22;38;5;231m                                [38;5;203mif[38;5;231m (turn_off_occupied) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 727[34mâ”‚[48;5;22;38;5;231m                                        [38;5;242m// if we eliminated a run and now need to turn the is_occupied flag off, we do it at the end to not interfe[34mâ†´[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m    [34mâ”‚[0m[48;5;22m                                                                                                                                  [34mâ€¦[38;5;242mre in our counts[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 728[34mâ”‚[48;5;22;38;5;231m                                        set_occupied(canonical_slot, [38;5;141mfalse[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 729[34mâ”‚[7;35m                                        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 730[34mâ”‚[48;5;22;38;5;231m                                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 731[34mâ”‚[48;5;22;38;5;231m                                [38;5;203mif[38;5;231m (run_end [38;5;203m>[38;5;231m last_empty_slot) {[0m[7;35m         [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 732[34mâ”‚[48;5;22;38;5;231m                                        last_empty_slot [38;5;203m=[38;5;231m run_end;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 733[34mâ”‚[48;5;22;38;5;231m                                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 734[34mâ”‚[48;5;22;38;5;231m                                [38;5;203mreturn[38;5;231m [38;5;141mtrue[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 735[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 736[34mâ”‚[7;35m                        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 737[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m// we now find the start and end of the next run[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 738[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mlong[38;5;231m next_run_start [38;5;203m=[38;5;231m run_end [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 739[34mâ”‚[48;5;22;38;5;231m                        run_end [38;5;203m=[38;5;231m find_run_end(next_run_start);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 740[34mâ”‚[7;35m                        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 741[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m// before we start processing the next run, we check whether the previous run we shifted is now back to its canonical slot[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 742[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m// The condition num_shifted_count - num_non_occupied == 1 ensures that the run was shifted by only 1 slot, meaning it is n[34mâ†´[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m    [34mâ”‚[0m[48;5;22m                                                                                                                        [34mâ€¦[38;5;242mow back in its proper place[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 743[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m ( is_occupied(next_run_start [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m) [38;5;203m&&[38;5;231m num_shifted_count [38;5;203m-[38;5;231m num_non_occupied [38;5;203m==[38;5;231m [38;5;141m1[38;5;231m ) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 744[34mâ”‚[48;5;22;38;5;231m                                set_shifted(next_run_start [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m, [38;5;141mfalse[38;5;231m);[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 745[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 746[34mâ”‚[48;5;22;38;5;231m                        [38;5;203melse[38;5;231m  {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 747[34mâ”‚[48;5;22;38;5;231m                                set_shifted(next_run_start [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 748[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 749[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 750[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mfor[38;5;231m ([38;5;81mlong[38;5;231m i [38;5;203m=[38;5;231m next_run_start; i [38;5;203m<=[38;5;231m run_end; i[38;5;203m++[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 751[34mâ”‚[48;5;22;38;5;231m                                [38;5;81mlong[38;5;231m f [38;5;203m=[38;5;231m get_fingerprint(i);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 752[34mâ”‚[48;5;22;38;5;231m                                [38;5;81mlong[38;5;203m[][38;5;231m pl [38;5;203m=[38;5;231m get_payload(i);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 753[34mâ”‚[48;5;22;38;5;231m                                set_fingerprint(i [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m, f);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 754[34mâ”‚[48;5;22;38;5;231m                                set_payload(i [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m, pl);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 755[34mâ”‚[48;5;22;38;5;231m                                [38;5;203mif[38;5;231m (is_continuation(i)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 756[34mâ”‚[48;5;22;38;5;231m                                        set_continuation(i[38;5;203m-[38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 757[34mâ”‚[48;5;22;38;5;231m                                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 758[34mâ”‚[48;5;22;38;5;231m                                [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mis_occupied(i)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 759[34mâ”‚[48;5;22;38;5;231m                                        num_non_occupied[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 760[34mâ”‚[48;5;22;38;5;231m                                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 761[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 762[34mâ”‚[48;5;22;38;5;231m                        num_shifted_count [38;5;203m+=[38;5;231m run_end [38;5;203m-[38;5;231m next_run_start;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 763[34mâ”‚[48;5;22;38;5;231m                        set_fingerprint(run_end, [38;5;141m0[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 764[34mâ”‚[48;5;22;38;5;231m                        set_payload(run_end, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[(payloadSize [38;5;203m+[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m) [38;5;203m/[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m]);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 765[34mâ”‚[48;5;22;38;5;231m                        set_shifted(run_end, [38;5;141mfalse[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 766[34mâ”‚[48;5;22;38;5;231m                        set_continuation(run_end, [38;5;141mfalse[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 767[34mâ”‚[48;5;22;38;5;231m                } [38;5;203mwhile[38;5;231m ([38;5;141mtrue[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 768[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 769[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 770[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;203m[][38;5;231m [38;5;149mdelete[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mcanonical_slot[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 771[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m (canonical_slot [38;5;203m>=[38;5;231m get_logical_num_slots()) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 772[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mreturn[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;203m-[38;5;141m1[38;5;231m};[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 773[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 774[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// if the run doesn't exist, the key can't have possibly been inserted[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 775[34mâ”‚[48;5;22;38;5;231m                [38;5;81mboolean[38;5;231m does_run_exist [38;5;203m=[38;5;231m is_occupied(canonical_slot);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 776[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m ([38;5;203m![38;5;231mdoes_run_exist) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 777[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mreturn[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;203m-[38;5;141m1[38;5;231m};[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 778[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 779[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m run_start_index [38;5;203m=[38;5;231m find_run_start(canonical_slot);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 780[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 781[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m matching_fingerprint_index [38;5;203m=[38;5;231m decide_which_fingerprint_to_delete(run_start_index, fingerprint);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 782[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 783[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m (matching_fingerprint_index [38;5;203m==[38;5;231m [38;5;203m-[38;5;141m1[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 784[34mâ”‚[48;5;22;38;5;231m                        [38;5;242m// we didn't find a matching fingerprint[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 785[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mreturn[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;203m-[38;5;141m1[38;5;231m};[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 786[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 787[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 788[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m removed_fp [38;5;203m=[38;5;231m get_fingerprint(matching_fingerprint_index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 789[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;203m[][38;5;231m payload [38;5;203m=[38;5;231m get_payload(matching_fingerprint_index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 814[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 790[34mâ”‚[0m
[34mâ”‚[38;5;88m 815[34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m void set_expansion_threshold([38;5;81mdouble[38;5;231m thresh) {[0m[48;5;52m                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 816[34mâ”‚[48;5;52;38;5;231m        fullness_threshold [38;5;203m=[38;5;231m thresh;[0m[48;5;52m                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 817[34mâ”‚[48;5;52;38;5;231m        max_entries_before_full [38;5;203m=[38;5;231m ([38;5;81mlong[38;5;231m) ([38;5;149mMath[38;5;231m.pow([38;5;141m2[38;5;231m, power_of_two_size) [38;5;203m*[38;5;231m fullness_threshold);[0m[48;5;52m                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 818[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 819[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 791[34mâ”‚[0m
[34mâ”‚[38;5;88m 820[34mâ”‚[48;5;52;38;5;231m    [38;5;203mprotected[38;5;231m [38;5;81mboolean[38;5;231m _insert_payload([38;5;81mlong[38;5;231m large_hash, [38;5;81mboolean[38;5;231m insert_only_if_no_match, [38;5;81mlong[38;5;203m[][38;5;231m payload) {[0m[48;5;52m                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 821[34mâ”‚[48;5;52;38;5;231m        [38;5;203mif[38;5;231m (is_full) {[0m[48;5;52m                                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 792[34mâ”‚[48;5;22;38;5;231m                [38;5;81mboolean[38;5;231m success [38;5;203m=[38;5;231m delete(fingerprint, canonical_slot, run_start_index, matching_fingerprint_index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 793[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 794[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m success [38;5;203m?[38;5;231m payload[38;5;203m:[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;203m-[38;5;141m1[38;5;231m};[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 795[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 796[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 797[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 798[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 799[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 800[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m get_slot_index([38;5;81mlong[38;5;231m large_hash) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 801[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m slot_index_mask [38;5;203m=[38;5;231m ([38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m power_of_two_size) [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 802[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m slot_index [38;5;203m=[38;5;231m large_hash [38;5;203m&[38;5;231m slot_index_mask;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 803[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//System.out.format("\n**get_slot_index(): [total_hash:index_hash:int_index] --> [%016x:%016x:%016x]\n", large_hash, (int)large_has[34mâ†´[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m    [34mâ”‚[0m[48;5;22m                                                                                                                                    [34mâ€¦[38;5;242mh, slot_index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 822[34mâ”‚[48;5;52;38;5;231m            [38;5;203mreturn[38;5;231m [48;5;124;38;5;141mfalse[48;5;52;38;5;231m;[0m[48;5;52m                                                                                                                           [0m[34mâ”‚[38;5;28m 804[34mâ”‚[48;5;22;38;5;231m            [48;5;28m    [48;5;22;38;5;203mreturn[48;5;28;38;5;231m slot_index[48;5;22m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 823[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m 805[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 806[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 824[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m [48;5;124mslot_index [38;5;203m=[38;5;231m get_slot_index[48;5;52m(large_hash)[48;5;124m;[0m[48;5;52m                                                                                               [0m[34mâ”‚[38;5;28m 807[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m [48;5;28mgen_fingerprint[48;5;22m([48;5;28;38;5;81mlong[38;5;231m [48;5;22mlarge_hash)[48;5;28m {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 808[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m fingerprint_mask [38;5;203m=[38;5;231m ([38;5;141m1[38;5;81mL[38;5;231m [38;5;203m<<[38;5;231m fingerprintLength) [38;5;203m-[38;5;231m [38;5;141m1[38;5;81mL[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 809[34mâ”‚[48;5;22;38;5;231m                fingerprint_mask [38;5;203m=[38;5;231m fingerprint_mask [38;5;203m<<[38;5;231m power_of_two_size;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 825[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m fingerprint [38;5;203m=[38;5;231m [48;5;124mgen_fingerprint[48;5;52m(large_hash);[0m[48;5;52m                                                                                             [0m[34mâ”‚[38;5;28m 810[34mâ”‚[48;5;22;38;5;231m        [48;5;28m        [48;5;22;38;5;81mlong[38;5;231m fingerprint [38;5;203m=[48;5;28;38;5;231m [48;5;22m(large_hash[48;5;28m [38;5;203m&[38;5;231m fingerprint_mask[48;5;22m)[48;5;28m [38;5;203m>>[38;5;231m power_of_two_size[48;5;22m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 811[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//System.out.format("\n**gen_fingerprint(): [total_hash:fingerprint_hash:int_fingerprint] --> [%016x:%016x:%016x]\n", large_hash, ([34mâ†´[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m    [34mâ”‚[0m[48;5;22m                                                                                                              [34mâ€¦[38;5;242m(int)(large_hash>>32)), fingerprint);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 812[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m fingerprint;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 813[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 814[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 815[34mâ”‚[48;5;22;38;5;231m        void print_key([38;5;81mint[38;5;231m input) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 816[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m large_hash [38;5;203m=[38;5;231m [38;5;149mHashFunctions[38;5;231m.normal_hash(input);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 817[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m slot_index [38;5;203m=[38;5;231m get_slot_index(large_hash);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 818[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m fingerprint [38;5;203m=[38;5;231m gen_fingerprint(large_hash);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 819[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 826[34mâ”‚[48;5;52;38;5;231m        [48;5;124;38;5;242m//[48;5;52m System.out.println([48;5;124mLong.toBinaryString(fingerprint) +[48;5;52m [48;5;124m"[48;5;52m " + [48;5;124mArrays.toString(payload)[48;5;52m);[0m[48;5;52m                                                   [0m[34mâ”‚[38;5;28m 820[34mâ”‚[48;5;22;38;5;231m        [48;5;28m       [48;5;22m [38;5;149mSystem[38;5;231m.out.println([48;5;28;38;5;186m"num [48;5;22m [48;5;28m : [48;5;22m "[38;5;231m [38;5;203m+[48;5;28;38;5;231m input[48;5;22m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 821[34mâ”‚[48;5;22;38;5;231m                [38;5;149mSystem[38;5;231m.out.print([38;5;186m"hash  :  "[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 822[34mâ”‚[48;5;22;38;5;231m                print_long_in_binary(large_hash, fingerprintLength [38;5;203m+[38;5;231m power_of_two_size);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 823[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//print_int_in_binary(slot_index_mask, 31);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 824[34mâ”‚[48;5;22;38;5;231m                [38;5;149mSystem[38;5;231m.out.print([38;5;186m"bucket:  "[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 825[34mâ”‚[48;5;22;38;5;231m                print_long_in_binary(slot_index, power_of_two_size);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 826[34mâ”‚[48;5;22;38;5;231m                [38;5;149mSystem[38;5;231m.out.print([38;5;186m"FP    :  "[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 827[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//print_int_in_binary(fingerprint_mask, 31);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 828[34mâ”‚[48;5;22;38;5;231m                print_long_in_binary(fingerprint, fingerprintLength);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 829[34mâ”‚[48;5;22;38;5;231m                [38;5;149mSystem[38;5;231m.out.println();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 830[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 831[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 832[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 833[34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m void set_expansion_threshold([38;5;81mdouble[38;5;231m thresh) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 834[34mâ”‚[48;5;22;38;5;231m                fullness_threshold [38;5;203m=[38;5;231m thresh;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 835[34mâ”‚[48;5;22;38;5;231m                max_entries_before_full [38;5;203m=[38;5;231m ([38;5;81mlong[38;5;231m)([38;5;149mMath[38;5;231m.pow([38;5;141m2[38;5;231m, power_of_two_size) [38;5;203m*[38;5;231m fullness_threshold);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 836[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 837[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 838[34mâ”‚[48;5;22;38;5;231m        [38;5;203mprotected[38;5;231m [38;5;81mboolean[38;5;231m _insert_payload([38;5;81mlong[38;5;231m large_hash, [38;5;81mboolean[38;5;231m insert_only_if_no_match, [38;5;81mlong[38;5;203m[][38;5;231m payload) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 839[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m (is_full) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 840[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mreturn[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 841[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 842[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m slot_index [38;5;203m=[38;5;231m get_slot_index(large_hash);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 843[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m fingerprint [38;5;203m=[38;5;231m gen_fingerprint(large_hash);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 844[34mâ”‚[48;5;22;38;5;231m                [38;5;242m// System.out.println(Long.toBinaryString(fingerprint) + " " + Arrays.toString(payload));[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 827[34mâ”‚[38;5;231m                [0m                                                                                                                                    [34mâ”‚[38;5;238m 845[34mâ”‚[38;5;231m                [0m
[34mâ”‚[38;5;238m 828[34mâ”‚[38;5;231m                [38;5;242m/*print_long_in_binary(large_hash, 64);[0m                                                                                             [34mâ”‚[38;5;238m 846[34mâ”‚[38;5;231m                [38;5;242m/*print_long_in_binary(large_hash, 64);[0m
[34mâ”‚[38;5;238m 829[34mâ”‚[38;5;242m                print_long_in_binary(slot_index, 32);[0m                                                                                               [34mâ”‚[38;5;238m 847[34mâ”‚[38;5;242m                print_long_in_binary(slot_index, 32);[0m
[34mâ”‚[38;5;238m 830[34mâ”‚[38;5;242m                print_long_in_binary((int)fingerprint, 64);[0m                                                                                         [34mâ”‚[38;5;238m 848[34mâ”‚[38;5;242m                print_long_in_binary((int)fingerprint, 64);[0m
[34mâ”‚[38;5;238m 831[34mâ”‚[38;5;242m                System.out.println(slot_index + "  " + fingerprint );[0m                                                                               [34mâ”‚[38;5;238m 849[34mâ”‚[38;5;242m                System.out.println(slot_index + "  " + fingerprint );[0m
[34mâ”‚[38;5;238m 832[34mâ”‚[38;5;242m                System.out.println(); */[0m                                                                                                            [34mâ”‚[38;5;238m 850[34mâ”‚[38;5;242m                System.out.println(); */[0m
[34mâ”‚[38;5;88m 833[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m 851[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 834[34mâ”‚[48;5;52;38;5;231m        [38;5;81mboolean[38;5;231m success [38;5;203m=[38;5;231m insert(fingerprint, slot_index, [38;5;141mfalse[38;5;231m, payload);[0m[48;5;52m                                                                          [0m[34mâ”‚[38;5;28m 852[34mâ”‚[48;5;22;38;5;231m        [48;5;28m        [48;5;22;38;5;81mboolean[38;5;231m success [38;5;203m=[38;5;231m insert(fingerprint, slot_index, [38;5;141mfalse[38;5;231m, payload);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 835[34mâ”‚[38;5;231m                [38;5;242m/*if (!success) {[0m                                                                                                                   [34mâ”‚[38;5;238m 853[34mâ”‚[38;5;231m                [38;5;242m/*if (!success) {[0m
[34mâ”‚[38;5;238m 836[34mâ”‚[38;5;242m                        System.out.println("insertion failure");[0m                                                                                    [34mâ”‚[38;5;238m 854[34mâ”‚[38;5;242m                        System.out.println("insertion failure");[0m
[34mâ”‚[38;5;238m 837[34mâ”‚[38;5;242m                        System.out.println(input + "\t" + slot_index + "\t" + get_fingerprint_str(fingerprint, fingerprintLength));[0m                 [34mâ”‚[38;5;238m 855[34mâ”‚[38;5;242m                        System.out.println(input + "\t" + slot_index + "\t" + get_fingerprint_str(fingerprint, fingerprintLength));[0m
[34mâ”‚[38;5;238m 838[34mâ”‚[38;5;242m                        pretty_print();[0m                                                                                                             [34mâ”‚[38;5;238m 856[34mâ”‚[38;5;242m                        pretty_print();[0m
[34mâ”‚[38;5;238m 839[34mâ”‚[38;5;242m                        System.exit(1);[0m                                                                                                             [34mâ”‚[38;5;238m 857[34mâ”‚[38;5;242m                        System.exit(1);[0m
[34mâ”‚[38;5;238m 840[34mâ”‚[38;5;242m                }*/[0m                                                                                                                                 [34mâ”‚[38;5;238m 858[34mâ”‚[38;5;242m                }*/[0m
[34mâ”‚[38;5;88m 841[34mâ”‚[48;5;52;38;5;231m        [38;5;203mif[38;5;231m (expand_autonomously [38;5;203m&&[38;5;231m num_physical_entries [38;5;203m>=[38;5;231m max_entries_before_full) {[0m[48;5;52m                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 842[34mâ”‚[48;5;52;38;5;231m            [38;5;81mboolean[38;5;231m expanded [38;5;203m=[38;5;231m expand();[0m[48;5;52m                                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 843[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (expanded) {[0m[48;5;52m                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 844[34mâ”‚[48;5;52;38;5;231m                num_expansions[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 845[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 846[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 847[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m success;[0m[48;5;52m                                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 848[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 849[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 850[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 851[34mâ”‚[48;5;52;38;5;231m    @Override[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 852[34mâ”‚[48;5;52;38;5;231m    [38;5;203mprotected[38;5;231m [38;5;81mlong[38;5;231m _delete([38;5;81mlong[38;5;231m large_hash) {[0m[48;5;52m                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 853[34mâ”‚[48;5;52;38;5;231m        [38;5;203mthrow[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mError[38;5;231m([38;5;186m"An error occurred"[38;5;231m);[0m[48;5;52m                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 854[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 855[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 856[34mâ”‚[48;5;52;38;5;231m    [38;5;203mprotected[38;5;231m [38;5;81mlong[38;5;203m[][38;5;231m _delete_payload([38;5;81mlong[38;5;231m large_hash) {[0m[48;5;52m                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 857[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m slot_index [38;5;203m=[38;5;231m get_slot_index(large_hash);[0m[48;5;52m                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 858[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m fp_long [38;5;203m=[38;5;231m gen_fingerprint(large_hash);[0m[48;5;52m                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 859[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;203m[][38;5;231m removed_fp [38;5;203m=[38;5;231m delete(fp_long, slot_index);[0m[48;5;52m                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 860[34mâ”‚[48;5;52;38;5;231m        [38;5;203mif[38;5;231m (removed_fp[removed_fp.length [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m] [38;5;203m>[38;5;231m [38;5;203m-[38;5;141m1[38;5;231m) {[0m[48;5;52m                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 861[34mâ”‚[48;5;52;38;5;231m            num_physical_entries[38;5;203m--[38;5;231m;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 862[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 863[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m removed_fp;[0m[48;5;52m                                                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 864[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 865[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 866[34mâ”‚[48;5;52;38;5;231m    @Override[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 867[34mâ”‚[48;5;52;38;5;231m    [38;5;203mprotected[38;5;231m [38;5;81mboolean[38;5;231m _insert([38;5;81mlong[38;5;231m large_hash, [38;5;81mboolean[38;5;231m insert_only_if_no_match) {[0m[48;5;52m                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 868[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;52m                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 869[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 870[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 871[34mâ”‚[48;5;52;38;5;231m    [38;5;203mprotected[38;5;231m [38;5;81mboolean[38;5;231m _search([38;5;81mlong[38;5;231m large_hash) {[0m[48;5;52m                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 872[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m slot_index [38;5;203m=[38;5;231m get_slot_index(large_hash);[0m[48;5;52m                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 873[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m fingerprint [38;5;203m=[38;5;231m gen_fingerprint(large_hash);[0m[48;5;52m                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 874[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m search(fingerprint, slot_index);[0m[48;5;52m                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 875[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 876[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 877[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 878[34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;81mboolean[38;5;231m get_bit_at_offset([38;5;81mint[38;5;231m offset) {[0m[48;5;52m                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 879[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m filter.get(offset);[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 880[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 881[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 882[34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;149mMap[38;5;231m<[38;5;149mInteger[38;5;231m, [38;5;149mInteger[38;5;231m> compute_statistics() {[0m[48;5;52m                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 883[34mâ”‚[48;5;52;38;5;231m        num_runs [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 884[34mâ”‚[48;5;52;38;5;231m        num_clusters [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 885[34mâ”‚[48;5;52;38;5;231m        [38;5;149mMap[38;5;231m<[38;5;149mInteger[38;5;231m, [38;5;149mInteger[38;5;231m> histogram [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mTreeMap[38;5;231m<[38;5;149mInteger[38;5;231m, [38;5;149mInteger[38;5;231m>();[0m[48;5;52m                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 886[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 887[34mâ”‚[48;5;52;38;5;231m        [38;5;81mdouble[38;5;231m sum_run_lengths [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 888[34mâ”‚[48;5;52;38;5;231m        [38;5;81mdouble[38;5;231m sum_cluster_lengths [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 889[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 890[34mâ”‚[48;5;52;38;5;231m        [38;5;81mint[38;5;231m current_run_length [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 891[34mâ”‚[48;5;52;38;5;231m        [38;5;81mint[38;5;231m current_cluster_length [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 892[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 893[34mâ”‚[48;5;52;38;5;231m        [38;5;81mlong[38;5;231m num_slots [38;5;203m=[38;5;231m get_logical_num_slots_plus_extensions();[0m[48;5;52m                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 894[34mâ”‚[48;5;52;38;5;231m        [38;5;203mfor[38;5;231m ([38;5;81mlong[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m num_slots; i[38;5;203m++[38;5;231m) {[0m[48;5;52m                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 895[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 896[34mâ”‚[48;5;52;38;5;231m            [38;5;81mboolean[38;5;231m occupied [38;5;203m=[38;5;231m is_occupied(i);[0m[48;5;52m                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 897[34mâ”‚[48;5;52;38;5;231m            [38;5;81mboolean[38;5;231m continuation [38;5;203m=[38;5;231m is_continuation(i);[0m[48;5;52m                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 898[34mâ”‚[48;5;52;38;5;231m            [38;5;81mboolean[38;5;231m shifted [38;5;203m=[38;5;231m is_shifted(i);[0m[48;5;52m                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 899[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 900[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m ([38;5;203m![38;5;231moccupied [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mcontinuation [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mshifted) { [38;5;242m// empty slot[0m[48;5;52m                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 901[34mâ”‚[48;5;52;38;5;231m                sum_cluster_lengths [38;5;203m+=[38;5;231m current_cluster_length;[0m[48;5;52m                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 902[34mâ”‚[48;5;52;38;5;231m                [38;5;81mint[38;5;231m new_hist_val [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 903[34mâ”‚[48;5;52;38;5;231m                [38;5;203mif[38;5;231m (histogram.containsKey(current_cluster_length)) {[0m[48;5;52m                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 904[34mâ”‚[48;5;52;38;5;231m                    new_hist_val [38;5;203m=[38;5;231m histogram.get(current_cluster_length) [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 905[34mâ”‚[48;5;52;38;5;231m                }[0m[48;5;52m                                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 906[34mâ”‚[48;5;52;38;5;231m                histogram.put(current_cluster_length, new_hist_val);[0m[48;5;52m                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 907[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 908[34mâ”‚[48;5;52;38;5;231m                current_cluster_length [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 909[34mâ”‚[48;5;52;38;5;231m                sum_run_lengths [38;5;203m+=[38;5;231m current_run_length;[0m[48;5;52m                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 910[34mâ”‚[48;5;52;38;5;231m                current_run_length [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 911[34mâ”‚[48;5;52;38;5;231m            } [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m ([38;5;203m![38;5;231moccupied [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mcontinuation [38;5;203m&&[38;5;231m shifted) { [38;5;242m// start of new run[0m[48;5;52m                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 912[34mâ”‚[48;5;52;38;5;231m                num_runs[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 913[34mâ”‚[48;5;52;38;5;231m                sum_run_lengths [38;5;203m+=[38;5;231m current_run_length;[0m[48;5;52m                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 914[34mâ”‚[48;5;52;38;5;231m                current_run_length [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 915[34mâ”‚[48;5;52;38;5;231m                current_cluster_length[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 916[34mâ”‚[48;5;52;38;5;231m            } [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m ([38;5;203m![38;5;231moccupied [38;5;203m&&[38;5;231m continuation [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mshifted) {[0m[48;5;52m                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 917[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// not used[0m[48;5;52m                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 918[34mâ”‚[48;5;52;38;5;231m            } [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m ([38;5;203m![38;5;231moccupied [38;5;203m&&[38;5;231m continuation [38;5;203m&&[38;5;231m shifted) { [38;5;242m// continuation of run[0m[48;5;52m                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 919[34mâ”‚[48;5;52;38;5;231m                current_cluster_length[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 920[34mâ”‚[48;5;52;38;5;231m                current_run_length[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 921[34mâ”‚[48;5;52;38;5;231m            } [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m (occupied [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mcontinuation [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mshifted) { [38;5;242m// start of new cluster & run[0m[48;5;52m                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 922[34mâ”‚[48;5;52;38;5;231m                num_runs[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 923[34mâ”‚[48;5;52;38;5;231m                num_clusters[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 924[34mâ”‚[48;5;52;38;5;231m                sum_cluster_lengths [38;5;203m+=[38;5;231m current_cluster_length;[0m[48;5;52m                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 925[34mâ”‚[48;5;52;38;5;231m                [38;5;81mint[38;5;231m new_hist_val [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 926[34mâ”‚[48;5;52;38;5;231m                [38;5;203mif[38;5;231m (histogram.containsKey(current_cluster_length)) {[0m[48;5;52m                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 927[34mâ”‚[48;5;52;38;5;231m                    new_hist_val [38;5;203m=[38;5;231m histogram.get(current_cluster_length) [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 928[34mâ”‚[48;5;52;38;5;231m                }[0m[48;5;52m                                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 929[34mâ”‚[48;5;52;38;5;231m                histogram.put(current_cluster_length, new_hist_val);[0m[48;5;52m                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 930[34mâ”‚[48;5;52;38;5;231m                sum_run_lengths [38;5;203m+=[38;5;231m current_run_length;[0m[48;5;52m                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 931[34mâ”‚[48;5;52;38;5;231m                current_cluster_length [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 932[34mâ”‚[48;5;52;38;5;231m                current_run_length [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 933[34mâ”‚[48;5;52;38;5;231m            } [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m (occupied [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mcontinuation [38;5;203m&&[38;5;231m shifted) { [38;5;242m// start of new run[0m[48;5;52m                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 934[34mâ”‚[48;5;52;38;5;231m                num_runs[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 935[34mâ”‚[48;5;52;38;5;231m                sum_run_lengths [38;5;203m+=[38;5;231m current_run_length;[0m[48;5;52m                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 936[34mâ”‚[48;5;52;38;5;231m                current_run_length [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 937[34mâ”‚[48;5;52;38;5;231m                current_cluster_length[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 938[34mâ”‚[48;5;52;38;5;231m            } [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m (occupied [38;5;203m&&[38;5;231m continuation [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mshifted) {[0m[48;5;52m                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 939[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// not used[0m[48;5;52m                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 940[34mâ”‚[48;5;52;38;5;231m            } [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m (occupied [38;5;203m&&[38;5;231m continuation [38;5;203m&&[38;5;231m shifted) { [38;5;242m// continuation of run[0m[48;5;52m                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 941[34mâ”‚[48;5;52;38;5;231m                current_cluster_length[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 942[34mâ”‚[48;5;52;38;5;231m                current_run_length[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 943[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 944[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 945[34mâ”‚[48;5;52;38;5;231m        avg_run_length [38;5;203m=[38;5;231m sum_run_lengths [38;5;203m/[38;5;231m num_runs;[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 946[34mâ”‚[48;5;52;38;5;231m        avg_cluster_length [38;5;203m=[38;5;231m sum_cluster_lengths [38;5;203m/[38;5;231m num_clusters;[0m[48;5;52m                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 947[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m histogram;[0m[48;5;52m                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 948[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 949[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 950[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 951[34mâ”‚[48;5;52;38;5;231m    void ar_sum1([38;5;149mArrayList[38;5;231m<[38;5;149mInteger[38;5;231m> ar, [38;5;81mint[38;5;231m index) {[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 952[34mâ”‚[48;5;52;38;5;231m        [38;5;81mint[38;5;231m s [38;5;203m=[38;5;231m ar.size();[0m[48;5;52m                                                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 953[34mâ”‚[48;5;52;38;5;231m        [38;5;203mif[38;5;231m (s [38;5;203m<=[38;5;231m index) {[0m[48;5;52m                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 954[34mâ”‚[48;5;52;38;5;231m            [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m s; i [38;5;203m<[38;5;231m index [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m; i[38;5;203m++[38;5;231m) {[0m[48;5;52m                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 955[34mâ”‚[48;5;52;38;5;231m                ar.add([38;5;141m0[38;5;231m);[0m[48;5;52m                                                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 956[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 957[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 958[34mâ”‚[48;5;52;38;5;231m        ar.set(index, ar.get(index) [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 959[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 960[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 961[34mâ”‚[48;5;52;38;5;231m    [38;5;203mpublic[38;5;231m [38;5;149mArrayList[38;5;231m<[38;5;149mInteger[38;5;231m> measure_cluster_length() {[0m[48;5;52m                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 962[34mâ”‚[48;5;52;38;5;231m        [38;5;149mArrayList[38;5;231m<[38;5;149mInteger[38;5;231m> ar [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mArrayList[38;5;231m<[38;5;149mInteger[38;5;231m>();[0m[48;5;52m                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 963[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 964[34mâ”‚[48;5;52;38;5;231m        num_runs [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 965[34mâ”‚[48;5;52;38;5;231m        num_clusters [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 966[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 967[34mâ”‚[48;5;52;38;5;231m        [38;5;81mint[38;5;231m current_run_length [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 968[34mâ”‚[48;5;52;38;5;231m        [38;5;81mint[38;5;231m current_cluster_length [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 969[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 970[34mâ”‚[48;5;52;38;5;231m        [38;5;81mint[38;5;231m cnt [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 971[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 972[34mâ”‚[48;5;52;38;5;231m        [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m get_logical_num_slots_plus_extensions(); i[38;5;203m++[38;5;231m) {[0m[48;5;52m                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 973[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 974[34mâ”‚[48;5;52;38;5;231m            [38;5;81mboolean[38;5;231m occupied [38;5;203m=[38;5;231m is_occupied(i);[0m[48;5;52m                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 975[34mâ”‚[48;5;52;38;5;231m            [38;5;81mboolean[38;5;231m continuation [38;5;203m=[38;5;231m is_continuation(i);[0m[48;5;52m                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 976[34mâ”‚[48;5;52;38;5;231m            [38;5;81mboolean[38;5;231m shifted [38;5;203m=[38;5;231m is_shifted(i);[0m[48;5;52m                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 977[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 978[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m ([38;5;203m![38;5;231moccupied [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mcontinuation [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mshifted) { [38;5;242m// empty slot[0m[48;5;52m                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 979[34mâ”‚[48;5;52;38;5;231m                [38;5;203mif[38;5;231m (current_cluster_length [38;5;203m!=[38;5;231m [38;5;141m0[38;5;231m) ar_sum1(ar, current_cluster_length [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;52m                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 980[34mâ”‚[48;5;52;38;5;231m                current_cluster_length [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 981[34mâ”‚[48;5;52;38;5;231m                current_run_length [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 982[34mâ”‚[48;5;52;38;5;231m            } [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m ([38;5;203m![38;5;231moccupied [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mcontinuation [38;5;203m&&[38;5;231m shifted) { [38;5;242m// start of new run[0m[48;5;52m                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 983[34mâ”‚[48;5;52;38;5;231m                num_runs[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 984[34mâ”‚[48;5;52;38;5;231m                current_run_length [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 985[34mâ”‚[48;5;52;38;5;231m                current_cluster_length[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 986[34mâ”‚[48;5;52;38;5;231m            } [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m ([38;5;203m![38;5;231moccupied [38;5;203m&&[38;5;231m continuation [38;5;203m&&[38;5;231m shifted) { [38;5;242m// continuation of run[0m[48;5;52m                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 987[34mâ”‚[48;5;52;38;5;231m                current_cluster_length[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 988[34mâ”‚[48;5;52;38;5;231m                current_run_length[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 989[34mâ”‚[48;5;52;38;5;231m            } [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m (occupied [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mcontinuation [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mshifted) { [38;5;242m// start of new cluster & run[0m[48;5;52m                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 990[34mâ”‚[48;5;52;38;5;231m                [38;5;203mif[38;5;231m (current_cluster_length [38;5;203m!=[38;5;231m [38;5;141m0[38;5;231m) ar_sum1(ar, current_cluster_length [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;52m                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 991[34mâ”‚[48;5;52;38;5;231m                num_runs[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 992[34mâ”‚[48;5;52;38;5;231m                num_clusters[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 993[34mâ”‚[48;5;52;38;5;231m                [38;5;242m//if(current_cluster_length == 0) cnt++;[0m[48;5;52m                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 994[34mâ”‚[48;5;52;38;5;231m                current_cluster_length [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 995[34mâ”‚[48;5;52;38;5;231m                current_run_length [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 996[34mâ”‚[48;5;52;38;5;231m            } [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m (occupied [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mcontinuation [38;5;203m&&[38;5;231m shifted) { [38;5;242m// start of new run[0m[48;5;52m                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 997[34mâ”‚[48;5;52;38;5;231m                num_runs[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 998[34mâ”‚[48;5;52;38;5;231m                current_run_length [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 999[34mâ”‚[48;5;52;38;5;231m                current_cluster_length[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m1000[34mâ”‚[48;5;52;38;5;231m            } [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m (occupied [38;5;203m&&[38;5;231m continuation [38;5;203m&&[38;5;231m shifted) { [38;5;242m// continuation of run[0m[48;5;52m                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m1001[34mâ”‚[48;5;52;38;5;231m                current_cluster_length[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m1002[34mâ”‚[48;5;52;38;5;231m                current_run_length[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m1003[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m1004[34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m1005[34mâ”‚[48;5;52;38;5;231m        [38;5;203mif[38;5;231m (current_cluster_length [38;5;203m!=[38;5;231m [38;5;141m0[38;5;231m) ar_sum1(ar, current_cluster_length [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m);[0m[48;5;52m                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m1006[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//System.out.println("CNT = " + cnt);[0m[48;5;52m                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 859[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m (expand_autonomously [38;5;203m&&[38;5;231m num_physical_entries [38;5;203m>=[38;5;231m max_entries_before_full) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 860[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mboolean[38;5;231m expanded [38;5;203m=[38;5;231m expand();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 861[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m (expanded) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 862[34mâ”‚[48;5;22;38;5;231m                                num_expansions[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 863[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 864[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m1007[34mâ”‚[48;5;52;38;5;231m        [38;5;203mreturn[38;5;231m [48;5;124mar[48;5;52m;[0m[48;5;52m                                                                                                                                  [0m[34mâ”‚[38;5;28m 865[34mâ”‚[48;5;22;38;5;231m        [48;5;28m        [48;5;22;38;5;203mreturn[48;5;28;38;5;231m success[48;5;22m;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m1008[34mâ”‚[48;5;52;38;5;231m    }[0m[48;5;52m                                                                                                                                               [0m[34mâ”‚[38;5;28m 866[34mâ”‚[48;5;22;38;5;231m    [48;5;28m    [48;5;22m}[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m1009[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m 867[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 868[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 869[34mâ”‚[48;5;22;38;5;231m        @Override[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 870[34mâ”‚[48;5;22;38;5;231m        [38;5;203mprotected[38;5;231m [38;5;81mlong[38;5;231m [38;5;149m_delete[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mlarge_hash[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 871[34mâ”‚[48;5;22;38;5;231m                [38;5;203mthrow[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mError[38;5;231m([38;5;186m"An error occurred"[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 872[34mâ”‚[48;5;22;38;5;231m    }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 873[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 874[34mâ”‚[48;5;22;38;5;231m        [38;5;203mprotected[38;5;231m [38;5;81mlong[38;5;203m[][38;5;231m [38;5;149m_delete_payload[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mlarge_hash[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 875[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m slot_index [38;5;203m=[38;5;231m get_slot_index(large_hash);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 876[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m fp_long [38;5;203m=[38;5;231m gen_fingerprint(large_hash);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 877[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;203m[][38;5;231m removed_fp [38;5;203m=[38;5;231m delete(fp_long, slot_index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 878[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m (removed_fp[removed_fp.length [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m] [38;5;203m>[38;5;231m [38;5;203m-[38;5;141m1[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 879[34mâ”‚[48;5;22;38;5;231m                        num_physical_entries[38;5;203m--[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 880[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 881[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m removed_fp;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 882[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 883[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 884[34mâ”‚[48;5;22;38;5;231m        @Override[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 885[34mâ”‚[48;5;22;38;5;231m        [38;5;203mprotected[38;5;231m [38;5;81mboolean[38;5;231m [38;5;149m_insert[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mlarge_hash[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208minsert_only_if_no_match[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 886[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m [38;5;141mfalse[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 887[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 888[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 889[34mâ”‚[48;5;22;38;5;231m        [38;5;203mprotected[38;5;231m [38;5;81mboolean[38;5;231m [38;5;149m_search[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mlarge_hash[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 890[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m slot_index [38;5;203m=[38;5;231m get_slot_index(large_hash);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 891[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m fingerprint [38;5;203m=[38;5;231m gen_fingerprint(large_hash);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 892[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m search(fingerprint, slot_index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 893[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 894[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 895[34mâ”‚[48;5;22;38;5;231m        @Override[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 896[34mâ”‚[48;5;22;38;5;231m        [38;5;203mprotected[38;5;231m [38;5;81mlong[38;5;203m[][][38;5;231m [38;5;149m_search_for_payloads[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mlarge_hash[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 897[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m slot_index [38;5;203m=[38;5;231m get_slot_index(large_hash);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 898[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m fingerprint [38;5;203m=[38;5;231m gen_fingerprint(large_hash);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 899[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m search_for_payloads(fingerprint, slot_index);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 900[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 901[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 902[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 903[34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;81mboolean[38;5;231m [38;5;149mget_bit_at_offset[38;5;231m([38;5;81mint[38;5;231m [38;5;208moffset[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 904[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m filter.get(offset);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 905[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 906[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 907[34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;149mMap[38;5;231m<[38;5;149mInteger[38;5;231m,[38;5;149mInteger[38;5;231m> [38;5;149mcompute_statistics[38;5;231m() {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 908[34mâ”‚[48;5;22;38;5;231m                num_runs [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 909[34mâ”‚[48;5;22;38;5;231m                num_clusters [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 910[34mâ”‚[48;5;22;38;5;231m                [38;5;149mMap[38;5;231m<[38;5;149mInteger[38;5;231m,[38;5;149mInteger[38;5;231m> histogram [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mTreeMap[38;5;231m<[38;5;149mInteger[38;5;231m,[38;5;149mInteger[38;5;231m>();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 911[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 912[34mâ”‚[48;5;22;38;5;231m                [38;5;81mdouble[38;5;231m sum_run_lengths [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 913[34mâ”‚[48;5;22;38;5;231m                [38;5;81mdouble[38;5;231m sum_cluster_lengths [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 914[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 915[34mâ”‚[48;5;22;38;5;231m                [38;5;81mint[38;5;231m current_run_length [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 916[34mâ”‚[48;5;22;38;5;231m                [38;5;81mint[38;5;231m current_cluster_length [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 917[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 918[34mâ”‚[48;5;22;38;5;231m                [38;5;81mlong[38;5;231m num_slots [38;5;203m=[38;5;231m get_logical_num_slots_plus_extensions();[0m[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 919[34mâ”‚[48;5;22;38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mlong[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m num_slots; i[38;5;203m++[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 920[34mâ”‚[7;35m                        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 921[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mboolean[38;5;231m occupied [38;5;203m=[38;5;231m is_occupied(i);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 922[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mboolean[38;5;231m continuation [38;5;203m=[38;5;231m is_continuation(i);[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 923[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mboolean[38;5;231m shifted [38;5;203m=[38;5;231m is_shifted(i);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 924[34mâ”‚[7;35m                        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 925[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m         ( [38;5;203m![38;5;231moccupied [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mcontinuation [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mshifted ) { [38;5;242m// empty slot[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 926[34mâ”‚[48;5;22;38;5;231m                                sum_cluster_lengths [38;5;203m+=[38;5;231m current_cluster_length;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 927[34mâ”‚[48;5;22;38;5;231m                                [38;5;81mint[38;5;231m new_hist_val [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 928[34mâ”‚[48;5;22;38;5;231m                                [38;5;203mif[38;5;231m (histogram.containsKey(current_cluster_length)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 929[34mâ”‚[48;5;22;38;5;231m                                        new_hist_val [38;5;203m=[38;5;231m histogram.get(current_cluster_length) [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 930[34mâ”‚[48;5;22;38;5;231m                                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 931[34mâ”‚[48;5;22;38;5;231m                                histogram.put(current_cluster_length, new_hist_val);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 932[34mâ”‚[7;35m                                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 933[34mâ”‚[48;5;22;38;5;231m                                current_cluster_length [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 934[34mâ”‚[48;5;22;38;5;231m                                sum_run_lengths [38;5;203m+=[38;5;231m current_run_length;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 935[34mâ”‚[48;5;22;38;5;231m                                current_run_length [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 936[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 937[34mâ”‚[48;5;22;38;5;231m                        [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m ( [38;5;203m![38;5;231moccupied [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mcontinuation [38;5;203m&&[38;5;231m shifted ) { [38;5;242m// start of new run[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 938[34mâ”‚[48;5;22;38;5;231m                                num_runs[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 939[34mâ”‚[48;5;22;38;5;231m                                sum_run_lengths [38;5;203m+=[38;5;231m current_run_length;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 940[34mâ”‚[48;5;22;38;5;231m                                current_run_length [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 941[34mâ”‚[48;5;22;38;5;231m                                current_cluster_length[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 942[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 943[34mâ”‚[48;5;22;38;5;231m                        [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m ( [38;5;203m![38;5;231moccupied [38;5;203m&&[38;5;231m continuation [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mshifted ) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 944[34mâ”‚[48;5;22;38;5;231m                                [38;5;242m// not used[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 945[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 946[34mâ”‚[48;5;22;38;5;231m                        [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m ( [38;5;203m![38;5;231moccupied [38;5;203m&&[38;5;231m continuation [38;5;203m&&[38;5;231m shifted ) { [38;5;242m// continuation of run[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 947[34mâ”‚[48;5;22;38;5;231m                                current_cluster_length[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 948[34mâ”‚[48;5;22;38;5;231m                                current_run_length[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 949[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 950[34mâ”‚[48;5;22;38;5;231m                        [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m ( occupied [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mcontinuation [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mshifted ) { [38;5;242m// start of new cluster & run[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 951[34mâ”‚[48;5;22;38;5;231m                                num_runs[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 952[34mâ”‚[48;5;22;38;5;231m                                num_clusters[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 953[34mâ”‚[48;5;22;38;5;231m                                sum_cluster_lengths [38;5;203m+=[38;5;231m current_cluster_length;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 954[34mâ”‚[48;5;22;38;5;231m                                [38;5;81mint[38;5;231m new_hist_val [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 955[34mâ”‚[48;5;22;38;5;231m                                [38;5;203mif[38;5;231m (histogram.containsKey(current_cluster_length)) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 956[34mâ”‚[48;5;22;38;5;231m                                        new_hist_val [38;5;203m=[38;5;231m histogram.get(current_cluster_length) [38;5;203m+[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 957[34mâ”‚[48;5;22;38;5;231m                                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 958[34mâ”‚[48;5;22;38;5;231m                                histogram.put(current_cluster_length, new_hist_val);                                sum_run_lengths [38;5;203m+=[38;5;231m current_run_[34mâ†´[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m    [34mâ”‚[0m[48;5;22m                                                                                                                                            [34mâ€¦[38;5;231mlength;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 959[34mâ”‚[48;5;22;38;5;231m                                current_cluster_length [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 960[34mâ”‚[48;5;22;38;5;231m                                current_run_length [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 961[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 962[34mâ”‚[48;5;22;38;5;231m                        [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m (occupied [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mcontinuation [38;5;203m&&[38;5;231m shifted ) { [38;5;242m// start of new run[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 963[34mâ”‚[48;5;22;38;5;231m                                num_runs[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 964[34mâ”‚[48;5;22;38;5;231m                                sum_run_lengths [38;5;203m+=[38;5;231m current_run_length;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 965[34mâ”‚[48;5;22;38;5;231m                                current_run_length [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 966[34mâ”‚[48;5;22;38;5;231m                                current_cluster_length[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 967[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 968[34mâ”‚[48;5;22;38;5;231m                        [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m (occupied [38;5;203m&&[38;5;231m continuation [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mshifted ) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 969[34mâ”‚[48;5;22;38;5;231m                                [38;5;242m// not used[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 970[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 971[34mâ”‚[48;5;22;38;5;231m                        [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m (occupied [38;5;203m&&[38;5;231m continuation [38;5;203m&&[38;5;231m shifted ) { [38;5;242m// continuation of run[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 972[34mâ”‚[48;5;22;38;5;231m                                current_cluster_length[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 973[34mâ”‚[48;5;22;38;5;231m                                current_run_length[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 974[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 975[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 976[34mâ”‚[48;5;22;38;5;231m                avg_run_length [38;5;203m=[38;5;231m sum_run_lengths [38;5;203m/[38;5;231m num_runs;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 977[34mâ”‚[48;5;22;38;5;231m                avg_cluster_length [38;5;203m=[38;5;231m sum_cluster_lengths [38;5;203m/[38;5;231m num_clusters;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 978[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m histogram;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 979[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 980[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 981[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 982[34mâ”‚[48;5;22;38;5;231m        [38;5;81mvoid[38;5;231m [38;5;149mar_sum1[38;5;231m([38;5;149mArrayList[38;5;231m<[38;5;149mInteger[38;5;231m> [38;5;208mar[38;5;231m, [38;5;81mint[38;5;231m [38;5;208mindex[38;5;231m)[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 983[34mâ”‚[48;5;22;38;5;231m        {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 984[34mâ”‚[48;5;22;38;5;231m                [38;5;81mint[38;5;231m s [38;5;203m=[38;5;231m ar.size();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 985[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m (s [38;5;203m<=[38;5;231m index)[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 986[34mâ”‚[48;5;22;38;5;231m                {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 987[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m s; i[38;5;203m<[38;5;231mindex[38;5;203m+[38;5;141m1[38;5;231m; i[38;5;203m++[38;5;231m)[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 988[34mâ”‚[48;5;22;38;5;231m                        {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 989[34mâ”‚[48;5;22;38;5;231m                                ar.add([38;5;141m0[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 990[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 991[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 992[34mâ”‚[48;5;22;38;5;231m                ar.set(index, ar.get(index)[38;5;203m+[38;5;141m1[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 993[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 994[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 995[34mâ”‚[48;5;22;38;5;231m        [38;5;203mpublic[38;5;231m [38;5;149mArrayList[38;5;231m<[38;5;149mInteger[38;5;231m> [38;5;149mmeasure_cluster_length[38;5;231m()[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 996[34mâ”‚[48;5;22;38;5;231m        {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 997[34mâ”‚[48;5;22;38;5;231m                [38;5;149mArrayList[38;5;231m<[38;5;149mInteger[38;5;231m> ar [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mArrayList[38;5;231m<[38;5;149mInteger[38;5;231m>();[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 998[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 999[34mâ”‚[48;5;22;38;5;231m                num_runs [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1000[34mâ”‚[48;5;22;38;5;231m                num_clusters [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1001[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1002[34mâ”‚[48;5;22;38;5;231m                [38;5;81mint[38;5;231m current_run_length [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1003[34mâ”‚[48;5;22;38;5;231m                [38;5;81mint[38;5;231m current_cluster_length [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m1010[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m1004[34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1005[34mâ”‚[48;5;22;38;5;231m                [38;5;81mint[38;5;231m cnt [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1006[34mâ”‚[7;35m                [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1007[34mâ”‚[48;5;22;38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m get_logical_num_slots_plus_extensions(); i[38;5;203m++[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1008[34mâ”‚[7;35m                        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1009[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mboolean[38;5;231m occupied [38;5;203m=[38;5;231m is_occupied(i);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1010[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mboolean[38;5;231m continuation [38;5;203m=[38;5;231m is_continuation(i);[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1011[34mâ”‚[48;5;22;38;5;231m                        [38;5;81mboolean[38;5;231m shifted [38;5;203m=[38;5;231m is_shifted(i);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1012[34mâ”‚[7;35m                        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1013[34mâ”‚[48;5;22;38;5;231m                        [38;5;203mif[38;5;231m         ([38;5;203m![38;5;231moccupied [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mcontinuation [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mshifted ) { [38;5;242m// empty slot[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1014[34mâ”‚[48;5;22;38;5;231m                                [38;5;203mif[38;5;231m(current_cluster_length [38;5;203m!=[38;5;231m [38;5;141m0[38;5;231m) ar_sum1(ar, current_cluster_length[38;5;203m-[38;5;141m1[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1015[34mâ”‚[48;5;22;38;5;231m                                current_cluster_length [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1016[34mâ”‚[48;5;22;38;5;231m                                current_run_length [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1017[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1018[34mâ”‚[48;5;22;38;5;231m                        [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m ([38;5;203m![38;5;231moccupied [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mcontinuation [38;5;203m&&[38;5;231m shifted ) { [38;5;242m// start of new run[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1019[34mâ”‚[48;5;22;38;5;231m                                num_runs[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1020[34mâ”‚[48;5;22;38;5;231m                                current_run_length [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1021[34mâ”‚[48;5;22;38;5;231m                                current_cluster_length[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1022[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1023[34mâ”‚[48;5;22;38;5;231m                        [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m ([38;5;203m![38;5;231moccupied [38;5;203m&&[38;5;231m continuation [38;5;203m&&[38;5;231m shifted ) { [38;5;242m// continuation of run[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1024[34mâ”‚[48;5;22;38;5;231m                                current_cluster_length[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1025[34mâ”‚[48;5;22;38;5;231m                                current_run_length[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1026[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1027[34mâ”‚[48;5;22;38;5;231m                        [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m (occupied [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mcontinuation [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mshifted ) { [38;5;242m// start of new cluster & run[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1028[34mâ”‚[48;5;22;38;5;231m                                [38;5;203mif[38;5;231m(current_cluster_length [38;5;203m!=[38;5;231m [38;5;141m0[38;5;231m) ar_sum1(ar, current_cluster_length[38;5;203m-[38;5;141m1[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1029[34mâ”‚[48;5;22;38;5;231m                                num_runs[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1030[34mâ”‚[48;5;22;38;5;231m                                num_clusters[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1031[34mâ”‚[48;5;22;38;5;231m                                [38;5;242m//if(current_cluster_length == 0) cnt++;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1032[34mâ”‚[48;5;22;38;5;231m                                current_cluster_length [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1033[34mâ”‚[48;5;22;38;5;231m                                current_run_length [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1034[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1035[34mâ”‚[48;5;22;38;5;231m                        [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m (occupied [38;5;203m&&[38;5;231m [38;5;203m![38;5;231mcontinuation [38;5;203m&&[38;5;231m shifted ) { [38;5;242m// start of new run[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1036[34mâ”‚[48;5;22;38;5;231m                                num_runs[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1037[34mâ”‚[48;5;22;38;5;231m                                current_run_length [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1038[34mâ”‚[48;5;22;38;5;231m                                current_cluster_length[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1039[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1040[34mâ”‚[48;5;22;38;5;231m                        [38;5;203melse[38;5;231m [38;5;203mif[38;5;231m (occupied [38;5;203m&&[38;5;231m continuation [38;5;203m&&[38;5;231m shifted ) { [38;5;242m// continuation of run[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1041[34mâ”‚[48;5;22;38;5;231m                                current_cluster_length[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1042[34mâ”‚[48;5;22;38;5;231m                                current_run_length[38;5;203m++[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1043[34mâ”‚[48;5;22;38;5;231m                        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1044[34mâ”‚[48;5;22;38;5;231m                }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1045[34mâ”‚[48;5;22;38;5;231m                [38;5;203mif[38;5;231m(current_cluster_length [38;5;203m!=[38;5;231m [38;5;141m0[38;5;231m) ar_sum1(ar, current_cluster_length[38;5;203m-[38;5;141m1[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1046[34mâ”‚[48;5;22;38;5;231m                [38;5;242m//System.out.println("CNT = " + cnt);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1047[34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m ar;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1048[34mâ”‚[48;5;22;38;5;231m        }[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1049[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1050[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m1051[34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m1011[34mâ”‚[38;5;231m}[0m                                                                                                                                                   [34mâ”‚[38;5;238m1052[34mâ”‚[38;5;231m}[0m
[34mâ”‚[38;5;238m1012[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m1053[34mâ”‚[0m

[34mÎ” filters/Tests.java[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m1[0m: [34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m  1 [34mâ”‚[48;5;22;38;5;242m/*[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m  2 [34mâ”‚[48;5;22;38;5;242m * Copyright 2024 Niv Dayan[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m  3 [34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m  4 [34mâ”‚[48;5;22;38;5;242mLicensed under the Apache License, Version 2.0 (the "License");[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m  5 [34mâ”‚[48;5;22;38;5;242myou may not use this file except in compliance with the License.[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m  6 [34mâ”‚[48;5;22;38;5;242mYou may obtain a copy of the License at[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m  7 [34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m  8 [34mâ”‚[48;5;22;38;5;242m    http://www.apache.org/licenses/LICENSE-2.0[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m  9 [34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 10 [34mâ”‚[48;5;22;38;5;242mUnless required by applicable law or agreed to in writing, software[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 11 [34mâ”‚[48;5;22;38;5;242mdistributed under the License is distributed on an "AS IS" BASIS,[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 12 [34mâ”‚[48;5;22;38;5;242mWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 13 [34mâ”‚[48;5;22;38;5;242mSee the License for the specific language governing permissions and[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 14 [34mâ”‚[48;5;22;38;5;242mlimitations under the License.[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 15 [34mâ”‚[48;5;22;38;5;242m */[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 16 [34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m  1 [34mâ”‚[38;5;203mpackage[38;5;231m [38;5;149mfilters[38;5;231m;[0m                                                                                                                                    [34mâ”‚[38;5;238m 17 [34mâ”‚[38;5;203mpackage[38;5;231m [38;5;149mfilters[38;5;231m;[0m
[34mâ”‚[38;5;238m  2 [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 18 [34mâ”‚[0m
[34mâ”‚[38;5;238m  3 [34mâ”‚[38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mutil[38;5;231m.[38;5;149mBitSet[38;5;231m;[0m                                                                                                                            [34mâ”‚[38;5;238m 19 [34mâ”‚[38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mutil[38;5;231m.[38;5;149mBitSet[38;5;231m;[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m33[0m:[38;5;231m [38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mnio[38;5;231m.[38;5;149mcharset[38;5;231m.[38;5;149mStandardCharsets[38;5;231m; [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 17 [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 33 [34mâ”‚[0m
[34mâ”‚[38;5;238m 18 [34mâ”‚[38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mTests[38;5;231m {[0m                                                                                                                                [34mâ”‚[38;5;238m 34 [34mâ”‚[38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mTests[38;5;231m {[0m
[34mâ”‚[38;5;238m 19 [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 35 [34mâ”‚[0m
[34mâ”‚[38;5;88m 20 [34mâ”‚[48;5;52;38;5;231m        [38;5;203mstatic[38;5;231m [38;5;203mpublic[38;5;231m [38;5;149mBitSet[38;5;231m [38;5;149mset_slot_in_test[38;5;231m([38;5;81mlong[38;5;231m [38;5;208mentries[38;5;231m, [38;5;149mBitSet[38;5;231m [38;5;208mresult[38;5;231m, [38;5;81mint[38;5;231m [38;5;208mbits_per_entry[38;5;231m, [38;5;81mint[38;5;231m [38;5;208mpayload_size[38;5;231m,[0m[48;5;52m                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 21 [34mâ”‚[48;5;52;38;5;231m                                                                                  [38;5;81mint[38;5;231m [38;5;208mslot[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mis_occupied[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mis_continuation[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mi[34mâ†´[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                     [34mâ€¦[38;5;208ms_shifted[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m, [38;5;81mlong[38;5;203m[][38;5;231m [38;5;208mpayload[38;5;231m) {[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 22 [34mâ”‚[48;5;52;38;5;231m                [38;5;81mlong[38;5;231m num_entries [38;5;203m=[38;5;231m entries;[0m[48;5;52m                                                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 23 [34mâ”‚[48;5;52;38;5;231m                [38;5;81mint[38;5;231m fp_index [38;5;203m=[38;5;231m (bits_per_entry) [38;5;203m*[38;5;231m slot;[0m[48;5;52m                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 24 [34mâ”‚[48;5;52;38;5;231m                [38;5;81mint[38;5;231m payload_index [38;5;203m=[38;5;231m ([38;5;81mint[38;5;231m) (num_entries [38;5;203m*[38;5;231m bits_per_entry [38;5;203m+[38;5;231m slot [38;5;203m*[38;5;231m payload_size);[0m[48;5;52m                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 25 [34mâ”‚[48;5;52;38;5;231m                result.set(fp_index[38;5;203m++[38;5;231m, is_occupied);[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 26 [34mâ”‚[48;5;52;38;5;231m                result.set(fp_index[38;5;203m++[38;5;231m, is_continuation);[0m[48;5;52m                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 27 [34mâ”‚[48;5;52;38;5;231m                result.set(fp_index[38;5;203m++[38;5;231m, is_shifted);[0m[48;5;52m                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 28 [34mâ”‚[48;5;52;38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m bits_per_entry [38;5;203m-[38;5;231m [38;5;141m3[38;5;231m; i[38;5;203m++[38;5;231m) {[0m[48;5;52m                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 29 [34mâ”‚[48;5;52;38;5;231m                        result.set(fp_index[38;5;203m++[38;5;231m, [38;5;149mBitmap[38;5;231m.get_fingerprint_bit(i, fingerprint));[0m[48;5;52m                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 30 [34mâ”‚[48;5;52;38;5;231m                }[0m[48;5;52m                                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 31 [34mâ”‚[1;35m                for (int i = 0; i < payload.length; i++) {[0m[48;5;52m                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 32 [34mâ”‚[48;5;52;38;5;231m                        [38;5;81mint[38;5;231m offset;[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 33 [34mâ”‚[48;5;52;38;5;231m                        [38;5;203mif[38;5;231m (i [38;5;203m==[38;5;231m [38;5;141m0[38;5;231m)[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 34 [34mâ”‚[48;5;52;38;5;231m                                offset [38;5;203m=[38;5;231m payload_size [38;5;203m%[38;5;231m [38;5;149mLong[38;5;231m.[38;5;141mSIZE[38;5;231m;[0m[48;5;52m                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 35 [34mâ”‚[48;5;52;38;5;231m                        [38;5;203melse[0m[48;5;52m                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 36 [34mâ”‚[48;5;52;38;5;231m                                offset [38;5;203m=[38;5;231m payload_size;[0m[48;5;52m                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 37 [34mâ”‚[48;5;52;38;5;231m                        [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m j [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; j [38;5;203m<[38;5;231m offset; j[38;5;203m++[38;5;231m) {[0m[48;5;52m                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 38 [34mâ”‚[48;5;52;38;5;231m                                [38;5;81mboolean[38;5;231m bit [38;5;203m=[38;5;231m [38;5;149mBitmap[38;5;231m.get_fingerprint_bit(j, payload[i]);[0m[48;5;52m                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 39 [34mâ”‚[48;5;52;38;5;231m                                [38;5;242m// System.out.println(index + " " + this_index + " " + this_long + " " + bit);[0m[48;5;52m                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 40 [34mâ”‚[48;5;52;38;5;231m                                result.set(payload_index[38;5;203m++[38;5;231m, bit);[0m[48;5;52m                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 41 [34mâ”‚[48;5;52;38;5;231m                        }[0m[48;5;52m                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 42 [34mâ”‚[48;5;52;38;5;231m                }[0m[48;5;52m                                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 43 [34mâ”‚[48;5;52;38;5;231m                [38;5;203mreturn[38;5;231m result;[0m[48;5;52m                                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 44 [34mâ”‚[48;5;52;38;5;231m        }[0m[48;5;52m                                                                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 45 [34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 46 [34mâ”‚[38;5;231m        [38;5;203mstatic[38;5;231m [38;5;203mpublic[38;5;231m [38;5;149mBitSet[38;5;231m [38;5;149mset_slot_in_test[38;5;231m([38;5;149mBitSet[38;5;231m [38;5;208mresult[38;5;231m, [38;5;81mint[38;5;231m [38;5;208mbits_per_entry[38;5;231m, [38;5;81mint[38;5;231m [38;5;208mpayload_size[38;5;231m,[0m                                                  [34mâ”‚[38;5;238m 36 [34mâ”‚[38;5;231m        [38;5;203mstatic[38;5;231m [38;5;203mpublic[38;5;231m [38;5;149mBitSet[38;5;231m [38;5;149mset_slot_in_test[38;5;231m([38;5;149mBitSet[38;5;231m [38;5;208mresult[38;5;231m, [38;5;81mint[38;5;231m [38;5;208mbits_per_entry[38;5;231m, [38;5;81mint[38;5;231m [38;5;208mpayload_size[38;5;231m,[0m
[34mâ”‚[38;5;238m 47 [34mâ”‚[38;5;231m                                                                                  [38;5;81mint[38;5;231m [38;5;208mslot[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mis_occupied[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mis_continuation[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mi[34mâ†´[0m[34mâ”‚[38;5;238m 37 [34mâ”‚[38;5;231m                                                                                  [38;5;81mint[38;5;231m [38;5;208mslot[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mis_occupied[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mis_continuation[38;5;231m, [38;5;81mboolean[38;5;231m [38;5;208mi[34mâ†´[0m
[34mâ”‚[38;5;238m    [34mâ”‚[0m                                                                                                     [34mâ€¦[38;5;208ms_shifted[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m, [38;5;81mlong[38;5;203m[][38;5;231m [38;5;208mpayload[38;5;231m) {[0m[34mâ”‚[38;5;238m    [34mâ”‚[0m                                                                                                     [34mâ€¦[38;5;208ms_shifted[38;5;231m, [38;5;81mlong[38;5;231m [38;5;208mfingerprint[38;5;231m, [38;5;81mlong[38;5;203m[][38;5;231m [38;5;208mpayload[38;5;231m) {[0m
[34mâ”‚[38;5;88m 48 [34mâ”‚[48;5;52;38;5;231m                [38;5;81mint[38;5;231m [48;5;124mfp_index[48;5;52m [38;5;203m=[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size) [38;5;203m*[38;5;231m slot;[0m[48;5;52m                                                                              [0m[34mâ”‚[38;5;28m 38 [34mâ”‚[48;5;22;38;5;231m                [38;5;81mint[38;5;231m [48;5;28mindex[48;5;22m [38;5;203m=[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size) [38;5;203m*[38;5;231m slot;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 49 [34mâ”‚[48;5;52;38;5;231m                result.set([48;5;124mfp_index[48;5;52;38;5;203m++[38;5;231m, is_occupied);[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m 39 [34mâ”‚[48;5;22;38;5;231m                result.set([48;5;28mindex[48;5;22;38;5;203m++[38;5;231m, is_occupied);[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 50 [34mâ”‚[48;5;52;38;5;231m                result.set([48;5;124mfp_index[48;5;52;38;5;203m++[38;5;231m, is_continuation);[0m[48;5;52m                                                                                            [0m[34mâ”‚[38;5;28m 40 [34mâ”‚[48;5;22;38;5;231m                result.set([48;5;28mindex[48;5;22;38;5;203m++[38;5;231m, is_continuation);[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 51 [34mâ”‚[48;5;52;38;5;231m                result.set([48;5;124mfp_index[48;5;52;38;5;203m++[38;5;231m, is_shifted);[0m[48;5;52m                                                                                                 [0m[34mâ”‚[38;5;28m 41 [34mâ”‚[48;5;22;38;5;231m                result.set([48;5;28mindex[48;5;22;38;5;203m++[38;5;231m, is_shifted);[0m[7;35m [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 52 [34mâ”‚[38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m bits_per_entry [38;5;203m-[38;5;231m [38;5;141m3[38;5;231m; i[38;5;203m++[38;5;231m) {[0m                                                                                      [34mâ”‚[38;5;238m 42 [34mâ”‚[38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m bits_per_entry [38;5;203m-[38;5;231m [38;5;141m3[38;5;231m; i[38;5;203m++[38;5;231m) {[0m
[34mâ”‚[38;5;88m 53 [34mâ”‚[48;5;52;38;5;231m                        result.set([48;5;124mfp_index[48;5;52;38;5;203m++[38;5;231m, [38;5;149mBitmap[38;5;231m.get_fingerprint_bit(i, fingerprint));[0m[48;5;52m                                                         [0m[34mâ”‚[38;5;28m 43 [34mâ”‚[48;5;22;38;5;231m                        result.set([48;5;28mindex[48;5;22;38;5;203m++[38;5;231m, [38;5;149mBitmap[38;5;231m.get_fingerprint_bit(i, fingerprint));[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 54 [34mâ”‚[38;5;231m                }[0m                                                                                                                                   [34mâ”‚[38;5;238m 44 [34mâ”‚[38;5;231m                }[0m
[34mâ”‚[38;5;238m 55 [34mâ”‚[38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m payload.length; i[38;5;203m++[38;5;231m) {[0m                                                                                          [34mâ”‚[38;5;238m 45 [34mâ”‚[38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m payload.length; i[38;5;203m++[38;5;231m) {[0m
[34mâ”‚[38;5;238m 56 [34mâ”‚[38;5;231m                        [38;5;81mint[38;5;231m offset;[0m                                                                                                                 [34mâ”‚[38;5;238m 46 [34mâ”‚[38;5;231m                        [38;5;81mint[38;5;231m offset;[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m51[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mTests[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 61 [34mâ”‚[38;5;231m                        [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m j [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; j [38;5;203m<[38;5;231m offset; j[38;5;203m++[38;5;231m) {[0m                                                                                          [34mâ”‚[38;5;238m 51 [34mâ”‚[38;5;231m                        [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m j [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; j [38;5;203m<[38;5;231m offset; j[38;5;203m++[38;5;231m) {[0m
[34mâ”‚[38;5;238m 62 [34mâ”‚[38;5;231m                                [38;5;81mboolean[38;5;231m bit [38;5;203m=[38;5;231m [38;5;149mBitmap[38;5;231m.get_fingerprint_bit(j, payload[i]);[0m                                                            [34mâ”‚[38;5;238m 52 [34mâ”‚[38;5;231m                                [38;5;81mboolean[38;5;231m bit [38;5;203m=[38;5;231m [38;5;149mBitmap[38;5;231m.get_fingerprint_bit(j, payload[i]);[0m
[34mâ”‚[38;5;238m 63 [34mâ”‚[38;5;231m                                [38;5;242m// System.out.println(index + " " + this_index + " " + this_long + " " + bit);[0m                                      [34mâ”‚[38;5;238m 53 [34mâ”‚[38;5;231m                                [38;5;242m// System.out.println(index + " " + this_index + " " + this_long + " " + bit);[0m
[34mâ”‚[38;5;88m 64 [34mâ”‚[48;5;52;38;5;231m                                result.set([48;5;124mfp_index[48;5;52;38;5;203m++[38;5;231m, bit);[0m[48;5;52m                                                                                        [0m[34mâ”‚[38;5;28m 54 [34mâ”‚[48;5;22;38;5;231m                                result.set([48;5;28mindex[48;5;22;38;5;203m++[38;5;231m, bit);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 65 [34mâ”‚[38;5;231m                        }[0m                                                                                                                           [34mâ”‚[38;5;238m 55 [34mâ”‚[38;5;231m                        }[0m
[34mâ”‚[38;5;238m 66 [34mâ”‚[38;5;231m                }[0m                                                                                                                                   [34mâ”‚[38;5;238m 56 [34mâ”‚[38;5;231m                }[0m
[34mâ”‚[38;5;238m 67 [34mâ”‚[38;5;231m                [38;5;203mreturn[38;5;231m result;[0m                                                                                                                      [34mâ”‚[38;5;238m 57 [34mâ”‚[38;5;231m                [38;5;203mreturn[38;5;231m result;[0m
[34mâ”‚[38;5;238m 68 [34mâ”‚[38;5;231m        }[0m                                                                                                                                           [34mâ”‚[38;5;238m 58 [34mâ”‚[38;5;231m        }[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 59 [34mâ”‚[7;35m        [0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 60 [34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 69 [34mâ”‚[48;5;52;38;5;231m        [38;5;203mstatic[38;5;231m [38;5;203mpublic[38;5;231m [38;5;149mBitSet[38;5;231m set_slot_in_test([48;5;124;38;5;81mlong[38;5;231m entries, [48;5;52;38;5;149mBitSet[38;5;231m result, [38;5;81mint[38;5;231m bits_per_entry, [38;5;81mint[38;5;231m payload_size, [38;5;81mint[38;5;231m slot, [38;5;81mboolean[38;5;231m is_occupied, [38;5;81mboo[34mâ†µ[0m[34mâ”‚[38;5;28m 61 [34mâ”‚[48;5;22;38;5;231m        [38;5;203mstatic[38;5;231m [38;5;203mpublic[38;5;231m [38;5;149mBitSet[38;5;231m set_slot_in_test([38;5;149mBitSet[38;5;231m result, [38;5;81mint[38;5;231m bits_per_entry, [38;5;81mint[38;5;231m payload_size, [38;5;81mint[38;5;231m slot, [38;5;81mboolean[38;5;231m is_occupied, [38;5;81mboolean[38;5;231m is_contin[34mâ†µ[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[48;5;52;38;5;81mlean[38;5;231m is_continuation, [38;5;81mboolean[38;5;231m is_shifted, [38;5;149mString[38;5;231m fingerprint, [38;5;81mlong[38;5;203m[][38;5;231m payload) {[0m[48;5;52m                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[48;5;22;38;5;231muation, [38;5;81mboolean[38;5;231m is_shifted, [38;5;149mString[38;5;231m fingerprint, [38;5;81mlong[38;5;203m[][38;5;231m payload) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 70 [34mâ”‚[38;5;231m                [38;5;81mlong[38;5;231m l_fingerprint [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m                                                                                                             [34mâ”‚[38;5;238m 62 [34mâ”‚[38;5;231m                [38;5;81mlong[38;5;231m l_fingerprint [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m
[34mâ”‚[38;5;238m 71 [34mâ”‚[38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m fingerprint.length(); i[38;5;203m++[38;5;231m) {[0m                                                                                    [34mâ”‚[38;5;238m 63 [34mâ”‚[38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m fingerprint.length(); i[38;5;203m++[38;5;231m) {[0m
[34mâ”‚[38;5;238m 72 [34mâ”‚[38;5;231m                        [38;5;81mchar[38;5;231m c [38;5;203m=[38;5;231m fingerprint.charAt(i);[0m                                                                                             [34mâ”‚[38;5;238m 64 [34mâ”‚[38;5;231m                        [38;5;81mchar[38;5;231m c [38;5;203m=[38;5;231m fingerprint.charAt(i);[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m67[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mTests[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 75 [34mâ”‚[38;5;231m                        }[0m                                                                                                                           [34mâ”‚[38;5;238m 67 [34mâ”‚[38;5;231m                        }[0m
[34mâ”‚[38;5;238m 76 [34mâ”‚[38;5;231m                }[0m                                                                                                                                   [34mâ”‚[38;5;238m 68 [34mâ”‚[38;5;231m                }[0m
[34mâ”‚[38;5;238m 77 [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 69 [34mâ”‚[0m
[34mâ”‚[38;5;88m 78 [34mâ”‚[48;5;52;38;5;231m                [38;5;203mreturn[38;5;231m set_slot_in_test([48;5;124mentries, [48;5;52mresult, bits_per_entry, payload_size, slot, is_occupied, is_continuation, is_shifted, l_fingerprin[34mâ†´[0m[34mâ”‚[38;5;28m 70 [34mâ”‚[48;5;22;38;5;231m                [38;5;203mreturn[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, slot, is_occupied, is_continuation, is_shifted, l_fingerprint, payloa[34mâ†´[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                       [34mâ€¦[38;5;231mt, payload);[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m[48;5;22m                                                                                                                                                [34mâ€¦[38;5;231md);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 79 [34mâ”‚[38;5;231m        }[0m                                                                                                                                           [34mâ”‚[38;5;238m 71 [34mâ”‚[38;5;231m        }[0m
[34mâ”‚[38;5;238m 80 [34mâ”‚[38;5;231m        [0m                                                                                                                                            [34mâ”‚[38;5;238m 72 [34mâ”‚[38;5;231m        [0m
[34mâ”‚[38;5;238m 81 [34mâ”‚[38;5;231m        [38;5;203mstatic[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mboolean[38;5;231m check_equality([38;5;149mQuotientFilter[38;5;231m qf, [38;5;149mBitSet[38;5;231m bs, [38;5;81mboolean[38;5;231m check_also_fingerprints) {[0m                                       [34mâ”‚[38;5;238m 73 [34mâ”‚[38;5;231m        [38;5;203mstatic[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mboolean[38;5;231m check_equality([38;5;149mQuotientFilter[38;5;231m qf, [38;5;149mBitSet[38;5;231m bs, [38;5;81mboolean[38;5;231m check_also_fingerprints) {[0m
[34mâ”‚[38;5;88m 82 [34mâ”‚[48;5;52;38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m [48;5;124mqf[48;5;52m.[48;5;124mget_start_of_fingerprint_mirroring[48;5;52m(); i[38;5;203m++[38;5;231m) {[0m[48;5;52m                                                                 [0m[34mâ”‚[38;5;28m 74 [34mâ”‚[48;5;22;38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m [48;5;28mbs[48;5;22m.[48;5;28msize[48;5;22m(); i[38;5;203m++[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 83 [34mâ”‚[38;5;231m                        [38;5;242m// System.out.println("bit " + i + " diff set_bs: " + bs.get(i) + " qf: " + qf.get_bit_at_offset(i));[0m                       [34mâ”‚[38;5;238m 75 [34mâ”‚[38;5;231m                        [38;5;242m// System.out.println("bit " + i + " diff set_bs: " + bs.get(i) + " qf: " + qf.get_bit_at_offset(i));[0m
[34mâ”‚[38;5;238m 84 [34mâ”‚[38;5;231m                        [38;5;203mif[38;5;231m (check_also_fingerprints [38;5;203m||[38;5;231m (i [38;5;203m%[38;5;231m qf.bitPerEntry [38;5;203m==[38;5;231m [38;5;141m0[38;5;231m [38;5;203m||[38;5;231m i [38;5;203m%[38;5;231m qf.bitPerEntry [38;5;203m==[38;5;231m [38;5;141m1[38;5;231m [38;5;203m||[38;5;231m i [38;5;203m%[38;5;231m qf.bitPerEntry [38;5;203m==[38;5;231m [38;5;141m2[38;5;231m)) {[0m           [34mâ”‚[38;5;238m 76 [34mâ”‚[38;5;231m                        [38;5;203mif[38;5;231m (check_also_fingerprints [38;5;203m||[38;5;231m (i [38;5;203m%[38;5;231m qf.bitPerEntry [38;5;203m==[38;5;231m [38;5;141m0[38;5;231m [38;5;203m||[38;5;231m i [38;5;203m%[38;5;231m qf.bitPerEntry [38;5;203m==[38;5;231m [38;5;141m1[38;5;231m [38;5;203m||[38;5;231m i [38;5;203m%[38;5;231m qf.bitPerEntry [38;5;203m==[38;5;231m [38;5;141m2[38;5;231m)) {[0m
[34mâ”‚[38;5;238m 85 [34mâ”‚[38;5;231m                                [38;5;203mif[38;5;231m (qf.get_bit_at_offset(i) [38;5;203m!=[38;5;231m bs.get(i)) {[0m                                                                         [34mâ”‚[38;5;238m 77 [34mâ”‚[38;5;231m                                [38;5;203mif[38;5;231m (qf.get_bit_at_offset(i) [38;5;203m!=[38;5;231m bs.get(i)) {[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m104[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mTests[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 112[34mâ”‚[38;5;231m                qf.insert(fingerprint0, [38;5;141m2[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m                                                                                   [34mâ”‚[38;5;238m 104[34mâ”‚[38;5;231m                qf.insert(fingerprint0, [38;5;141m2[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m
[34mâ”‚[38;5;238m 113[34mâ”‚[38;5;231m                qf.insert(fingerprint0, [38;5;141m1[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m10[38;5;231m});[0m                                                                                  [34mâ”‚[38;5;238m 105[34mâ”‚[38;5;231m                qf.insert(fingerprint0, [38;5;141m1[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m10[38;5;231m});[0m
[34mâ”‚[38;5;238m 114[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 106[34mâ”‚[0m
[34mâ”‚[38;5;88m 115[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// qf.pretty_print();[0m[48;5;52m                                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 116[34mâ”‚[38;5;231m                [38;5;242m// these are the expecting resulting is_occupied, is_continuation, and is_shifted bits[0m                                              [34mâ”‚[38;5;238m 107[34mâ”‚[38;5;231m                [38;5;242m// these are the expecting resulting is_occupied, is_continuation, and is_shifted bits[0m
[34mâ”‚[38;5;238m 117[34mâ”‚[38;5;231m                [38;5;242m// for all slots contigously. We do not store the fingerprints here[0m                                                                 [34mâ”‚[38;5;238m 108[34mâ”‚[38;5;231m                [38;5;242m// for all slots contigously. We do not store the fingerprints here[0m
[34mâ”‚[38;5;238m 118[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m                                                          [34mâ”‚[38;5;238m 109[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m
[34mâ”‚[38;5;88m 119[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 120[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m0[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m,[34mâ†´[0m[34mâ”‚[38;5;28m 110[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m0[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                     [34mâ€¦[38;5;231m fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 121[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 111[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m10[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                     [34mâ€¦[38;5;231mfingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m10[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 122[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m2[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, fi[34mâ†´[0m[34mâ”‚[38;5;28m 112[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m2[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m10[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                       [34mâ€¦[38;5;231mngerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m10[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 123[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m3[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, f[34mâ†´[0m[34mâ”‚[38;5;28m 113[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m3[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m10[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                      [34mâ€¦[38;5;231mingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m10[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 124[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m4[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, f[34mâ†´[0m[34mâ”‚[38;5;28m 114[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m4[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                       [34mâ€¦[38;5;231mingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 125[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m5[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 115[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m5[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, fingerprint1, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m12[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                     [34mâ€¦[38;5;231mfingerprint1, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m12[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 126[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m6[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m,[34mâ†´[0m[34mâ”‚[38;5;28m 116[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m6[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                     [34mâ€¦[38;5;231m fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 127[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m7[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 117[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m7[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m14[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                     [34mâ€¦[38;5;231mfingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m14[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 128[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 118[34mâ”‚[0m
[34mâ”‚[38;5;238m 129[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m                                                                                                                [34mâ”‚[38;5;238m 119[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m
[34mâ”‚[38;5;238m 130[34mâ”‚[38;5;231m                [38;5;242m//qf.print_filter_summary();[0m                                                                                                        [34mâ”‚[38;5;238m 120[34mâ”‚[38;5;231m                [38;5;242m//qf.print_filter_summary();[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m148[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mTests[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 158[34mâ”‚[38;5;231m                [38;5;242m// these are the expecting resulting is_occupied, is_continuation, and is_shifted bits[0m                                              [34mâ”‚[38;5;238m 148[34mâ”‚[38;5;231m                [38;5;242m// these are the expecting resulting is_occupied, is_continuation, and is_shifted bits[0m
[34mâ”‚[38;5;238m 159[34mâ”‚[38;5;231m                [38;5;242m// for all slots contigously. We do not store the fingerprints here[0m                                                                 [34mâ”‚[38;5;238m 149[34mâ”‚[38;5;231m                [38;5;242m// for all slots contigously. We do not store the fingerprints here[0m
[34mâ”‚[38;5;238m 160[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m                                                          [34mâ”‚[38;5;238m 150[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m
[34mâ”‚[38;5;88m 161[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m0[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m,[34mâ†´[0m[34mâ”‚[38;5;28m 151[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m0[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                      [34mâ€¦[38;5;231m fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 162[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 152[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                       [34mâ€¦[38;5;231mfingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 163[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m2[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, fi[34mâ†´[0m[34mâ”‚[38;5;28m 153[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m2[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                         [34mâ€¦[38;5;231mngerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 164[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m3[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, f[34mâ†´[0m[34mâ”‚[38;5;28m 154[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m3[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                        [34mâ€¦[38;5;231mingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 165[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m4[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, f[34mâ†´[0m[34mâ”‚[38;5;28m 155[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m4[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                        [34mâ€¦[38;5;231mingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 166[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m5[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 156[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m5[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, fingerprint1, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                       [34mâ€¦[38;5;231mfingerprint1, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 167[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m6[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m,[34mâ†´[0m[34mâ”‚[38;5;28m 157[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m6[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                      [34mâ€¦[38;5;231m fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 168[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m7[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 158[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m7[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, fingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                       [34mâ€¦[38;5;231mfingerprint0, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 169[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m                                                                                                                [34mâ”‚[38;5;238m 159[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m
[34mâ”‚[38;5;238m 170[34mâ”‚[38;5;231m                [38;5;242m//qf.print_filter_summary();[0m                                                                                                        [34mâ”‚[38;5;238m 160[34mâ”‚[38;5;231m                [38;5;242m//qf.print_filter_summary();[0m
[34mâ”‚[38;5;238m 171[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 161[34mâ”‚[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m186[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mTests[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 196[34mâ”‚[38;5;231m                qf.insert([38;5;141m0[38;5;231m, [38;5;141m6[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m                                                                                              [34mâ”‚[38;5;238m 186[34mâ”‚[38;5;231m                qf.insert([38;5;141m0[38;5;231m, [38;5;141m6[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m
[34mâ”‚[38;5;238m 197[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 187[34mâ”‚[0m
[34mâ”‚[38;5;238m 198[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m                                                          [34mâ”‚[38;5;238m 188[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m
[34mâ”‚[38;5;88m 199[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m0[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m,[34mâ†´[0m[34mâ”‚[38;5;28m 189[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m0[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                [34mâ€¦[38;5;231m [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 200[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 190[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m1[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                 [34mâ€¦[38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m1[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 201[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m2[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[34mâ†´[0m[34mâ”‚[38;5;28m 191[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m2[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m2[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                  [34mâ€¦[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m2[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 202[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m3[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 192[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m3[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m3[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                 [34mâ€¦[38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m3[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 203[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m4[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m,[34mâ†´[0m[34mâ”‚[38;5;28m 193[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m4[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m4[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                   [34mâ€¦[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m4[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 204[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m5[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[34mâ†´[0m[34mâ”‚[38;5;28m 194[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m5[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m5[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                  [34mâ€¦[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m5[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 205[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m6[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[34mâ†´[0m[34mâ”‚[38;5;28m 195[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m6[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m6[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                  [34mâ€¦[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m6[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 206[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m7[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 196[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m7[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m7[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                 [34mâ€¦[38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m7[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 207[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m8[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[34mâ†´[0m[34mâ”‚[38;5;28m 197[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m8[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                  [34mâ€¦[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 208[34mâ”‚[38;5;231m                check_equality(qf, result, [38;5;141mfalse[38;5;231m);[0m                                                                                                  [34mâ”‚[38;5;238m 198[34mâ”‚[38;5;231m                check_equality(qf, result, [38;5;141mfalse[38;5;231m);[0m
[34mâ”‚[38;5;238m 209[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 199[34mâ”‚[0m
[34mâ”‚[38;5;238m 210[34mâ”‚[38;5;231m        }[0m                                                                                                                                           [34mâ”‚[38;5;238m 200[34mâ”‚[38;5;231m        }[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m325[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mTests[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 335[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m                                                                                                                [34mâ”‚[38;5;238m 325[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m
[34mâ”‚[38;5;238m 336[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 326[34mâ”‚[0m
[34mâ”‚[38;5;238m 337[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m                                                          [34mâ”‚[38;5;238m 327[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m
[34mâ”‚[38;5;88m 338[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m2[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 328[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m2[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, fp2, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m4[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                               [34mâ€¦[38;5;231mfp2, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m4[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 339[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m4[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 329[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m4[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, fp3, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m7[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                               [34mâ€¦[38;5;231mfp3, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m7[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 340[34mâ”‚[38;5;231m                check_equality(qf, result, [38;5;141mtrue[38;5;231m);[0m                                                                                                   [34mâ”‚[38;5;238m 330[34mâ”‚[38;5;231m                check_equality(qf, result, [38;5;141mtrue[38;5;231m);[0m
[34mâ”‚[38;5;238m 341[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m                                                                                                                [34mâ”‚[38;5;238m 331[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m
[34mâ”‚[38;5;238m 342[34mâ”‚[38;5;231m        }[0m                                                                                                                                           [34mâ”‚[38;5;238m 332[34mâ”‚[38;5;231m        }[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m375[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mTests[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 385[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m                                                                                                                [34mâ”‚[38;5;238m 375[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m
[34mâ”‚[38;5;238m 386[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 376[34mâ”‚[0m
[34mâ”‚[38;5;238m 387[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m                                                          [34mâ”‚[38;5;238m 377[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m
[34mâ”‚[38;5;88m 388[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 378[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                   [34mâ€¦[38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 389[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m2[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m,[34mâ†´[0m[34mâ”‚[38;5;28m 379[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m2[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                     [34mâ€¦[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 390[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m3[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[34mâ†´[0m[34mâ”‚[38;5;28m 380[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m3[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                    [34mâ€¦[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 391[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m4[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 381[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m4[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                   [34mâ€¦[38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 392[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m5[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[34mâ†´[0m[34mâ”‚[38;5;28m 382[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m5[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                    [34mâ€¦[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 393[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m6[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 383[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m6[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                   [34mâ€¦[38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 394[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m7[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m,[34mâ†´[0m[34mâ”‚[38;5;28m 384[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m7[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                     [34mâ€¦[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 395[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m8[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[34mâ†´[0m[34mâ”‚[38;5;28m 385[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m8[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                    [34mâ€¦[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 396[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m9[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 386[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m9[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                   [34mâ€¦[38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[[38;5;141m1[38;5;231m]);[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 397[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 387[34mâ”‚[0m
[34mâ”‚[38;5;238m 398[34mâ”‚[38;5;231m                check_equality(qf, result, [38;5;141mtrue[38;5;231m);[0m                                                                                                   [34mâ”‚[38;5;238m 388[34mâ”‚[38;5;231m                check_equality(qf, result, [38;5;141mtrue[38;5;231m);[0m
[34mâ”‚[38;5;238m 399[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m                                                                                                                [34mâ”‚[38;5;238m 389[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m417[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mTests[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 427[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m                                                                                                                [34mâ”‚[38;5;238m 417[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m
[34mâ”‚[38;5;238m 428[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 418[34mâ”‚[0m
[34mâ”‚[38;5;238m 429[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m                                                          [34mâ”‚[38;5;238m 419[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m
[34mâ”‚[38;5;88m 430[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 420[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m1[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                 [34mâ€¦[38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m1[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 431[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m2[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m,[34mâ†´[0m[34mâ”‚[38;5;28m 421[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m2[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                   [34mâ€¦[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 432[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m3[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 422[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m3[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m2[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                 [34mâ€¦[38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m2[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 433[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m4[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m,[34mâ†´[0m[34mâ”‚[38;5;28m 423[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m4[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m3[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                   [34mâ€¦[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m3[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 434[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m5[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[34mâ†´[0m[34mâ”‚[38;5;28m 424[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m5[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m5[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                  [34mâ€¦[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m5[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 435[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m6[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[34mâ†´[0m[34mâ”‚[38;5;28m 425[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m6[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m6[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                  [34mâ€¦[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m6[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 436[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m7[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 426[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m7[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m7[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                 [34mâ€¦[38;5;141m0[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m7[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 437[34mâ”‚[38;5;231m                check_equality(qf, result, [38;5;141mtrue[38;5;231m);[0m                                                                                                   [34mâ”‚[38;5;238m 427[34mâ”‚[38;5;231m                check_equality(qf, result, [38;5;141mtrue[38;5;231m);[0m
[34mâ”‚[38;5;238m 438[34mâ”‚[38;5;231m        }[0m                                                                                                                                           [34mâ”‚[38;5;238m 428[34mâ”‚[38;5;231m        }[0m
[34mâ”‚[38;5;238m 439[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 429[34mâ”‚[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m480[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mTests[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 490[34mâ”‚[38;5;231m                qf.pretty_print();[0m                                                                                                                  [34mâ”‚[38;5;238m 480[34mâ”‚[38;5;231m                qf.pretty_print();[0m
[34mâ”‚[38;5;238m 491[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 481[34mâ”‚[0m
[34mâ”‚[38;5;238m 492[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m bits_per_entry);[0m                                                                           [34mâ”‚[38;5;238m 482[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m bits_per_entry);[0m
[34mâ”‚[38;5;88m 493[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, [38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;52m            [0m[34mâ”‚[38;5;28m 483[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, [38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 494[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, [38;5;141m2[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;52m              [0m[34mâ”‚[38;5;28m 484[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, [38;5;141m2[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 495[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, [38;5;141m3[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;52m             [0m[34mâ”‚[38;5;28m 485[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, [38;5;141m3[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 496[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, [38;5;141m4[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;52m            [0m[34mâ”‚[38;5;28m 486[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, [38;5;141m4[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 497[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, [38;5;141m5[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;52m             [0m[34mâ”‚[38;5;28m 487[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, [38;5;141m5[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 498[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, [38;5;141m6[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;52m            [0m[34mâ”‚[38;5;28m 488[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, [38;5;141m6[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 499[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, [38;5;141m7[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;52m              [0m[34mâ”‚[38;5;28m 489[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, [38;5;141m7[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 500[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, [38;5;141m8[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;52m             [0m[34mâ”‚[38;5;28m 490[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, [38;5;141m8[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 501[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, [38;5;141m9[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;52m            [0m[34mâ”‚[38;5;28m 491[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, [38;5;141m9[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141m0[38;5;231m);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 502[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 492[34mâ”‚[0m
[34mâ”‚[38;5;238m 503[34mâ”‚[38;5;231m                check_equality(qf, result, [38;5;141mtrue[38;5;231m);[0m                                                                                                   [34mâ”‚[38;5;238m 493[34mâ”‚[38;5;231m                check_equality(qf, result, [38;5;141mtrue[38;5;231m);[0m
[34mâ”‚[38;5;238m 504[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m                                                                                                                [34mâ”‚[38;5;238m 494[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m660[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mTests[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 670[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 660[34mâ”‚[0m
[34mâ”‚[38;5;238m 671[34mâ”‚[38;5;231m                [38;5;81mint[38;5;231m num_entries [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m [38;5;203m<<[38;5;231m [38;5;203m++[38;5;231mnum_entries_power;[0m                                                                                         [34mâ”‚[38;5;238m 661[34mâ”‚[38;5;231m                [38;5;81mint[38;5;231m num_entries [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m [38;5;203m<<[38;5;231m [38;5;203m++[38;5;231mnum_entries_power;[0m
[34mâ”‚[38;5;238m 672[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m                                                          [34mâ”‚[38;5;238m 662[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m
[34mâ”‚[38;5;88m 673[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m0[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m,[34mâ†´[0m[34mâ”‚[38;5;28m 663[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m0[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;186m"0000000"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                        [34mâ€¦[38;5;231m [38;5;186m"0000000"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 674[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 664[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m1[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;186m"1100101"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m4[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                         [34mâ€¦[38;5;186m"1100101"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m4[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 675[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m2[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 665[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m2[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;186m"1010101"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m5[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                         [34mâ€¦[38;5;186m"1010101"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m5[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 676[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m3[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m,[34mâ†´[0m[34mâ”‚[38;5;28m 666[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m3[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;186m"0000000"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                        [34mâ€¦[38;5;231m [38;5;186m"0000000"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 677[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m4[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m,[34mâ†´[0m[34mâ”‚[38;5;28m 667[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m4[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;186m"0000000"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                        [34mâ€¦[38;5;231m [38;5;186m"0000000"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 678[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m5[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 668[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m5[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;186m"0010001"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m3[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                         [34mâ€¦[38;5;186m"0010001"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m3[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 679[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m6[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m,[34mâ†´[0m[34mâ”‚[38;5;28m 669[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m6[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;186m"0000000"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                        [34mâ€¦[38;5;231m [38;5;186m"0000000"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m0[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 680[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m7[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 670[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m7[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;186m"0101101"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m1[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                         [34mâ€¦[38;5;186m"0101101"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m1[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 681[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m8[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 671[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m8[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;186m"1001001"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m2[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                         [34mâ€¦[38;5;186m"1001001"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m2[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 682[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m9[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;186m"[34mâ†´[0m[34mâ”‚[38;5;28m 672[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m9[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;186m"0111001"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m6[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                          [34mâ€¦[38;5;186m0111001"[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m6[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 683[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m                                                                                                                [34mâ”‚[38;5;238m 673[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m
[34mâ”‚[38;5;238m 684[34mâ”‚[38;5;231m                check_equality(qf, result, [38;5;141mtrue[38;5;231m);[0m                                                                                                   [34mâ”‚[38;5;238m 674[34mâ”‚[38;5;231m                check_equality(qf, result, [38;5;141mtrue[38;5;231m);[0m
[34mâ”‚[38;5;238m 685[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 675[34mâ”‚[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m772[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mTests[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 782[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m                                                                                                                [34mâ”‚[38;5;238m 772[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m
[34mâ”‚[38;5;238m 783[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 773[34mâ”‚[0m
[34mâ”‚[38;5;238m 784[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(([38;5;81mint[38;5;231m)qf.get_logical_num_slots() [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m                                      [34mâ”‚[38;5;238m 774[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(([38;5;81mint[38;5;231m)qf.get_logical_num_slots() [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m
[34mâ”‚[38;5;88m 785[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m0[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 775[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m0[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141m3[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m2[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                 [34mâ€¦[38;5;141m3[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m2[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 786[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 776[34mâ”‚[0m
[34mâ”‚[38;5;238m 787[34mâ”‚[38;5;231m                check_equality(qf, result, [38;5;141mtrue[38;5;231m);[0m                                                                                                   [34mâ”‚[38;5;238m 777[34mâ”‚[38;5;231m                check_equality(qf, result, [38;5;141mtrue[38;5;231m);[0m
[34mâ”‚[38;5;238m 788[34mâ”‚[38;5;231m        }[0m                                                                                                                                           [34mâ”‚[38;5;238m 778[34mâ”‚[38;5;231m        }[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m806[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mTests[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 816[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 806[34mâ”‚[0m
[34mâ”‚[38;5;238m 817[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m                                                          [34mâ”‚[38;5;238m 807[34mâ”‚[38;5;231m                [38;5;149mBitSet[38;5;231m result [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mBitSet[38;5;231m(num_entries [38;5;203m*[38;5;231m (bits_per_entry [38;5;203m+[38;5;231m payload_size));[0m
[34mâ”‚[38;5;238m 818[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 808[34mâ”‚[0m
[34mâ”‚[38;5;88m 819[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m5[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [34mâ†´[0m[34mâ”‚[38;5;28m 809[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m5[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141m16[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m1[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                [34mâ€¦[38;5;141m16[38;5;231m, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m1[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 820[34mâ”‚[48;5;52;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test([48;5;124mqf.get_logical_num_slots_plus_extensions(), [48;5;52mresult, bits_per_entry, payload_size, [38;5;141m6[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, f[34mâ†´[0m[34mâ”‚[38;5;28m 810[34mâ”‚[48;5;22;38;5;231m                result [38;5;203m=[38;5;231m set_slot_in_test(result, bits_per_entry, payload_size, [38;5;141m6[38;5;231m, [38;5;141mfalse[38;5;231m, [38;5;141mtrue[38;5;231m, [38;5;141mtrue[38;5;231m, fp2, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m7[38;5;231m});[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m[48;5;52m                                                                                                                                [34mâ€¦[38;5;231mp2, [38;5;203mnew[38;5;231m [38;5;81mlong[38;5;231m[]{[38;5;141m7[38;5;231m});[0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 821[34mâ”‚[38;5;231m                check_equality(qf, result, [38;5;141mtrue[38;5;231m);[0m                                                                                                   [34mâ”‚[38;5;238m 811[34mâ”‚[38;5;231m                check_equality(qf, result, [38;5;141mtrue[38;5;231m);[0m
[34mâ”‚[38;5;238m 822[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m                                                                                                                [34mâ”‚[38;5;238m 812[34mâ”‚[38;5;231m                [38;5;242m//qf.pretty_print();[0m
[34mâ”‚[38;5;238m 823[34mâ”‚[38;5;231m        }[0m                                                                                                                                           [34mâ”‚[38;5;238m 813[34mâ”‚[38;5;231m        }[0m

[34mÎ” infiniFilter_experiments/Payload_Experiment.java[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m25[0m:[38;5;231m [38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mnio[38;5;231m.[38;5;149mfile[38;5;231m.[38;5;149mPath[38;5;231m; [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 25 [34mâ”‚[38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mnio[38;5;231m.[38;5;149mfile[38;5;231m.[38;5;149mPaths[38;5;231m;[0m                                                                                                                         [34mâ”‚[38;5;238m 25 [34mâ”‚[38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mnio[38;5;231m.[38;5;149mfile[38;5;231m.[38;5;149mPaths[38;5;231m;[0m
[34mâ”‚[38;5;238m 26 [34mâ”‚[38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mtext[38;5;231m.[38;5;149mSimpleDateFormat[38;5;231m;[0m                                                                                                                  [34mâ”‚[38;5;238m 26 [34mâ”‚[38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mtext[38;5;231m.[38;5;149mSimpleDateFormat[38;5;231m;[0m
[34mâ”‚[38;5;238m 27 [34mâ”‚[38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mtime[38;5;231m.[38;5;149mLocalDate[38;5;231m;[0m                                                                                                                         [34mâ”‚[38;5;238m 27 [34mâ”‚[38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mtime[38;5;231m.[38;5;149mLocalDate[38;5;231m;[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 28 [34mâ”‚[48;5;22;38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mutil[38;5;231m.[38;5;149mArrays[38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 28 [34mâ”‚[38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mutil[38;5;231m.[38;5;149mCalendar[38;5;231m;[0m                                                                                                                          [34mâ”‚[38;5;238m 29 [34mâ”‚[38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mutil[38;5;231m.[38;5;149mCalendar[38;5;231m;[0m
[34mâ”‚[38;5;88m 29 [34mâ”‚[48;5;52;38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mutil[38;5;231m.[38;5;149mLinkedList[38;5;231m;[0m[48;5;52m                                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 30 [34mâ”‚[48;5;52;38;5;203mimport[38;5;231m [38;5;149mjava[38;5;231m.[38;5;149mutil[38;5;231m.[38;5;149mQueue[38;5;231m;[0m[48;5;52m                                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 31 [34mâ”‚[38;5;242m// add warm up[0m                                                                                                                                      [34mâ”‚[38;5;238m 30 [34mâ”‚[38;5;242m// add warm up[0m
[34mâ”‚[38;5;238m 32 [34mâ”‚[38;5;242m// check for bigger fingerprints[0m                                                                                                                    [34mâ”‚[38;5;238m 31 [34mâ”‚[38;5;242m// check for bigger fingerprints[0m
[34mâ”‚[38;5;238m 33 [34mâ”‚[38;5;242m// test for both mirroring and beside fingerprint[0m                                                                                                   [34mâ”‚[38;5;238m 32 [34mâ”‚[38;5;242m// test for both mirroring and beside fingerprint[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m49[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mPayload_Experiment[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mExperimentsBase[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 50 [34mâ”‚[38;5;231m            scalability_experiment(qf, [38;5;141m0[38;5;231m, qf.get_max_entries_before_expansion() [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m, [38;5;203mnew[38;5;231m baseline());[0m                                               [34mâ”‚[38;5;238m 49 [34mâ”‚[38;5;231m            scalability_experiment(qf, [38;5;141m0[38;5;231m, qf.get_max_entries_before_expansion() [38;5;203m-[38;5;231m [38;5;141m1[38;5;231m, [38;5;203mnew[38;5;231m baseline());[0m
[34mâ”‚[38;5;238m 51 [34mâ”‚[38;5;231m        }[0m                                                                                                                                           [34mâ”‚[38;5;238m 50 [34mâ”‚[38;5;231m        }[0m
[34mâ”‚[38;5;238m 52 [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 51 [34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 52 [34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 53 [34mâ”‚[38;5;231m        [38;5;81mint[38;5;203m[][38;5;231m payload_sizes [38;5;203m=[38;5;231m {[0m                                                                                                                     [34mâ”‚[38;5;238m 53 [34mâ”‚[38;5;231m        [38;5;81mint[38;5;203m[][38;5;231m payload_sizes [38;5;203m=[38;5;231m {[0m
[34mâ”‚[38;5;238m 54 [34mâ”‚[38;5;231m                [38;5;141m0[38;5;231m,[0m                                                                                                                                  [34mâ”‚[38;5;238m 54 [34mâ”‚[38;5;231m                [38;5;141m0[38;5;231m,[0m
[34mâ”‚[38;5;238m 55 [34mâ”‚[38;5;231m                [38;5;141m32[38;5;231m,[0m                                                                                                                                 [34mâ”‚[38;5;238m 55 [34mâ”‚[38;5;231m                [38;5;141m32[38;5;231m,[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m57[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mPayload_Experiment[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mExperimentsBase[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 57 [34mâ”‚[38;5;231m        };[0m                                                                                                                                          [34mâ”‚[38;5;238m 57 [34mâ”‚[38;5;231m        };[0m
[34mâ”‚[38;5;238m 58 [34mâ”‚[38;5;231m        [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m ps [38;5;203m:[38;5;231m payload_sizes) {[0m                                                                                                              [34mâ”‚[38;5;238m 58 [34mâ”‚[38;5;231m        [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m ps [38;5;203m:[38;5;231m payload_sizes) {[0m
[34mâ”‚[38;5;238m 59 [34mâ”‚[38;5;231m            [38;5;149mSystem[38;5;231m.gc();[0m                                                                                                                            [34mâ”‚[38;5;238m 59 [34mâ”‚[38;5;231m            [38;5;149mSystem[38;5;231m.gc();[0m
[34mâ”‚[38;5;88m 60 [34mâ”‚[48;5;52;38;5;231m            [48;5;124m       [48;5;52mpayload_size [38;5;203m=[38;5;231m ps;[0m[48;5;52m                                                                                                               [0m[34mâ”‚[38;5;28m 60 [34mâ”‚[48;5;22;38;5;231m            payload_size [38;5;203m=[38;5;231m ps;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 61 [34mâ”‚[38;5;231m            [38;5;149mSystem[38;5;231m.out.println(payload_size);[0m                                                                                                       [34mâ”‚[38;5;238m 61 [34mâ”‚[38;5;231m            [38;5;149mSystem[38;5;231m.out.println(payload_size);[0m
[34mâ”‚[38;5;238m 62 [34mâ”‚[38;5;231m            baseline original_qf_res [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m baseline();[0m                                                                                              [34mâ”‚[38;5;238m 62 [34mâ”‚[38;5;231m            baseline original_qf_res [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m baseline();[0m
[34mâ”‚[38;5;238m 63 [34mâ”‚[38;5;231m            {[0m                                                                                                                                       [34mâ”‚[38;5;238m 63 [34mâ”‚[38;5;231m            {[0m
[34mâ”‚[38;5;88m 64 [34mâ”‚[48;5;52;38;5;231m                [48;5;124;38;5;149mQuotientFilter[38;5;231m orig[48;5;52m [38;5;203m=[38;5;231m [48;5;124;38;5;203mnew[38;5;231m [38;5;149mQuotientFilter[38;5;231m([48;5;52m(num_entries_power [38;5;203m+[38;5;231m num_cycles) [38;5;203m/[38;5;231m [38;5;141m2[38;5;231m [38;5;203m+[38;5;231m [48;5;124;38;5;141m5[38;5;231m, bits_per_entry, payload_size)[48;5;52m;[0m[48;5;52m                   [0m[34mâ”‚[38;5;28m 64 [34mâ”‚[48;5;22;38;5;231m                [48;5;28;38;5;81mint[38;5;231m qf_size[48;5;22m [38;5;203m=[48;5;28;38;5;231m [48;5;22m(num_entries_power [38;5;203m+[38;5;231m num_cycles) [38;5;203m/[38;5;231m [38;5;141m2[38;5;231m [38;5;203m+[38;5;231m [48;5;28;38;5;141m0[48;5;22;38;5;231m;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 65 [34mâ”‚[48;5;22;38;5;231m                [38;5;149mQuotientFilter[38;5;231m orig [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mQuotientFilter[38;5;231m(qf_size, bits_per_entry, payload_size);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 65 [34mâ”‚[38;5;231m                orig.set_expand_autonomously([38;5;141mfalse[38;5;231m);[0m                                                                                                [34mâ”‚[38;5;238m 66 [34mâ”‚[38;5;231m                orig.set_expand_autonomously([38;5;141mfalse[38;5;231m);[0m
[34mâ”‚[38;5;238m 66 [34mâ”‚[38;5;231m                [38;5;81mlong[38;5;231m starting_index [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m                                                                                                            [34mâ”‚[38;5;238m 67 [34mâ”‚[38;5;231m                [38;5;81mlong[38;5;231m starting_index [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m
[34mâ”‚[38;5;238m 67 [34mâ”‚[38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m; i [38;5;203m<[38;5;231m num_cycles; i[38;5;203m++[38;5;231m) {[0m                                                                                              [34mâ”‚[38;5;238m 68 [34mâ”‚[38;5;231m                [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m; i [38;5;203m<[38;5;231m num_cycles; i[38;5;203m++[38;5;231m) {[0m
[34mâ”‚[38;5;88m 68 [34mâ”‚[48;5;52;38;5;231m                    [38;5;81mlong[38;5;231m end_key [38;5;203m=[38;5;231m ([38;5;81mint[38;5;231m) ([38;5;149mMath[38;5;231m.pow([38;5;141m2[38;5;231m, [48;5;124m(num_entries_power [38;5;203m+[38;5;231m num_cycles) [38;5;203m/[38;5;231m [38;5;141m2[38;5;231m [38;5;203m+[38;5;231m [38;5;141m5[48;5;52;38;5;231m) [38;5;203m*[38;5;231m i [38;5;203m/[38;5;231m num_cycles); [38;5;242m//[0m[48;5;52m                               [0m[34mâ”‚[38;5;28m 69 [34mâ”‚[48;5;22;38;5;231m                    [38;5;81mlong[38;5;231m end_key [38;5;203m=[38;5;231m ([38;5;81mint[38;5;231m) ([38;5;149mMath[38;5;231m.pow([38;5;141m2[38;5;231m, [48;5;28mqf_size[48;5;22m) [38;5;203m*[38;5;231m i [38;5;203m/[38;5;231m num_cycles); [38;5;242m//[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 69 [34mâ”‚[38;5;231m                    scalability_experiment(orig, starting_index, end_key, original_qf_res);[0m                                                         [34mâ”‚[38;5;238m 70 [34mâ”‚[38;5;231m                    scalability_experiment(orig, starting_index, end_key, original_qf_res);[0m
[34mâ”‚[38;5;88m 70 [34mâ”‚[48;5;52;38;5;231m                    [38;5;149mSystem[38;5;231m.out.println(orig.num_expansions);[0m[48;5;52m                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 71 [34mâ”‚[48;5;52;38;5;231m                    [38;5;149mSystem[38;5;231m.out.println(orig.get_utilization());[0m[48;5;52m                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 72 [34mâ”‚[48;5;52;38;5;231m                    [38;5;149mSystem[38;5;231m.out.println(orig.get_physcial_num_slots());[0m[48;5;52m                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 73 [34mâ”‚[38;5;231m                    starting_index [38;5;203m=[38;5;231m end_key;[0m                                                                                                       [34mâ”‚[38;5;238m 71 [34mâ”‚[38;5;231m                    starting_index [38;5;203m=[38;5;231m end_key;[0m
[34mâ”‚[38;5;238m 74 [34mâ”‚[38;5;231m                    [38;5;149mSystem[38;5;231m.out.println([38;5;186m"static quotient filter "[38;5;231m [38;5;203m+[38;5;231m i);[0m                                                                              [34mâ”‚[38;5;238m 72 [34mâ”‚[38;5;231m                    [38;5;149mSystem[38;5;231m.out.println([38;5;186m"static quotient filter "[38;5;231m [38;5;203m+[38;5;231m i);[0m
[34mâ”‚[38;5;238m 75 [34mâ”‚[38;5;231m                }[0m                                                                                                                                   [34mâ”‚[38;5;238m 73 [34mâ”‚[38;5;231m                }[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m75[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mPayload_Experiment[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mExperimentsBase[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 77 [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 75 [34mâ”‚[0m
[34mâ”‚[38;5;238m 78 [34mâ”‚[38;5;231m            [38;5;149mSystem[38;5;231m.gc();[0m                                                                                                                            [34mâ”‚[38;5;238m 76 [34mâ”‚[38;5;231m            [38;5;149mSystem[38;5;231m.gc();[0m
[34mâ”‚[38;5;238m 79 [34mâ”‚[38;5;231m            [38;5;149mSystem[38;5;231m.out.println([38;5;186m"finished quotient"[38;5;231m);[0m                                                                                                [34mâ”‚[38;5;238m 77 [34mâ”‚[38;5;231m            [38;5;149mSystem[38;5;231m.out.println([38;5;186m"finished quotient"[38;5;231m);[0m
[34mâ”‚[38;5;88m 80 [34mâ”‚[48;5;52;38;5;231m            payload_sizes [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;81mint[38;5;231m[]{[0m[48;5;52m                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 81 [34mâ”‚[48;5;52;38;5;231m                    [38;5;141m0[38;5;231m,[0m[48;5;52m                                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 82 [34mâ”‚[48;5;52;38;5;231m                    [38;5;141m32[38;5;231m,[0m[48;5;52m                                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 83 [34mâ”‚[48;5;52;38;5;231m                    [38;5;141m128[38;5;231m,[0m[48;5;52m                                                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 84 [34mâ”‚[48;5;52;38;5;231m            };[0m[48;5;52m                                                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 78 [34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 85 [34mâ”‚[38;5;242m//            baseline chained_IF_res = new baseline();[0m                                                                                             [34mâ”‚[38;5;238m 79 [34mâ”‚[38;5;242m//            baseline chained_IF_res = new baseline();[0m
[34mâ”‚[38;5;238m 86 [34mâ”‚[38;5;242m//            {[0m                                                                                                                                     [34mâ”‚[38;5;238m 80 [34mâ”‚[38;5;242m//            {[0m
[34mâ”‚[38;5;238m 87 [34mâ”‚[38;5;242m//                BasicInfiniFilter qf = new ChainedInfiniFilter(num_entries_power, bits_per_entry, payload_size);[0m                                  [34mâ”‚[38;5;238m 81 [34mâ”‚[38;5;242m//                BasicInfiniFilter qf = new ChainedInfiniFilter(num_entries_power, bits_per_entry, payload_size);[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m84[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mPayload_Experiment[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mExperimentsBase[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 90 [34mâ”‚[38;5;242m//                long end_key = qf.get_max_entries_before_expansion() - 1;[0m                                                                         [34mâ”‚[38;5;238m 84 [34mâ”‚[38;5;242m//                long end_key = qf.get_max_entries_before_expansion() - 1;[0m
[34mâ”‚[38;5;238m 91 [34mâ”‚[38;5;242m//                for (int i = num_entries_power; i <= num_cycles; i++) {[0m                                                                           [34mâ”‚[38;5;238m 85 [34mâ”‚[38;5;242m//                for (int i = num_entries_power; i <= num_cycles; i++) {[0m
[34mâ”‚[38;5;238m 92 [34mâ”‚[38;5;242m//                    scalability_experiment(qf, starting_index, end_key, chained_IF_res);[0m                                                          [34mâ”‚[38;5;238m 86 [34mâ”‚[38;5;242m//                    scalability_experiment(qf, starting_index, end_key, chained_IF_res);[0m
[34mâ”‚[38;5;88m 93 [34mâ”‚[48;5;52;38;5;242m//                    System.out.println(qf.num_expansions);[0m[48;5;52m                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 94 [34mâ”‚[38;5;242m//                    starting_index = end_key;[0m                                                                                                     [34mâ”‚[38;5;238m 87 [34mâ”‚[38;5;242m//                    starting_index = end_key;[0m
[34mâ”‚[38;5;238m 95 [34mâ”‚[38;5;242m//                    end_key = qf.get_max_entries_before_expansion() * 2 - 1;[0m                                                                      [34mâ”‚[38;5;238m 88 [34mâ”‚[38;5;242m//                    end_key = qf.get_max_entries_before_expansion() * 2 - 1;[0m
[34mâ”‚[38;5;238m 96 [34mâ”‚[38;5;242m//                    System.out.println("infinifilter " + i);[0m                                                                                      [34mâ”‚[38;5;238m 89 [34mâ”‚[38;5;242m//                    System.out.println("infinifilter " + i);[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m100[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mPayload_Experiment[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mExperimentsBase[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 107[34mâ”‚[38;5;242m//                long end_key = qf2.get_max_entries_before_expansion() - 1;[0m                                                                        [34mâ”‚[38;5;238m 100[34mâ”‚[38;5;242m//                long end_key = qf2.get_max_entries_before_expansion() - 1;[0m
[34mâ”‚[38;5;238m 108[34mâ”‚[38;5;242m//                for (int i = num_entries_power; i <= num_cycles && qf2.get_fingerprint_length() > 0; i++) {[0m                                       [34mâ”‚[38;5;238m 101[34mâ”‚[38;5;242m//                for (int i = num_entries_power; i <= num_cycles && qf2.get_fingerprint_length() > 0; i++) {[0m
[34mâ”‚[38;5;238m 109[34mâ”‚[38;5;242m//                    scalability_experiment(qf2, starting_index, end_key, bit_sacrifice_res);[0m                                                      [34mâ”‚[38;5;238m 102[34mâ”‚[38;5;242m//                    scalability_experiment(qf2, starting_index, end_key, bit_sacrifice_res);[0m
[34mâ”‚[38;5;88m 110[34mâ”‚[48;5;52;38;5;242m//                    System.out.println(qf2.num_expansions);[0m[48;5;52m                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 111[34mâ”‚[38;5;242m//                    starting_index = end_key;[0m                                                                                                     [34mâ”‚[38;5;238m 103[34mâ”‚[38;5;242m//                    starting_index = end_key;[0m
[34mâ”‚[38;5;238m 112[34mâ”‚[38;5;242m//                    end_key = qf2.get_max_entries_before_expansion() * 2 - 1;[0m                                                                     [34mâ”‚[38;5;238m 104[34mâ”‚[38;5;242m//                    end_key = qf2.get_max_entries_before_expansion() * 2 - 1;[0m
[34mâ”‚[38;5;238m 113[34mâ”‚[38;5;242m//                    System.out.println("bit sacrifice " + i);[0m                                                                                     [34mâ”‚[38;5;238m 105[34mâ”‚[38;5;242m//                    System.out.println("bit sacrifice " + i);[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m117[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mPayload_Experiment[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mExperimentsBase[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 125[34mâ”‚[38;5;242m//                long end_key = qf3.get_max_entries_before_expansion() - 1;[0m                                                                        [34mâ”‚[38;5;238m 117[34mâ”‚[38;5;242m//                long end_key = qf3.get_max_entries_before_expansion() - 1;[0m
[34mâ”‚[38;5;238m 126[34mâ”‚[38;5;242m//                for (int i = num_entries_power; i <= num_cycles - 1; i++) {[0m                                                                       [34mâ”‚[38;5;238m 118[34mâ”‚[38;5;242m//                for (int i = num_entries_power; i <= num_cycles - 1; i++) {[0m
[34mâ”‚[38;5;238m 127[34mâ”‚[38;5;242m//                    scalability_experiment(qf3, starting_index, end_key, geometric_expansion_res);[0m                                                [34mâ”‚[38;5;238m 119[34mâ”‚[38;5;242m//                    scalability_experiment(qf3, starting_index, end_key, geometric_expansion_res);[0m
[34mâ”‚[38;5;88m 128[34mâ”‚[48;5;52;38;5;242m//                    System.out.println(qf3.num_expansions);[0m[48;5;52m                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 129[34mâ”‚[38;5;242m//                    starting_index = end_key + 1;[0m                                                                                                 [34mâ”‚[38;5;238m 120[34mâ”‚[38;5;242m//                    starting_index = end_key + 1;[0m
[34mâ”‚[38;5;238m 130[34mâ”‚[38;5;242m//                    end_key = (long) (qf3.get_max_entries_before_expansion() * 2 + starting_index - 1);[0m                                           [34mâ”‚[38;5;238m 121[34mâ”‚[38;5;242m//                    end_key = (long) (qf3.get_max_entries_before_expansion() * 2 + starting_index - 1);[0m
[34mâ”‚[38;5;238m 131[34mâ”‚[38;5;242m//                    //System.out.println("thresh  " + qf3.max_entries_before_expansion);[0m                                                          [34mâ”‚[38;5;238m 122[34mâ”‚[38;5;242m//                    //System.out.println("thresh  " + qf3.max_entries_before_expansion);[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m126[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mPayload_Experiment[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mExperimentsBase[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 135[34mâ”‚[38;5;242m//                }[0m                                                                                                                                 [34mâ”‚[38;5;238m 126[34mâ”‚[38;5;242m//                }[0m
[34mâ”‚[38;5;238m 136[34mâ”‚[38;5;242m//            }[0m                                                                                                                                     [34mâ”‚[38;5;238m 127[34mâ”‚[38;5;242m//            }[0m
[34mâ”‚[38;5;238m 137[34mâ”‚[38;5;242m//            System.out.println("finished geometric chaining");[0m                                                                                    [34mâ”‚[38;5;238m 128[34mâ”‚[38;5;242m//            System.out.println("finished geometric chaining");[0m
[34mâ”‚[38;5;88m 138[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 129[34mâ”‚[48;5;22;38;5;242m//[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 139[34mâ”‚[38;5;231m            [38;5;81mint[38;5;231m commas_before [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m                                                                                                                  [34mâ”‚[38;5;238m 130[34mâ”‚[38;5;231m            [38;5;81mint[38;5;231m commas_before [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m
[34mâ”‚[38;5;238m 140[34mâ”‚[38;5;231m            [38;5;81mint[38;5;231m commas_after [38;5;203m=[38;5;231m [38;5;141m5[38;5;231m;[0m                                                                                                                   [34mâ”‚[38;5;238m 131[34mâ”‚[38;5;231m            [38;5;81mint[38;5;231m commas_after [38;5;203m=[38;5;231m [38;5;141m5[38;5;231m;[0m
[34mâ”‚[38;5;238m 141[34mâ”‚[38;5;231m            [38;5;149mSystem[38;5;231m.out.println([38;5;186m"Insertion Time"[38;5;231m);[0m                                                                                                   [34mâ”‚[38;5;238m 132[34mâ”‚[38;5;231m            [38;5;149mSystem[38;5;231m.out.println([38;5;186m"Insertion Time"[38;5;231m);[0m
[34mâ”‚[38;5;238m 142[34mâ”‚[38;5;231m            original_qf_res.print([38;5;186m"num_entries"[38;5;231m, [38;5;186m"insertion_time"[38;5;231m, commas_before[38;5;203m++[38;5;231m, commas_after[38;5;203m--[38;5;231m);[0m                                                [34mâ”‚[38;5;238m 133[34mâ”‚[38;5;231m            original_qf_res.print([38;5;186m"num_entries"[38;5;231m, [38;5;186m"insertion_time"[38;5;231m, commas_before[38;5;203m++[38;5;231m, commas_after[38;5;203m--[38;5;231m);[0m
[34mâ”‚[38;5;88m 143[34mâ”‚[48;5;124;38;5;242m//[48;5;52m            chained_IF_res.print("num_entries", "insertion_time", commas_before++, commas_after--);[0m[48;5;52m                                               [0m[34mâ”‚[38;5;28m 134[34mâ”‚[48;5;22;38;5;231m            [48;5;28;38;5;242m// [48;5;22mchained_IF_res.print("num_entries", "insertion_time", commas_before++, commas_after--);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 144[34mâ”‚[48;5;124;38;5;242m//[48;5;52m            bit_sacrifice_res.print("num_entries", "insertion_time", commas_before++, commas_after--);[0m[48;5;52m                                            [0m[34mâ”‚[38;5;28m 135[34mâ”‚[48;5;22;38;5;231m            [48;5;28;38;5;242m// [48;5;22mbit_sacrifice_res.print("num_entries", "insertion_time", commas_before++, commas_after--);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 145[34mâ”‚[48;5;124;38;5;242m//[48;5;52m            geometric_expansion_res.print("num_entries", "insertion_time", commas_before++, commas_after--);[0m[48;5;52m                                      [0m[34mâ”‚[38;5;28m 136[34mâ”‚[48;5;22;38;5;231m            [48;5;28;38;5;242m// [48;5;22mgeometric_expansion_res.print("num_entries", "insertion_time", commas_before++, commas_after--);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 146[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// bloom_res.print("num_entries", "insertion_time", commas_before++, commas_after--);[0m[48;5;52m                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 147[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// cuckoo_res.print("num_entries", "insertion_time", commas_before++, commas_after--);[0m[48;5;52m                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 148[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 137[34mâ”‚[0m
[34mâ”‚[38;5;238m 149[34mâ”‚[38;5;231m            [38;5;149mSystem[38;5;231m.out.println();[0m                                                                                                                   [34mâ”‚[38;5;238m 138[34mâ”‚[38;5;231m            [38;5;149mSystem[38;5;231m.out.println();[0m
[34mâ”‚[38;5;238m 150[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 139[34mâ”‚[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m141[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mPayload_Experiment[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mExperimentsBase[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 152[34mâ”‚[38;5;231m            commas_after [38;5;203m=[38;5;231m [38;5;141m5[38;5;231m;[0m                                                                                                                       [34mâ”‚[38;5;238m 141[34mâ”‚[38;5;231m            commas_after [38;5;203m=[38;5;231m [38;5;141m5[38;5;231m;[0m
[34mâ”‚[38;5;238m 153[34mâ”‚[38;5;231m            [38;5;149mSystem[38;5;231m.out.println([38;5;186m"Query Time"[38;5;231m);[0m                                                                                                       [34mâ”‚[38;5;238m 142[34mâ”‚[38;5;231m            [38;5;149mSystem[38;5;231m.out.println([38;5;186m"Query Time"[38;5;231m);[0m
[34mâ”‚[38;5;238m 154[34mâ”‚[38;5;231m            original_qf_res.print([38;5;186m"num_entries"[38;5;231m, [38;5;186m"query_time"[38;5;231m, commas_before[38;5;203m++[38;5;231m, commas_after[38;5;203m--[38;5;231m);[0m                                                    [34mâ”‚[38;5;238m 143[34mâ”‚[38;5;231m            original_qf_res.print([38;5;186m"num_entries"[38;5;231m, [38;5;186m"query_time"[38;5;231m, commas_before[38;5;203m++[38;5;231m, commas_after[38;5;203m--[38;5;231m);[0m
[34mâ”‚[38;5;88m 155[34mâ”‚[48;5;124;38;5;242m//[48;5;52m            chained_IF_res.print("num_entries", "query_time", commas_before++, commas_after--);[0m[48;5;52m                                                   [0m[34mâ”‚[38;5;28m 144[34mâ”‚[48;5;22;38;5;231m            [48;5;28;38;5;242m// [48;5;22mchained_IF_res.print("num_entries", "query_time", commas_before++, commas_after--);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 156[34mâ”‚[48;5;124;38;5;242m//[48;5;52m            bit_sacrifice_res.print("num_entries", "query_time", commas_before++, commas_after--);[0m[48;5;52m                                                [0m[34mâ”‚[38;5;28m 145[34mâ”‚[48;5;22;38;5;231m            [48;5;28;38;5;242m// [48;5;22mbit_sacrifice_res.print("num_entries", "query_time", commas_before++, commas_after--);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 157[34mâ”‚[48;5;124;38;5;242m//[48;5;52m            geometric_expansion_res.print("num_entries", "query_time", commas_before++, commas_after--);[0m[48;5;52m                                          [0m[34mâ”‚[38;5;28m 146[34mâ”‚[48;5;22;38;5;231m            [48;5;28;38;5;242m// [48;5;22mgeometric_expansion_res.print("num_entries", "query_time", commas_before++, commas_after--);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 158[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// bloom_res.print("num_entries", "query_time", commas_before++, commas_after--);[0m[48;5;52m                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 159[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// cuckoo_res.print("num_entries", "query_time", commas_before++, commas_after--);[0m[48;5;52m                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 160[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 161[34mâ”‚[48;5;52;38;5;231m            [38;5;149mSystem[38;5;231m.out.println();[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 162[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 163[34mâ”‚[48;5;52;38;5;231m            commas_before [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 164[34mâ”‚[48;5;52;38;5;231m            commas_after [38;5;203m=[38;5;231m [38;5;141m5[38;5;231m;[0m[48;5;52m                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 165[34mâ”‚[48;5;52;38;5;231m            original_qf_res.print([38;5;186m"num_entries"[38;5;231m, [38;5;186m"FPR"[38;5;231m, commas_before[38;5;203m++[38;5;231m, commas_after[38;5;203m--[38;5;231m);[0m[48;5;52m                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 166[34mâ”‚[48;5;52;38;5;242m//            chained_IF_res.print("num_entries", "FPR", commas_before++, commas_after--);[0m[48;5;52m                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 167[34mâ”‚[48;5;52;38;5;242m//            bit_sacrifice_res.print("num_entries", "FPR", commas_before++, commas_after--);[0m[48;5;52m                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 168[34mâ”‚[48;5;52;38;5;242m//            geometric_expansion_res.print("num_entries", "FPR", commas_before++, commas_after--);[0m[48;5;52m                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 169[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// bloom_res.print("num_entries", "FPR", commas_before++, commas_after--);[0m[48;5;52m                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 170[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// cuckoo_res.print("num_entries", "FPR", commas_before++, commas_after--);[0m[48;5;52m                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 171[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 147[34mâ”‚[0m
[34mâ”‚[38;5;238m 172[34mâ”‚[38;5;231m            [38;5;149mSystem[38;5;231m.out.println();[0m                                                                                                                   [34mâ”‚[38;5;238m 148[34mâ”‚[38;5;231m            [38;5;149mSystem[38;5;231m.out.println();[0m
[34mâ”‚[38;5;238m 173[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 149[34mâ”‚[0m
[34mâ”‚[38;5;88m 174[34mâ”‚[48;5;52;38;5;231m            commas_before [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 175[34mâ”‚[48;5;52;38;5;231m            commas_after [38;5;203m=[38;5;231m [38;5;141m5[38;5;231m;[0m[48;5;52m                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 176[34mâ”‚[48;5;52;38;5;231m            original_qf_res.print([38;5;186m"num_entries"[38;5;231m, [38;5;186m"memory"[38;5;231m, commas_before[38;5;203m++[38;5;231m, commas_after[38;5;203m--[38;5;231m);[0m[48;5;52m                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 177[34mâ”‚[48;5;52;38;5;242m//            chained_IF_res.print("num_entries", "memory", commas_before++, commas_after--);[0m[48;5;52m                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 178[34mâ”‚[48;5;52;38;5;242m//            bit_sacrifice_res.print("num_entries", "memory", commas_before++, commas_after--);[0m[48;5;52m                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 179[34mâ”‚[48;5;52;38;5;242m//            geometric_expansion_res.print("num_entries", "memory", commas_before++, commas_after--);[0m[48;5;52m                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 180[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// bloom_res.print("num_entries", "memory", commas_before++, commas_after--);[0m[48;5;52m                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 181[34mâ”‚[48;5;52;38;5;231m            [38;5;242m// cuckoo_res.print("num_entries", "memory", commas_before++, commas_after--);[0m[48;5;52m                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 182[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 183[34mâ”‚[38;5;231m            [38;5;149mString[38;5;231m timeStamp [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mSimpleDateFormat[38;5;231m([38;5;186m"yyyy-MM-dd_HH-mm-ss"[38;5;231m).format([38;5;149mCalendar[38;5;231m.getInstance().getTime());[0m                                [34mâ”‚[38;5;238m 150[34mâ”‚[38;5;231m            [38;5;149mString[38;5;231m timeStamp [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mSimpleDateFormat[38;5;231m([38;5;186m"yyyy-MM-dd_HH-mm-ss"[38;5;231m).format([38;5;149mCalendar[38;5;231m.getInstance().getTime());[0m
[34mâ”‚[38;5;238m 184[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 151[34mâ”‚[0m
[34mâ”‚[38;5;238m 185[34mâ”‚[38;5;231m            [38;5;149mLocalDate[38;5;231m ld [38;5;203m=[38;5;231m [38;5;149mLocalDate[38;5;231m.now();[0m                                                                                                         [34mâ”‚[38;5;238m 152[34mâ”‚[38;5;231m            [38;5;149mLocalDate[38;5;231m ld [38;5;203m=[38;5;231m [38;5;149mLocalDate[38;5;231m.now();[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m161[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mPayload_Experiment[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mExperimentsBase[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 194[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 161[34mâ”‚[0m
[34mâ”‚[38;5;238m 195[34mâ”‚[38;5;231m            [38;5;149mString[38;5;231m write_latency_file_name [38;5;203m=[38;5;231m dir_name [38;5;203m+[38;5;231m [38;5;186m"/writes_speed.txt"[38;5;231m;[0m                                                                        [34mâ”‚[38;5;238m 162[34mâ”‚[38;5;231m            [38;5;149mString[38;5;231m write_latency_file_name [38;5;203m=[38;5;231m dir_name [38;5;203m+[38;5;231m [38;5;186m"/writes_speed.txt"[38;5;231m;[0m
[34mâ”‚[38;5;238m 196[34mâ”‚[38;5;231m            [38;5;149mString[38;5;231m read_latency_file_name [38;5;203m=[38;5;231m dir_name [38;5;203m+[38;5;231m [38;5;186m"/read_speed.txt"[38;5;231m;[0m                                                                           [34mâ”‚[38;5;238m 163[34mâ”‚[38;5;231m            [38;5;149mString[38;5;231m read_latency_file_name [38;5;203m=[38;5;231m dir_name [38;5;203m+[38;5;231m [38;5;186m"/read_speed.txt"[38;5;231m;[0m
[34mâ”‚[38;5;88m 197[34mâ”‚[48;5;52;38;5;231m            [38;5;149mString[38;5;231m [38;5;149mFPR_file_name[38;5;231m [38;5;203m=[38;5;231m dir_name [38;5;203m+[38;5;231m [38;5;186m"/false_positive_rate.txt"[38;5;231m;[0m[48;5;52m                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 198[34mâ”‚[48;5;52;38;5;231m            [38;5;149mString[38;5;231m memory_file_name [38;5;203m=[38;5;231m dir_name [38;5;203m+[38;5;231m [38;5;186m"/memory.txt"[38;5;231m;[0m[48;5;52m                                                                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 199[34mâ”‚[48;5;52;38;5;231m            [38;5;149mString[38;5;231m all_file_name [38;5;203m=[38;5;231m dir_name [38;5;203m+[38;5;231m [38;5;186m"/all.txt"[38;5;231m;[0m[48;5;52m                                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 200[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 164[34mâ”‚[0m
[34mâ”‚[38;5;238m 201[34mâ”‚[38;5;231m            create_file(write_latency_file_name);[0m                                                                                                   [34mâ”‚[38;5;238m 165[34mâ”‚[38;5;231m            create_file(write_latency_file_name);[0m
[34mâ”‚[38;5;238m 202[34mâ”‚[38;5;231m            create_file(read_latency_file_name);[0m                                                                                                    [34mâ”‚[38;5;238m 166[34mâ”‚[38;5;231m            create_file(read_latency_file_name);[0m
[34mâ”‚[38;5;88m 203[34mâ”‚[48;5;52;38;5;231m            create_file([38;5;149mFPR_file_name[38;5;231m);[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 204[34mâ”‚[48;5;52;38;5;231m            create_file(memory_file_name);[0m[48;5;52m                                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 205[34mâ”‚[48;5;52;38;5;231m            create_file(all_file_name);[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 206[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 167[34mâ”‚[0m
[34mâ”‚[38;5;238m 207[34mâ”‚[38;5;231m            [38;5;203mtry[38;5;231m {[0m                                                                                                                                   [34mâ”‚[38;5;238m 168[34mâ”‚[38;5;231m            [38;5;203mtry[38;5;231m {[0m
[34mâ”‚[38;5;238m 208[34mâ”‚[38;5;231m                [38;5;149mFileWriter[38;5;231m insertion_writer [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mFileWriter[38;5;231m(write_latency_file_name);[0m                                                              [34mâ”‚[38;5;238m 169[34mâ”‚[38;5;231m                [38;5;149mFileWriter[38;5;231m insertion_writer [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mFileWriter[38;5;231m(write_latency_file_name);[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m171[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mPayload_Experiment[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mExperimentsBase[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 210[34mâ”‚[38;5;231m                commas_before [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m                                                                                                                  [34mâ”‚[38;5;238m 171[34mâ”‚[38;5;231m                commas_before [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m
[34mâ”‚[38;5;238m 211[34mâ”‚[38;5;231m                commas_after [38;5;203m=[38;5;231m [38;5;141m5[38;5;231m;[0m                                                                                                                   [34mâ”‚[38;5;238m 172[34mâ”‚[38;5;231m                commas_after [38;5;203m=[38;5;231m [38;5;141m5[38;5;231m;[0m
[34mâ”‚[38;5;238m 212[34mâ”‚[38;5;231m                original_qf_res.print_to_file([38;5;186m"num_entries"[38;5;231m, [38;5;186m"insertion_time"[38;5;231m, commas_before[38;5;203m++[38;5;231m, commas_after[38;5;203m--[38;5;231m, insertion_writer);[0m                  [34mâ”‚[38;5;238m 173[34mâ”‚[38;5;231m                original_qf_res.print_to_file([38;5;186m"num_entries"[38;5;231m, [38;5;186m"insertion_time"[38;5;231m, commas_before[38;5;203m++[38;5;231m, commas_after[38;5;203m--[38;5;231m, insertion_writer);[0m
[34mâ”‚[38;5;88m 213[34mâ”‚[48;5;124;38;5;242m//[48;5;52m                chained_IF_res.print_to_file("num_entries", "insertion_time", commas_before++, commas_after--, insertion_writer);[0m[48;5;52m                 [0m[34mâ”‚[38;5;28m 174[34mâ”‚[48;5;22;38;5;231m                [48;5;28;38;5;242m// [48;5;22mchained_IF_res.print_to_file("num_entries", "insertion_time", commas_before++, commas_after--, insertion_writer);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 214[34mâ”‚[48;5;124;38;5;242m//[48;5;52m                bit_sacrifice_res.print_to_file("num_entries", "insertion_time", commas_before++, commas_after--, insertion_writer);[0m[48;5;52m              [0m[34mâ”‚[38;5;28m 175[34mâ”‚[48;5;22;38;5;231m                [48;5;28;38;5;242m// [48;5;22mbit_sacrifice_res.print_to_file("num_entries", "insertion_time", commas_before++, commas_after--, insertion_writer);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 215[34mâ”‚[48;5;124;38;5;242m//[48;5;52m                geometric_expansion_res.print_to_file("num_entries", "insertion_time", commas_before++, commas_after--, insertion_writer);[0m[48;5;52m        [0m[34mâ”‚[38;5;28m 176[34mâ”‚[48;5;22;38;5;231m                [48;5;28;38;5;242m// [48;5;22mgeometric_expansion_res.print_to_file("num_entries", "insertion_time", commas_before++, commas_after--, insertion_writer);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 216[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// bloom_res.print_to_file("num_entries", "insertion_time", commas_before++, commas_after--, insertion_writer);[0m[48;5;52m                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 217[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// cuckoo_res.print_to_file("num_entries", "insertion_time", commas_before++, commas_after--, insertion_writer);[0m[48;5;52m                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 218[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 177[34mâ”‚[0m
[34mâ”‚[38;5;238m 219[34mâ”‚[38;5;231m                [38;5;242m//System.out.println();[0m                                                                                                             [34mâ”‚[38;5;238m 178[34mâ”‚[38;5;231m                [38;5;242m//System.out.println();[0m
[34mâ”‚[38;5;238m 220[34mâ”‚[38;5;231m                insertion_writer.close();[0m                                                                                                           [34mâ”‚[38;5;238m 179[34mâ”‚[38;5;231m                insertion_writer.close();[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 180[34mâ”‚[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 221[34mâ”‚[38;5;231m                [38;5;149mFileWriter[38;5;231m reads_writer [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mFileWriter[38;5;231m(read_latency_file_name);[0m                                                                   [34mâ”‚[38;5;238m 181[34mâ”‚[38;5;231m                [38;5;149mFileWriter[38;5;231m reads_writer [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mFileWriter[38;5;231m(read_latency_file_name);[0m
[34mâ”‚[38;5;238m 222[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 182[34mâ”‚[0m
[34mâ”‚[38;5;238m 223[34mâ”‚[38;5;231m                commas_before [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m                                                                                                                  [34mâ”‚[38;5;238m 183[34mâ”‚[38;5;231m                commas_before [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m
[34mâ”‚[38;5;238m 224[34mâ”‚[38;5;231m                commas_after [38;5;203m=[38;5;231m [38;5;141m5[38;5;231m;[0m                                                                                                                   [34mâ”‚[38;5;238m 184[34mâ”‚[38;5;231m                commas_after [38;5;203m=[38;5;231m [38;5;141m5[38;5;231m;[0m
[34mâ”‚[38;5;238m 225[34mâ”‚[38;5;231m                original_qf_res.print_to_file([38;5;186m"num_entries"[38;5;231m, [38;5;186m"query_time"[38;5;231m, commas_before[38;5;203m++[38;5;231m, commas_after[38;5;203m--[38;5;231m, reads_writer);[0m                          [34mâ”‚[38;5;238m 185[34mâ”‚[38;5;231m                original_qf_res.print_to_file([38;5;186m"num_entries"[38;5;231m, [38;5;186m"query_time"[38;5;231m, commas_before[38;5;203m++[38;5;231m, commas_after[38;5;203m--[38;5;231m, reads_writer);[0m
[34mâ”‚[38;5;88m 226[34mâ”‚[48;5;124;38;5;242m//[48;5;52m                chained_IF_res.print_to_file("num_entries", "query_time", commas_before++, commas_after--, reads_writer);[0m[48;5;52m                         [0m[34mâ”‚[38;5;28m 186[34mâ”‚[48;5;22;38;5;231m                [48;5;28;38;5;242m// [48;5;22mchained_IF_res.print_to_file("num_entries", "query_time", commas_before++, commas_after--, reads_writer);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 227[34mâ”‚[48;5;124;38;5;242m//[48;5;52m                bit_sacrifice_res.print_to_file("num_entries", "query_time", commas_before++, commas_after--, reads_writer);[0m[48;5;52m                      [0m[34mâ”‚[38;5;28m 187[34mâ”‚[48;5;22;38;5;231m                [48;5;28;38;5;242m// [48;5;22mbit_sacrifice_res.print_to_file("num_entries", "query_time", commas_before++, commas_after--, reads_writer);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 228[34mâ”‚[48;5;124;38;5;242m//[48;5;52m                geometric_expansion_res.print_to_file("num_entries", "query_time", commas_before++, commas_after--, reads_writer);[0m[48;5;52m                [0m[34mâ”‚[38;5;28m 188[34mâ”‚[48;5;22;38;5;231m                [48;5;28;38;5;242m// [48;5;22mgeometric_expansion_res.print_to_file("num_entries", "query_time", commas_before++, commas_after--, reads_writer);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m 229[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// bloom_res.print_to_file("num_entries", "query_time", commas_before++, commas_after--, reads_writer);[0m[48;5;52m                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 230[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// cuckoo_res.print_to_file("num_entries", "query_time", commas_before++, commas_after--, reads_writer);[0m[48;5;52m                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 231[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 232[34mâ”‚[48;5;52;38;5;231m                [38;5;242m//System.out.println();[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 233[34mâ”‚[38;5;231m                reads_writer.close();[0m                                                                                                               [34mâ”‚[38;5;238m 189[34mâ”‚[38;5;231m                reads_writer.close();[0m
[34mâ”‚[38;5;88m 234[34mâ”‚[48;5;52;38;5;231m                [38;5;149mFileWriter[38;5;231m [38;5;149mFPR_writer[38;5;231m [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mFileWriter[38;5;231m([38;5;149mFPR_file_name[38;5;231m);[0m[48;5;52m                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 235[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 236[34mâ”‚[48;5;52;38;5;231m                commas_before [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 237[34mâ”‚[48;5;52;38;5;231m                commas_after [38;5;203m=[38;5;231m [38;5;141m5[38;5;231m;[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 238[34mâ”‚[48;5;52;38;5;231m                original_qf_res.print_to_file([38;5;186m"num_entries"[38;5;231m, [38;5;186m"FPR"[38;5;231m, commas_before[38;5;203m++[38;5;231m, commas_after[38;5;203m--[38;5;231m, [38;5;149mFPR_writer[38;5;231m);[0m[48;5;52m                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 239[34mâ”‚[48;5;52;38;5;242m//                chained_IF_res.print_to_file("num_entries", "FPR", commas_before++, commas_after--, FPR_writer);[0m[48;5;52m                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 240[34mâ”‚[48;5;52;38;5;242m//                bit_sacrifice_res.print_to_file("num_entries", "FPR", commas_before++, commas_after--, FPR_writer);[0m[48;5;52m                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 241[34mâ”‚[48;5;52;38;5;242m//                geometric_expansion_res.print_to_file("num_entries", "FPR", commas_before++, commas_after--, FPR_writer);[0m[48;5;52m                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 242[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// bloom_res.print_to_file("num_entries", "FPR", commas_before++, commas_after--, FPR_writer);[0m[48;5;52m                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 243[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// cuckoo_res.print_to_file("num_entries", "FPR", commas_before++, commas_after--, FPR_writer);[0m[48;5;52m                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 244[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 245[34mâ”‚[48;5;52;38;5;231m                [38;5;149mFPR_writer[38;5;231m.close();[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 246[34mâ”‚[48;5;52;38;5;231m                [38;5;149mFileWriter[38;5;231m mem_writer [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mFileWriter[38;5;231m(memory_file_name);[0m[48;5;52m                                                                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 247[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 248[34mâ”‚[48;5;52;38;5;231m                [38;5;242m//System.out.println();[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 249[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 250[34mâ”‚[48;5;52;38;5;231m                commas_before [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 251[34mâ”‚[48;5;52;38;5;231m                commas_after [38;5;203m=[38;5;231m [38;5;141m5[38;5;231m;[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 252[34mâ”‚[48;5;52;38;5;231m                original_qf_res.print_to_file([38;5;186m"num_entries"[38;5;231m, [38;5;186m"memory"[38;5;231m, commas_before[38;5;203m++[38;5;231m, commas_after[38;5;203m--[38;5;231m, mem_writer);[0m[48;5;52m                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 253[34mâ”‚[48;5;52;38;5;242m//                chained_IF_res.print_to_file("num_entries", "memory", commas_before++, commas_after--, mem_writer);[0m[48;5;52m                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 254[34mâ”‚[48;5;52;38;5;242m//                bit_sacrifice_res.print_to_file("num_entries", "memory", commas_before++, commas_after--, mem_writer);[0m[48;5;52m                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 255[34mâ”‚[48;5;52;38;5;242m//                geometric_expansion_res.print_to_file("num_entries", "memory", commas_before++, commas_after--, mem_writer);[0m[48;5;52m                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 256[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// bloom_res.print_to_file("num_entries", "memory", commas_before++, commas_after--, mem_writer);[0m[48;5;52m                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 257[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// cuckoo_res.print_to_file("num_entries", "memory", commas_before++, commas_after--, mem_writer);[0m[48;5;52m                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 258[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 259[34mâ”‚[48;5;52;38;5;231m                mem_writer.close();[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 260[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 261[34mâ”‚[48;5;52;38;5;231m                [38;5;149mFileWriter[38;5;231m all_writer [38;5;203m=[38;5;231m [38;5;203mnew[38;5;231m [38;5;149mFileWriter[38;5;231m(all_file_name);[0m[48;5;52m                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 262[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 263[34mâ”‚[48;5;52;38;5;231m                commas_before [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 264[34mâ”‚[48;5;52;38;5;231m                commas_after [38;5;203m=[38;5;231m [38;5;141m5[38;5;231m;[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 265[34mâ”‚[48;5;52;38;5;231m                original_qf_res.print_to_file([38;5;186m"num_entries"[38;5;231m, [38;5;186m"insertion_time"[38;5;231m, commas_before[38;5;203m++[38;5;231m, commas_after[38;5;203m--[38;5;231m, all_writer);[0m[48;5;52m                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 266[34mâ”‚[48;5;52;38;5;242m//                chained_IF_res.print_to_file("num_entries", "insertion_time", commas_before++, commas_after--, all_writer);[0m[48;5;52m                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 267[34mâ”‚[48;5;52;38;5;242m//                bit_sacrifice_res.print_to_file("num_entries", "insertion_time", commas_before++, commas_after--, all_writer);[0m[48;5;52m                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 268[34mâ”‚[48;5;52;38;5;242m//                geometric_expansion_res.print_to_file("num_entries", "insertion_time", commas_before++, commas_after--, all_writer);[0m[48;5;52m              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 269[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// bloom_res.print_to_file("num_entries", "insertion_time", commas_before++, commas_after--, all_writer);[0m[48;5;52m                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 270[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// cuckoo_res.print_to_file("num_entries", "insertion_time", commas_before++, commas_after--, all_writer);[0m[48;5;52m                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 271[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 272[34mâ”‚[48;5;52;38;5;231m                all_writer.write([38;5;186m"[38;5;141m\n[38;5;186m"[38;5;231m);[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 273[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 274[34mâ”‚[48;5;52;38;5;231m                commas_before [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 275[34mâ”‚[48;5;52;38;5;231m                commas_after [38;5;203m=[38;5;231m [38;5;141m5[38;5;231m;[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 276[34mâ”‚[48;5;52;38;5;231m                original_qf_res.print_to_file([38;5;186m"num_entries"[38;5;231m, [38;5;186m"query_time"[38;5;231m, commas_before[38;5;203m++[38;5;231m, commas_after[38;5;203m--[38;5;231m, all_writer);[0m[48;5;52m                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 277[34mâ”‚[48;5;52;38;5;242m//                chained_IF_res.print_to_file("num_entries", "query_time", commas_before++, commas_after--, all_writer);[0m[48;5;52m                           [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 278[34mâ”‚[48;5;52;38;5;242m//                bit_sacrifice_res.print_to_file("num_entries", "query_time", commas_before++, commas_after--, all_writer);[0m[48;5;52m                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 279[34mâ”‚[48;5;52;38;5;242m//                geometric_expansion_res.print_to_file("num_entries", "query_time", commas_before++, commas_after--, all_writer);[0m[48;5;52m                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 280[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// bloom_res.print_to_file("num_entries", "query_time", commas_before++, commas_after--, all_writer);[0m[48;5;52m                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 281[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// cuckoo_res.print_to_file("num_entries", "query_time", commas_before++, commas_after--, all_writer);[0m[48;5;52m                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 282[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 283[34mâ”‚[48;5;52;38;5;231m                all_writer.write([38;5;186m"[38;5;141m\n[38;5;186m"[38;5;231m);[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 284[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 285[34mâ”‚[48;5;52;38;5;231m                commas_before [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 286[34mâ”‚[48;5;52;38;5;231m                commas_after [38;5;203m=[38;5;231m [38;5;141m5[38;5;231m;[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 287[34mâ”‚[48;5;52;38;5;231m                original_qf_res.print_to_file([38;5;186m"num_entries"[38;5;231m, [38;5;186m"FPR"[38;5;231m, commas_before[38;5;203m++[38;5;231m, commas_after[38;5;203m--[38;5;231m, all_writer);[0m[48;5;52m                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 288[34mâ”‚[48;5;52;38;5;242m//                chained_IF_res.print_to_file("num_entries", "FPR", commas_before++, commas_after--, all_writer);[0m[48;5;52m                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 289[34mâ”‚[48;5;52;38;5;242m//                bit_sacrifice_res.print_to_file("num_entries", "FPR", commas_before++, commas_after--, all_writer);[0m[48;5;52m                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 290[34mâ”‚[48;5;52;38;5;242m//                geometric_expansion_res.print_to_file("num_entries", "FPR", commas_before++, commas_after--, all_writer);[0m[48;5;52m                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 291[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// bloom_res.print_to_file("num_entries", "FPR", commas_before++, commas_after--, all_writer);[0m[48;5;52m                                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 292[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// cuckoo_res.print_to_file("num_entries", "FPR", commas_before++, commas_after--, all_writer);[0m[48;5;52m                                     [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 293[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 294[34mâ”‚[48;5;52;38;5;231m                all_writer.write([38;5;186m"[38;5;141m\n[38;5;186m"[38;5;231m);[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 295[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 296[34mâ”‚[48;5;52;38;5;231m                commas_before [38;5;203m=[38;5;231m [38;5;141m1[38;5;231m;[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 297[34mâ”‚[48;5;52;38;5;231m                commas_after [38;5;203m=[38;5;231m [38;5;141m5[38;5;231m;[0m[48;5;52m                                                                                                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 298[34mâ”‚[48;5;52;38;5;231m                original_qf_res.print_to_file([38;5;186m"num_entries"[38;5;231m, [38;5;186m"memory"[38;5;231m, commas_before[38;5;203m++[38;5;231m, commas_after[38;5;203m--[38;5;231m, all_writer);[0m[48;5;52m                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 299[34mâ”‚[48;5;52;38;5;242m//                chained_IF_res.print_to_file("num_entries", "memory", commas_before++, commas_after--, all_writer);[0m[48;5;52m                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 300[34mâ”‚[48;5;52;38;5;242m//                bit_sacrifice_res.print_to_file("num_entries", "memory", commas_before++, commas_after--, all_writer);[0m[48;5;52m                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 301[34mâ”‚[48;5;52;38;5;242m//                geometric_expansion_res.print_to_file("num_entries", "memory", commas_before++, commas_after--, all_writer);[0m[48;5;52m                      [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 302[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// bloom_res.print_to_file("num_entries", "memory", commas_before++, commas_after--, all_writer);[0m[48;5;52m                                   [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 303[34mâ”‚[48;5;52;38;5;231m                [38;5;242m// cuckoo_res.print_to_file("num_entries", "memory", commas_before++, commas_after--, all_writer);[0m[48;5;52m                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 304[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 305[34mâ”‚[48;5;52;38;5;231m                all_writer.close();[0m[48;5;52m                                                                                                                 [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 306[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 190[34mâ”‚[0m
[34mâ”‚[38;5;238m 307[34mâ”‚[38;5;231m                [38;5;149mSystem[38;5;231m.out.println([38;5;186m"Successfully wrote to the files."[38;5;231m);[0m                                                                             [34mâ”‚[38;5;238m 191[34mâ”‚[38;5;231m                [38;5;149mSystem[38;5;231m.out.println([38;5;186m"Successfully wrote to the files."[38;5;231m);[0m
[34mâ”‚[38;5;238m 308[34mâ”‚[38;5;231m            } [38;5;203mcatch[38;5;231m ([38;5;149mIOException[38;5;231m [38;5;208me[38;5;231m) {[0m                                                                                                               [34mâ”‚[38;5;238m 192[34mâ”‚[38;5;231m            } [38;5;203mcatch[38;5;231m ([38;5;149mIOException[38;5;231m [38;5;208me[38;5;231m) {[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m198[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mPayload_Experiment[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mExperimentsBase[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 314[34mâ”‚[38;5;231m    }[0m                                                                                                                                               [34mâ”‚[38;5;238m 198[34mâ”‚[38;5;231m    }[0m
[34mâ”‚[38;5;238m 315[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 199[34mâ”‚[0m
[34mâ”‚[38;5;238m 316[34mâ”‚[38;5;231m    [38;5;203mstatic[38;5;231m [38;5;203mpublic[38;5;231m void scalability_experiment([38;5;149mFilter[38;5;231m qf, [38;5;81mlong[38;5;231m initial_key, [38;5;81mlong[38;5;231m end_key, baseline results) {[0m                                        [34mâ”‚[38;5;238m 200[34mâ”‚[38;5;231m    [38;5;203mstatic[38;5;231m [38;5;203mpublic[38;5;231m void scalability_experiment([38;5;149mFilter[38;5;231m qf, [38;5;81mlong[38;5;231m initial_key, [38;5;81mlong[38;5;231m end_key, baseline results) {[0m
[34mâ”‚[38;5;88m 317[34mâ”‚[48;5;52;38;5;231m        [38;5;81mint[38;5;231m num_queries [38;5;203m=[38;5;231m [38;5;141m1000000[38;5;231m;[0m[48;5;52m                                                                                                                  [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 318[34mâ”‚[48;5;52;38;5;231m        [38;5;81mint[38;5;231m query_index [38;5;203m=[38;5;231m [38;5;149mInteger[38;5;231m.[38;5;141mMAX_VALUE[38;5;231m;[0m[48;5;52m                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 319[34mâ”‚[38;5;231m        [38;5;81mint[38;5;231m num_false_positives [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m                                                                                                                [34mâ”‚[38;5;238m 201[34mâ”‚[38;5;231m        [38;5;81mint[38;5;231m num_false_positives [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m;[0m
[34mâ”‚[38;5;238m 320[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 202[34mâ”‚[0m
[34mâ”‚[38;5;238m 321[34mâ”‚[38;5;231m        [38;5;242m// Generate random payloads before starting the time measurement[0m                                                                            [34mâ”‚[38;5;238m 203[34mâ”‚[38;5;231m        [38;5;242m// Generate random payloads before starting the time measurement[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m225[0m:[38;5;231m [38;5;203mpublic[38;5;231m [38;5;81mclass[38;5;231m [38;5;81mPayload_Experiment[38;5;231m [38;5;203mextends[38;5;231m [38;5;149mExperimentsBase[38;5;231m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[34mâ”‚[38;5;238m 343[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 225[34mâ”‚[0m
[34mâ”‚[38;5;238m 344[34mâ”‚[38;5;231m        [38;5;81mlong[38;5;231m end_insertions [38;5;203m=[38;5;231m [38;5;149mSystem[38;5;231m.nanoTime();[0m                                                                                                    [34mâ”‚[38;5;238m 226[34mâ”‚[38;5;231m        [38;5;81mlong[38;5;231m end_insertions [38;5;203m=[38;5;231m [38;5;149mSystem[38;5;231m.nanoTime();[0m
[34mâ”‚[38;5;238m 345[34mâ”‚[38;5;231m        [38;5;81mlong[38;5;231m start_queries [38;5;203m=[38;5;231m [38;5;149mSystem[38;5;231m.nanoTime();[0m                                                                                                     [34mâ”‚[38;5;238m 227[34mâ”‚[38;5;231m        [38;5;81mlong[38;5;231m start_queries [38;5;203m=[38;5;231m [38;5;149mSystem[38;5;231m.nanoTime();[0m
[34mâ”‚[38;5;88m 346[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 347[34mâ”‚[48;5;52;38;5;231m        [38;5;203mfor[38;5;231m ([38;5;81mint[38;5;231m i [38;5;203m=[38;5;231m [38;5;141m0[38;5;231m; i [38;5;203m<[38;5;231m num_queries [38;5;203m||[38;5;231m num_false_positives [38;5;203m<[38;5;231m [38;5;141m10[38;5;231m; i[38;5;203m++[38;5;231m) {[0m[48;5;52m                                                                         [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 348[34mâ”‚[48;5;52;38;5;231m            [38;5;81mboolean[38;5;231m found [38;5;203m=[38;5;231m qf.search(query_index[38;5;203m--[38;5;231m);[0m[48;5;52m                                                                                               [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 349[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (found) {[0m[48;5;52m                                                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 350[34mâ”‚[48;5;52;38;5;231m                num_false_positives[38;5;203m++[38;5;231m;[0m[48;5;52m                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 351[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 352[34mâ”‚[48;5;52;38;5;231m            [38;5;203mif[38;5;231m (i [38;5;203m>[38;5;231m num_queries [38;5;203m*[38;5;231m [38;5;141m10[38;5;231m) {[0m[48;5;52m                                                                                                             [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 353[34mâ”‚[48;5;52;38;5;231m                [38;5;203mbreak[38;5;231m;[0m[48;5;52m                                                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 354[34mâ”‚[48;5;52;38;5;231m            }[0m[48;5;52m                                                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 228[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m read_this [38;5;203m=[38;5;231m initial_num_entries;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 229[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m start_key;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 230[34mâ”‚[48;5;22;38;5;231m        [38;5;203mfor[38;5;231m (start_key [38;5;203m=[38;5;231m read_this; start_key [38;5;203m<=[38;5;231m end_key; start_key[38;5;203m++[38;5;231m) {[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 231[34mâ”‚[48;5;22;38;5;231m            [38;5;81mlong[38;5;203m[][][38;5;231m found_payloads [38;5;203m=[38;5;231m qf.search_for_payloads(start_key);[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 355[34mâ”‚[38;5;231m        }[0m                                                                                                                                           [34mâ”‚[38;5;238m 232[34mâ”‚[38;5;231m        }[0m
[34mâ”‚[38;5;88m 356[34mâ”‚[48;5;52;38;5;231m        num_queries [38;5;203m=[38;5;231m [38;5;149mInteger[38;5;231m.[38;5;141mMAX_VALUE[38;5;231m [38;5;203m-[38;5;231m query_index;[0m[48;5;52m                                                                                              [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 357[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m    [34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;28m 233[34mâ”‚[48;5;22;38;5;231m        [38;5;81mlong[38;5;231m num_queries [38;5;203m=[38;5;231m start_key [38;5;203m-[38;5;231m read_this;[0m[48;5;22m[0K[0m
[34mâ”‚[38;5;238m 358[34mâ”‚[38;5;231m        [38;5;81mlong[38;5;231m end_queries [38;5;203m=[38;5;231m [38;5;149mSystem[38;5;231m.nanoTime();[0m                                                                                                       [34mâ”‚[38;5;238m 234[34mâ”‚[38;5;231m        [38;5;81mlong[38;5;231m end_queries [38;5;203m=[38;5;231m [38;5;149mSystem[38;5;231m.nanoTime();[0m
[34mâ”‚[38;5;238m 359[34mâ”‚[38;5;231m        [38;5;81mdouble[38;5;231m avg_insertions [38;5;203m=[38;5;231m (end_insertions [38;5;203m-[38;5;231m start_insertions) [38;5;203m/[38;5;231m ([38;5;81mdouble[38;5;231m) (insertion_index [38;5;203m-[38;5;231m initial_num_entries);[0m                             [34mâ”‚[38;5;238m 235[34mâ”‚[38;5;231m        [38;5;81mdouble[38;5;231m avg_insertions [38;5;203m=[38;5;231m (end_insertions [38;5;203m-[38;5;231m start_insertions) [38;5;203m/[38;5;231m ([38;5;81mdouble[38;5;231m) (insertion_index [38;5;203m-[38;5;231m initial_num_entries);[0m
[34mâ”‚[38;5;238m 360[34mâ”‚[38;5;231m        [38;5;81mdouble[38;5;231m avg_queries [38;5;203m=[38;5;231m (end_queries [38;5;203m-[38;5;231m start_queries) [38;5;203m/[38;5;231m ([38;5;81mdouble[38;5;231m) num_queries;[0m                                                                  [34mâ”‚[38;5;238m 236[34mâ”‚[38;5;231m        [38;5;81mdouble[38;5;231m avg_queries [38;5;203m=[38;5;231m (end_queries [38;5;203m-[38;5;231m start_queries) [38;5;203m/[38;5;231m ([38;5;81mdouble[38;5;231m) num_queries;[0m
[34mâ”‚[38;5;88m 361[34mâ”‚[48;5;52;38;5;231m        [38;5;81mdouble[38;5;231m [38;5;141mFPR[38;5;231m [38;5;203m=[38;5;231m num_false_positives [38;5;203m/[38;5;231m ([38;5;81mdouble[38;5;231m) num_queries;[0m[48;5;52m                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 362[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//int num_slots = (1 << qf.power_of_two_size) - 1;[0m[48;5;52m                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 363[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//double utilization = qf.get_utilization();[0m[48;5;52m                                                                                                [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 364[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 365[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//double num_entries = qf.get_num_entries(true);[0m[48;5;52m                                                                                            [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 366[34mâ”‚[38;5;231m        [38;5;81mdouble[38;5;231m num_entries [38;5;203m=[38;5;231m qf.get_num_occupied_slots([38;5;141mtrue[38;5;231m);[0m                                                                                       [34mâ”‚[38;5;238m 237[34mâ”‚[38;5;231m        [38;5;81mdouble[38;5;231m num_entries [38;5;203m=[38;5;231m qf.get_num_occupied_slots([38;5;141mtrue[38;5;231m);[0m
[34mâ”‚[38;5;238m 367[34mâ”‚[0m                                                                                                                                                    [34mâ”‚[38;5;238m 238[34mâ”‚[0m
[34mâ”‚[38;5;238m 368[34mâ”‚[38;5;231m        results.metrics.get([38;5;186m"num_entries"[38;5;231m).add(num_entries);[0m                                                                                        [34mâ”‚[38;5;238m 239[34mâ”‚[38;5;231m        results.metrics.get([38;5;186m"num_entries"[38;5;231m).add(num_entries);[0m
[34mâ”‚[38;5;238m 369[34mâ”‚[38;5;231m        results.metrics.get([38;5;186m"insertion_time"[38;5;231m).add(avg_insertions);[0m                                                                                  [34mâ”‚[38;5;238m 240[34mâ”‚[38;5;231m        results.metrics.get([38;5;186m"insertion_time"[38;5;231m).add(avg_insertions);[0m
[34mâ”‚[38;5;238m 370[34mâ”‚[38;5;231m        results.metrics.get([38;5;186m"query_time"[38;5;231m).add(avg_queries);[0m                                                                                         [34mâ”‚[38;5;238m 241[34mâ”‚[38;5;231m        results.metrics.get([38;5;186m"query_time"[38;5;231m).add(avg_queries);[0m
[34mâ”‚[38;5;88m 371[34mâ”‚[48;5;52;38;5;231m        results.metrics.get([38;5;186m"FPR"[38;5;231m).add([38;5;141mFPR[38;5;231m);[0m[48;5;52m                                                                                                        [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 372[34mâ”‚[48;5;52;38;5;231m        [38;5;81mdouble[38;5;231m bits_per_entry [38;5;203m=[38;5;231m qf.measure_num_bits_per_entry();[0m[48;5;52m                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 373[34mâ”‚[48;5;52;38;5;231m        [38;5;242m//System.out.println(bits_per_entry);[0m[48;5;52m                                                                                                       [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 374[34mâ”‚[48;5;52;38;5;231m        results.metrics.get([38;5;186m"memory"[38;5;231m).add(bits_per_entry);[0m[48;5;52m                                                                                          [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;88m 375[34mâ”‚[0m[48;5;52m                                                                                                                                                    [0m[34mâ”‚[38;5;28m    [34mâ”‚[0m
[34mâ”‚[38;5;238m 376[34mâ”‚[38;5;231m    }[0m                                                                                                                                               [34mâ”‚[38;5;238m 242[34mâ”‚[38;5;231m    }[0m
[34mâ”‚[38;5;238m 377[34mâ”‚[38;5;231m}[0m                                                                                                                                                   [34mâ”‚[38;5;238m 243[34mâ”‚[38;5;231m}[0m
